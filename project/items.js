var items_296f5d02_12fd_4166_a7c1_b5e830c9ee3a = 
{
	"items": {
		"yellowKey": {
			"cls": "keys",
			"name": "黄钥匙"
		},
		"blueKey": {
			"cls": "keys",
			"name": "蓝钥匙"
		},
		"redKey": {
			"cls": "keys",
			"name": "红钥匙"
		},
		"redJewel": {
			"cls": "items",
			"name": "一级红宝石",
			"text": "'，攻击+'+core.values.redJewel"
		},
		"blueJewel": {
			"cls": "items",
			"name": "一级蓝宝石",
			"text": "'，防御+'+core.values.blueJewel"
		},
		"greenJewel": {
			"cls": "items",
			"name": "一级绿宝石",
			"text": "'，护盾+'+core.values.greenJewel"
		},
		"yellowJewel": {
			"cls": "items",
			"name": "一级黄宝石",
			"text": "'，生命、生命上限+'+core.values.yellowJewel"
		},
		"redPotion": {
			"cls": "items",
			"name": "红血瓶",
			"text": "'，生命+'+core.values.redPotion"
		},
		"bluePotion": {
			"cls": "items",
			"name": "蓝血瓶",
			"text": "'，生命+'+core.values.bluePotion"
		},
		"yellowPotion": {
			"cls": "items",
			"name": "黄血瓶",
			"text": "'生命+'+core.values.yellowPotion"
		},
		"greenPotion": {
			"cls": "items",
			"name": "绿血瓶",
			"text": "'，生命+'+core.values.greenPotion"
		},
		"sword0": {
			"cls": "items",
			"name": "破旧的剑",
			"text": "一把已经生锈的剑",
			"equip": {
				"type": 0,
				"atk": 0,
				"animate": "sword"
			}
		},
		"sword1": {
			"cls": "items",
			"name": "铁剑",
			"text": "一把很普通的铁剑",
			"equip": {
				"type": 0,
				"atk": 10,
				"animate": "sword"
			}
		},
		"sword2": {
			"cls": "items",
			"name": "银剑",
			"text": "一把很普通的银剑",
			"equip": {
				"type": 0,
				"atk": 20,
				"animate": "sword"
			}
		},
		"sword3": {
			"cls": "items",
			"name": "骑士剑",
			"text": "一把很普通的骑士剑",
			"equip": {
				"type": 0,
				"atk": 40,
				"animate": "sword"
			}
		},
		"sword4": {
			"cls": "items",
			"name": "圣剑",
			"text": "一把很普通的圣剑",
			"equip": {
				"type": 0,
				"atk": 80,
				"animate": "sword"
			}
		},
		"sword5": {
			"cls": "items",
			"name": "神圣剑",
			"text": "一把很普通的神圣剑",
			"equip": {
				"type": 0,
				"atk": 100,
				"animate": "sword"
			}
		},
		"shield0": {
			"cls": "constants",
			"name": "[被动]高级护盾",
			"text": "每1点护盾可以在战斗中抵挡${flag:mdef_ratio}点伤害",
			"equip": null
		},
		"shield1": {
			"cls": "constants",
			"name": "青岚盾（一阶）",
			"text": "【被动效果】抵抗净化效果。净化效果变为5倍。",
			"equip": {
				"type": "无需装备"
			}
		},
		"shield2": {
			"cls": "constants",
			"name": "青岚盾（二阶）",
			"text": "【被动效果】抵抗净化效果。净化效果变为4倍。",
			"equip": {
				"type": "无需装备"
			}
		},
		"shield3": {
			"cls": "constants",
			"name": "青岚盾（三阶）",
			"text": "【被动效果】抵抗净化效果。净化效果变为3倍。",
			"equip": {
				"type": "无需装备"
			}
		},
		"shield4": {
			"cls": "constants",
			"name": "青岚盾（四阶）",
			"text": "【被动效果】抵抗净化效果。净化效果变为2倍。",
			"equip": {
				"type": "无需装备"
			}
		},
		"shield5": {
			"cls": "constants",
			"name": "青岚盾（五阶）",
			"text": "【被动效果】抵抗净化效果。净化效果变为1倍。",
			"equip": {
				"type": "无需装备"
			}
		},
		"superPotion": {
			"cls": "items",
			"name": "圣水"
		},
		"moneyPocket": {
			"cls": "items",
			"name": "金钱袋"
		},
		"book": {
			"cls": "constants",
			"name": "怪物手册",
			"text": "用意志侦测对方的能力。"
		},
		"fly": {
			"cls": "constants",
			"name": "楼层传送器",
			"text": "可以自由往来去过的楼层",
			"hideInReplay": true
		},
		"snow": {
			"cls": "constants",
			"name": "冰冻徽章",
			"text": "可以将面前的熔岩变成平地"
		},
		"cross": {
			"cls": "constants",
			"name": "十字架",
			"text": "持有后无视怪物的无敌属性"
		},
		"knife": {
			"cls": "constants",
			"name": "屠龙匕首",
			"text": "该道具尚未被定义"
		},
		"shoes": {
			"cls": "constants",
			"name": "绿鞋",
			"text": "持有时无视负面地形"
		},
		"bigKey": {
			"cls": "tools",
			"name": "大黄门钥匙",
			"text": "可以开启当前层所有黄门"
		},
		"greenKey": {
			"cls": "tools",
			"name": "绿钥匙",
			"text": "可以打开一扇绿门"
		},
		"steelKey": {
			"cls": "tools",
			"name": "铁门钥匙",
			"text": "可以打开一扇铁门"
		},
		"pickaxe": {
			"cls": "tools",
			"name": "破墙镐",
			"text": "可以破坏勇士面前的墙。快捷键是1。"
		},
		"icePickaxe": {
			"cls": "tools",
			"name": "破冰镐",
			"text": "可以破坏勇士面前的一堵冰墙"
		},
		"bomb": {
			"cls": "tools",
			"name": "炸弹",
			"text": "可以炸掉勇士面前的怪物"
		},
		"centerFly": {
			"cls": "tools",
			"name": "中心对称飞行器",
			"text": "可以飞向当前楼层中心对称的位置"
		},
		"upFly": {
			"cls": "tools",
			"name": "上楼器",
			"text": "可以飞往楼上的相同位置"
		},
		"downFly": {
			"cls": "tools",
			"name": "下楼器",
			"text": "可以飞往楼下的相同位置"
		},
		"earthquake": {
			"cls": "tools",
			"name": "地震卷轴",
			"text": "可以破坏当前层的所有墙"
		},
		"poisonWine": {
			"cls": "tools",
			"name": "解毒药水",
			"text": "可以解除中毒状态"
		},
		"weakWine": {
			"cls": "tools",
			"name": "解衰药水",
			"text": "可以解除衰弱状态"
		},
		"superWine": {
			"cls": "tools",
			"name": "万能药水",
			"text": "可以解除所有不良状态"
		},
		"hammer": {
			"cls": "tools",
			"name": "圣锤",
			"text": "可以炸掉勇士面前的怪物"
		},
		"jumpShoes": {
			"cls": "tools",
			"name": "跳跃靴",
			"text": "能跳跃到前方两格的空地上。使用后减少2层冲锋效果。"
		},
		"skill1": {
			"cls": "constants",
			"name": "技能：强击",
			"text": "消耗${flag:skill1_cost}点魔法，首回合额外造成${flag:skill1_val-1}倍攻击的伤害。快捷键为2。",
			"hideInReplay": false
		},
		"I331": {
			"cls": "items",
			"name": "新物品"
		},
		"I341": {
			"cls": "constants",
			"name": "[被动]回复魔法",
			"text": "每场战斗后回复${flag:mana_regen}点魔法"
		},
		"I342": {
			"cls": "items",
			"name": "新物品"
		},
		"I_ex_atk": {
			"cls": "constants",
			"name": "吸攻（切换技能）",
			"text": "攻击增加，数值等于上场战斗敌方攻击的10%。可以切换至防御形态。按1快捷切换。",
			"hideInReplay": true
		},
		"I_ex_def": {
			"cls": "constants",
			"name": "吸防（切换技能）",
			"text": "防御增加，数值等于上场战斗敌方防御的20%。可以切换至攻击形态。按1快捷切换。",
			"hideInReplay": true
		},
		"I_vampire": {
			"cls": "constants",
			"name": "[被动]吸血",
			"text": "战斗中造成伤害的${flag:vampire_ratio*100}%治疗自身"
		},
		"I349": {
			"cls": "items",
			"name": "二级红宝石",
			"text": null
		},
		"I350": {
			"cls": "items",
			"name": "二级蓝宝石"
		},
		"I351": {
			"cls": "items",
			"name": "二级绿宝石"
		},
		"I352": {
			"cls": "items",
			"name": "二级黄宝石"
		},
		"I353": {
			"cls": "items",
			"name": "三级红宝石"
		},
		"I354": {
			"cls": "items",
			"name": "三级蓝宝石"
		},
		"I355": {
			"cls": "items",
			"name": "三级绿宝石"
		},
		"I356": {
			"cls": "items",
			"name": "三级黄宝石"
		},
		"I357": {
			"cls": "items",
			"name": "四级红宝石"
		},
		"I358": {
			"cls": "items",
			"name": "四级蓝宝石"
		},
		"I359": {
			"cls": "items",
			"name": "四级绿宝石"
		},
		"I360": {
			"cls": "items",
			"name": "四级黄宝石"
		},
		"I_charge": {
			"cls": "constants",
			"name": "[被动]次级冲锋",
			"text": "向同一方向连续移动后攻击力提升，战斗后或者进行瞬移后效果消失。每移动一步攻击力提升${flag:charge_point}点。"
		},
		"I_charge2": {
			"cls": "constants",
			"name": "[被动]冲锋！",
			"text": "向同一方向连续移动后攻击力提升，战斗后效果不消失。每移动一步攻击力提升基础数值的${(100*flag:charge_ratio).toFixed(1)}%。"
		},
		"I_hp_score": {
			"cls": "constants",
			"name": "溢出HP统计",
			"text": "当前已溢出生命值${flag:hp_score}点。可以用来计分。"
		},
		"I380": {
			"cls": "items",
			"name": "魔法结晶"
		},
		"skill2": {
			"cls": "constants",
			"name": "技能：防御",
			"text": "消耗${flag:skill2_cost}点魔法，减少${(flag:skill2_atk_ratio*100).toFixed(0)}%的攻击，将减少数值的${flag:skill2_def_ratio*100}%转化为防御。快捷键为3。"
		},
		"skill3": {
			"cls": "constants",
			"name": "感受温暖",
			"text": "感受小姐姐释放的温暖。消耗${flag:skill3_cost}点魔法，驱除所有严寒诅咒状态。快捷键为4。"
		},
		"I_hard_1": {
			"cls": "constants",
			"name": "乱撞难度",
			"text": "你正在游玩乱撞难度！免疫地图伤害，战斗伤害减少50%。（注：负伤害也会减少）"
		},
		"I_hard_2": {
			"cls": "constants",
			"name": "简单难度",
			"text": "你正在游玩简单难度！战斗伤害减少20%。（注：负伤害也会减少）"
		},
		"I454": {
			"cls": "items",
			"name": "大红血瓶",
			"text": null
		},
		"I455": {
			"cls": "items",
			"name": "大蓝血瓶"
		},
		"I456": {
			"cls": "items",
			"name": "大黄血瓶"
		},
		"I457": {
			"cls": "items",
			"name": "大绿血瓶"
		},
		"skill4": {
			"cls": "constants",
			"name": "【红海技能】撕裂",
			"text": "消耗${flag:skill4_cost}点魔法，使对方每回合开始时流失${flag:skill4_val}%的当前生命。此伤害可以触发【吸血】效果。快捷键为4。"
		},
		"I458": {
			"cls": "tools",
			"name": "毒雾结晶",
			"text": "毒雾沼泽的特产。"
		},
		"I459": {
			"cls": "tools",
			"name": "毒素精华",
			"text": "1000个毒素精华可以合成为1个毒雾结晶。"
		},
		"I462": {
			"cls": "tools",
			"name": "便携式小莱姆",
			"text": "在面前放置一个便携小莱姆"
		},
		"tome": {
			"cls": "tools",
			"name": "知识之书",
			"text": "《拆塔心理学浅谈》，似乎还有非浅谈的版本"
		},
		"coin": {
			"cls": "tools",
			"name": "金币",
			"text": "红海战场上通用的货币"
		},
		"expelPoison": {
			"cls": "constants",
			"name": "清洁术",
			"text": "消耗${flag:expelPoison_cost}点魔法，驱除所有中毒效果，并按照驱除层数获得毒素精华。"
		},
		"bring_hp": {
			"cls": "tools",
			"name": "便携式血瓶",
			"text": "便于携带的血瓶，使用可以回复${flag:bring_hp_val}生命。境界越高效果越好。快捷键是1。"
		},
		"bring_mana": {
			"cls": "tools",
			"name": "便携式蓝瓶",
			"text": "便于携带的蓝瓶，使用可以回复50魔法。快捷键是F2。"
		},
		"I476": {
			"cls": "equips",
			"name": "抑郁石",
			"equip": {
				"type": "饰品",
				"hpmax": -20,
				"percentage": true
			},
			"hideInReplay": false,
			"text": "抑制生命活力的怪石。生命上限降低20%。只能在当前生命值不会超出减少后的生命上限时装备。"
		},
		"invisibleWine": {
			"cls": "tools",
			"name": "隐身药水",
			"text": "进入隐身状态，暂时不会受到地图伤害特技以及捕捉影响。战斗后失效。"
		},
		"talent": {
			"cls": "constants",
			"name": "学习天赋",
			"text": "打开天赋学习列表。目前有${flag:talentPoint}个天赋点。"
		},
		"execute": {
			"cls": "constants",
			"name": "[被动]斩杀",
			"text": "战斗中，当敌人生命值小于${flag:execute_percentage}%时，每回合造成${flag:execute_atk_percentage}%的额外伤害。"
		},
		"I483": {
			"cls": "items",
			"name": "神秘卷轴"
		},
		"smallJump": {
			"cls": "constants",
			"name": "[地图技能]跳跃",
			"text": "消耗${flag:smallJump_cost}点魔法，跳跃到前方一格的空地上，并减少1层冲锋效果。快捷键是W。"
		},
		"c_charge": {
			"cls": "constants",
			"name": "势如破竹",
			"text": "每次战斗后额外叠加${flag:charge2_battle_extra}层冲锋。最多通过此效果获得${flag:charge2_battle_extra_max}层冲锋。\n当前通过此效果叠加了${flag:charge2_battle_extra_cur}层冲锋。"
		},
		"talentPoint": {
			"cls": "tools",
			"name": "天赋点",
			"text": "可以用来学习天赋，或者留到最后算分"
		},
		"I536": {
			"cls": "items",
			"name": "魔法结晶",
			"text": "血海篇的魔法结晶，效果是正常版的10%"
		},
		"I_morph": {
			"cls": "constants",
			"name": "【血海奥义】魔化",
			"text": "消耗${flag:skill5_cost}点魔法，进入魔化状态，提升${flag:skill5_hpmax}点生命及生命上限、${flag:skill5_atk}点攻击力和${flag:skill5_def}点防御力，并暂时免疫地图伤害，持续${flag:skill5_duration}次战斗。效果结束后需要经过${flag:skill5_cooldown}次战斗才能再次使用。快捷键为5。"
		},
		"I_morphed": {
			"cls": "constants",
			"name": "【血海奥义】魔化",
			"text": "你正处于魔化状态，让敌人感受真正的恐怖吧！\n剩余战斗次数：${flag:morph_duration}"
		},
		"I_morph_cooldown": {
			"cls": "constants",
			"name": "魔化冷却中...",
			"text": "还需要${flag:morph_cooldown}次战斗才能再使用【魔化】。"
		}
	},
	"itemEffect": {
		"redJewel": "core.status.hero.atk += core.values.redJewel * ratio",
		"blueJewel": "core.status.hero.def += core.values.blueJewel * ratio",
		"greenJewel": "core.status.hero.mdef += core.values.greenJewel * ratio",
		"yellowJewel": "core.status.hero.hpmax += core.values.yellowJewel * ratio;\ncore.status.hero.hp += core.values.yellowJewel * ratio;",
		"redPotion": "var heal = core.values.redPotion * ratio;\ncore.insertAction({ \"type\": \"insert\", \"name\": \"增加HP\", \"args\": [heal] });",
		"bluePotion": "var heal = core.values.bluePotion * ratio;\ncore.insertAction({ \"type\": \"insert\", \"name\": \"增加HP\", \"args\": [heal] });",
		"yellowPotion": "var heal = core.values.yellowPotion * ratio;\ncore.insertAction({ \"type\": \"insert\", \"name\": \"增加HP\", \"args\": [heal] });",
		"greenPotion": "var heal = core.values.greenPotion * ratio;\ncore.insertAction({ \"type\": \"insert\", \"name\": \"增加HP\", \"args\": [heal] });",
		"sword0": "core.status.hero.atk += 0",
		"sword1": "core.status.hero.atk += 10",
		"sword2": "core.status.hero.atk += 20",
		"sword3": "core.status.hero.atk += 40",
		"sword4": "core.status.hero.atk += 80",
		"sword5": "core.status.hero.atk += 100",
		"shield0": null,
		"shield1": null,
		"shield2": null,
		"shield3": null,
		"shield4": null,
		"shield5": null,
		"bigKey": "core.status.hero.items.keys.yellowKey++;core.status.hero.items.keys.blueKey++;core.status.hero.items.keys.redKey++;",
		"superPotion": "core.status.hero.hp *= 2",
		"moneyPocket": "core.status.hero.money += 500",
		"I349": "core.status.hero.atk += core.values.redJewel * ratio * 2",
		"I350": "core.status.hero.def += core.values.blueJewel * ratio * 2",
		"I351": "core.status.hero.mdef += core.values.greenJewel * ratio * 2",
		"I352": "core.status.hero.hpmax += core.values.yellowJewel * ratio * 2;\ncore.status.hero.hp += core.values.yellowJewel * ratio * 2;",
		"I353": "core.status.hero.atk += core.values.redJewel * ratio * 4",
		"I357": "core.status.hero.atk += core.values.redJewel * ratio * 8",
		"I354": "core.status.hero.def += core.values.blueJewel * ratio * 4",
		"I358": "core.status.hero.def += core.values.blueJewel * ratio * 8",
		"I355": "core.status.hero.mdef += core.values.greenJewel * ratio * 4",
		"I359": "core.status.hero.mdef += core.values.greenJewel * ratio * 8",
		"I356": "core.status.hero.hpmax += core.values.yellowJewel * ratio * 4;\ncore.status.hero.hp += core.values.yellowJewel * ratio * 4;",
		"I360": "core.status.hero.hpmax += core.values.yellowJewel * ratio * 8;\ncore.status.hero.hp += core.values.yellowJewel * ratio * 8;",
		"I380": "core.status.hero.mana += core.values.manaCrystal * ratio",
		"I454": "var heal = core.values.redPotion * 10 * ratio;\ncore.insertAction({ \"type\": \"insert\", \"name\": \"增加HP\", \"args\": [heal] });",
		"I455": "var heal = core.values.bluePotion * 10 * ratio;\ncore.insertAction({ \"type\": \"insert\", \"name\": \"增加HP\", \"args\": [heal] });",
		"I456": "var heal = core.values.yellowPotion * 10 * ratio;\ncore.insertAction({ \"type\": \"insert\", \"name\": \"增加HP\", \"args\": [heal] });",
		"I457": "var heal = core.values.greenPotion * 10 * ratio;\ncore.insertAction({ \"type\": \"insert\", \"name\": \"增加HP\", \"args\": [heal] });",
		"I536": "core.status.hero.mana += core.values.manaCrystal * ratio * 0.1"
	},
	"itemEffectTip": {
		"redJewel": "'，攻击+'+core.values.redJewel * ratio",
		"blueJewel": "'，防御+'+core.values.blueJewel * ratio",
		"greenJewel": "'，护盾+'+core.values.greenJewel * ratio",
		"yellowJewel": "'，生命、生命上限+'+core.values.yellowJewel * ratio",
		"redPotion": "'，生命+'+core.values.redPotion * ratio",
		"bluePotion": "'，生命+'+core.values.bluePotion * ratio",
		"yellowPotion": "'，生命+'+core.values.yellowPotion * ratio",
		"greenPotion": "'，生命+'+core.values.greenPotion * ratio",
		"sword0": "'，攻击+0'",
		"sword1": "'，攻击+10'",
		"sword2": "'，攻击+20'",
		"sword3": "'，攻击+40'",
		"sword4": "'，攻击+80'",
		"sword5": "'，攻击+100'",
		"shield0": null,
		"shield1": null,
		"shield2": null,
		"shield3": null,
		"shield4": null,
		"shield5": null,
		"bigKey": "'，全钥匙+1'",
		"superPotion": "'，生命值翻倍'",
		"moneyPocket": "'，金币+500'",
		"I349": "'，攻击+'+core.values.redJewel * ratio * 2",
		"I350": "'，防御+'+core.values.blueJewel * ratio * 2",
		"I351": "'，护盾+'+core.values.greenJewel * ratio * 2",
		"I352": "'，生命、生命上限+'+core.values.yellowJewel * ratio * 2",
		"I353": "'，攻击+'+core.values.redJewel * ratio * 4",
		"I357": "'，攻击+'+core.values.redJewel * ratio * 8",
		"I354": "'，防御+'+core.values.blueJewel * ratio * 4",
		"I358": "'，防御+'+core.values.blueJewel * ratio * 8",
		"I355": "'，护盾+'+core.values.greenJewel * ratio * 4",
		"I359": "'，护盾+'+core.values.greenJewel * ratio * 8",
		"I356": "'，生命、生命上限+'+core.values.yellowJewel * ratio * 4",
		"I360": "'，生命、生命上限+'+core.values.yellowJewel * ratio * 4",
		"I380": "'，魔法+'+core.values.manaCrystal * ratio",
		"I454": "'，生命+'+core.values.redPotion*10*ratio",
		"I455": "'，生命+'+core.values.bluePotion*10*ratio",
		"I456": "'，生命+'+core.values.yellowPotion*10*ratio",
		"I457": "'，生命+'+core.values.greenPotion*10*ratio",
		"I536": "'，魔法+'+core.values.manaCrystal * ratio * 0.1"
	},
	"useItemEffect": {
		"book": "core.ui.drawBook(0);",
		"fly": "core.ui.drawFly(core.status.hero.flyRange.indexOf(core.status.floorId));",
		"earthquake": "core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n});",
		"pickaxe": "core.playSound('pickaxe.mp3');\ncore.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n});",
		"icePickaxe": "core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n});",
		"snow": "core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n});",
		"bigKey": "core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n});",
		"bomb": "core.playSound('bomb.mp3');\ncore.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n\tcore.events.afterUseBomb();\n});",
		"hammer": "core.playSound('bomb.mp3');\ncore.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n\tcore.events.afterUseBomb();\n});",
		"centerFly": "core.playSound('centerFly.mp3');\ncore.clearMap('hero');\ncore.setHeroLoc('x', (core.bigmap.width||13)-1-core.getHeroLoc('x'));\ncore.setHeroLoc('y', (core.bigmap.height||13)-1-core.getHeroLoc('y'));\ncore.drawHero();\ncore.drawTip(core.material.items[itemId].name + '使用成功');",
		"upFly": "var loc = {'direction': core.status.hero.loc.direction, 'x': core.status.event.data.x, 'y': core.status.event.data.y};\ncore.changeFloor(core.status.event.data.id, null, loc, null, function (){\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n\tcore.replay();\n});",
		"downFly": "var loc = {'direction': core.status.hero.loc.direction, 'x': core.status.event.data.x, 'y': core.status.event.data.y};\ncore.changeFloor(core.status.event.data.id, null, loc, null, function (){\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n\tcore.replay();\n});",
		"poisonWine": "core.setFlag('poison_stack', 0);\n\ncore.drawAnimate('light2', core.status.hero.loc.x, core.status.hero.loc.y);",
		"weakWine": "core.setFlag('weak_stack', 0);\n\ncore.drawAnimate('light2', core.status.hero.loc.x, core.status.hero.loc.y);\nvar buffVal = Math.pow(0.95, core.getFlag('weak_stack', 0));\ncore.setBuff('atk', buffVal);\ncore.setBuff('def', buffVal);",
		"superWine": "core.removeFlag('poison');\nif (core.hasFlag('weak')) {\n\tcore.removeFlag('weak');\n\tif (core.values.weakValue>=1) { // >=1：直接扣数值\n\t\tcore.status.hero.atk += core.values.weakValue;\n\t\tcore.status.hero.def += core.values.weakValue;\n\t}\n\telse { // <1：扣比例\n\t\tcore.setFlag(\"equip_atk_buff\", core.getFlag(\"equip_atk_buff\", 1) + core.values.weakValue);\n\t\tcore.setFlag(\"equip_def_buff\", core.getFlag(\"equip_def_buff\", 1) + core.values.weakValue);\n\t}\n}\ncore.removeFlag('curse');",
		"jumpShoes": "core.insertAction({ \"type\": \"jumpHero\", \"loc\": [core.nextX(2), core.nextY(2)] });\n\nvar charge_ratio = core.getFlag('charge_ratio', 0.02);\nvar charge_atk = core.getFlag('charge_atk', 0);\ncore.setFlag('charge_atk', Math.max(charge_atk - 2 * charge_ratio * core.status.hero.atk, 0));",
		"redPotion": "core.status.hero.hp += core.values.redPotion",
		"bluePotion": "core.status.hero.hp += core.values.bluePotion",
		"greenPotion": "core.status.hero.hp += core.values.greenPotion",
		"yellowPotion": "core.status.hero.hp += core.values.yellowPotion",
		"redJewel": "core.status.hero.atk += core.values.redJewel",
		"blueJewel": "core.status.hero.def += core.values.blueJewel",
		"greenJewel": "core.status.hero.mdef += core.values.greenJewel",
		"yellowJewel": "core.insertAction([\n\t{\"type\": \"choices\", \"choices\": [\n\t\t{\"text\": \"攻击+1\", \"action\": [\n\t\t\t{\"type\": \"setValue\", \"name\": \"status:atk\", \"value\": \"status:atk+1\"}\n\t\t]},\n\t\t{\"text\": \"防御+2\", \"action\": [\n\t\t\t{\"type\": \"setValue\", \"name\": \"status:def\", \"value\": \"status:def+2\"}\n\t\t]},\n\t\t{\"text\": \"生命+200\", \"action\": [\n\t\t\t{\"type\": \"setValue\", \"name\": \"status:hp\", \"value\": \"status:hp+200\"}\n\t\t]},\n\t]}\n]);",
		"skill1": "// 强击的flag:skill为1\nif (core.getFlag('skill', 0) != 1) { // 判断当前是否已经开了该技能\n\tif (core.getStatus('mana') >= core.getFlag('skill1_cost', 10)) { // 这里要写当前能否开技能的条件判断，比如魔力值至少要多少\n\t\tcore.setFlag('skill', 1); // 开技能1\n\t\tvar val = core.getFlag('skill1_val', 3) - 1;\n\t\tcore.setFlag('skillName', '强击 ' + val); // 设置技能名\n\t} else {\n\t\tcore.drawTip(\"魔力不足，无法开启技能\");\n\t}\n} else { // 关闭技能\n\tcore.setFlag('skill', 0); // 关闭技能状态\n\tcore.setFlag('skillName', '无');\n}",
		"I_ex_atk": "core.getItem('I_ex_atk', -1);\ncore.getItem('I_ex_def', 1);",
		"I_ex_def": "core.getItem('I_ex_def', -1);\ncore.getItem('I_ex_atk', 1);",
		"I_charge": "core.insertAction([\n\t\"当前基础攻击力为: \\r[red]\" + core.status.hero.atk + \"\\r[white]\\n\" +\n\t\"每移动一步攻击力提升\\r[red]\" + core.getFlag('charge_point') + \"\\r[white]点。\\n\" +\n\t\"改变移动方向后效果消失。\",\n\t\"注意，如果使用瞬移功能，冲锋效果也会立即消失。\",\n]);",
		"I_charge2": "core.insertAction([\n\t\"当前基础攻击力为: \\r[red]\" + core.status.hero.atk + \"\\r[white]\\n\" +\n\t\"每移动一步攻击力提升基础攻击力的\\r[red]\" + (100 * core.getFlag('charge_ratio')).toFixed(1) + \"\\r[white]%，也就是\\n\\r[red]\" + core.getFlag('charge_ratio') * core.status.hero.atk + \"\\r[white]点。计算时向下取整。\\n\" +\n\t\"改变移动方向后效果消失。\",\n\t\"注意，如果使用瞬移功能，冲锋效果也会立即消失。\",\n]);",
		"I_vampire": "core.insertAction([\n\t\"蝙蝠血、毛虫血、软泥血、石头血，你想要哪个？\",\n\t\"我全都要！\"\n]);",
		"I_hp_score": "core.insertAction([\n\t\"当前溢出HP值为：\\r[red]\" + core.getFlag('hp_score') + \"\\r[white]。\\n\",\n]);",
		"skill2": "// 防御的flag:skill为2\nif (core.getFlag('skill', 0) != 2) { // 判断当前是否已经开了该技能\n\tif (core.getStatus('mana') >= core.getFlag('skill2_cost', 0)) { // 这里要写当前能否开技能的条件判断，比如魔力值至少要多少\n\t\tcore.setFlag('skill', 2); // 开技能2\n\t\tvar val = core.getFlag('skill2_def_ratio', 3);\n\t\tcore.setFlag('skillName', '防御 ' + val); // 设置技能名\n\t} else {\n\t\tcore.drawTip(\"魔力不足，无法开启技能\");\n\t}\n} else { // 关闭技能\n\tcore.setFlag('skill', 0); // 关闭技能状态\n\tcore.setFlag('skillName', '无');\n}",
		"skill3": "// 直接判断是否可以使用即可\nvar curMana = core.status.hero.mana;\nvar cost = core.getFlag('skill3_cost', 641);\nif (curMana >= cost) {\n\tvar temp = core.getFlag('curse_stack', 0);\n\tif (temp == 0) {\n\t\tcore.insertAction([{ \"type\": \"insert\", \"loc\": [0, 0], \"floorId\": \"EventMap\" }]);\n\t} else {\n\t\tcore.status.hero.mana -= cost;\n\t\tcore.setFlag('curse_stack', 0);\n\t\tcore.drawTip(\"你感觉很舒服。\");\n\t\tcore.drawAnimate('skill3', core.status.hero.loc.x, core.status.hero.loc.y);\n\t}\n} else {\n\tcore.drawTip(\"魔法不足。\");\n}",
		"skill4": "// 撕裂的flag:skill为4\nif (core.getFlag('skill', 0) != 4) { // 判断当前是否已经开了该技能\n\tif (core.getStatus('mana') >= core.getFlag('skill4_cost', 0)) { // 这里要写当前能否开技能的条件判断，比如魔力值至少要多少\n\t\tcore.setFlag('skill', 4); // 开技能4\n\t\tvar val = core.getFlag('skill4_val');\n\t\tcore.setFlag('skillName', '撕裂 ' + val); // 设置技能名\n\t} else {\n\t\tcore.drawTip(\"魔力不足，无法开启技能\");\n\t}\n} else { // 关闭技能\n\tcore.setFlag('skill', 0); // 关闭技能状态\n\tcore.setFlag('skillName', '无');\n}",
		"I459": "var tmp = core.itemCount('I459');\nif (tmp >= 1000) {\n\tvar z = Math.floor(tmp / 1000);\n\tcore.getItem('I459', 1);\n\tcore.getItem('I459', -1000 * z);\n\tcore.getItem('I458', z);\n} else {\n\t// should never execute\n\tcore.getItem('I459', 1);\n\tcore.drawTip('无法合成。');\n}",
		"I462": "core.insertAction({ \"type\": \"setBlock\", \"number\": \"E461\", \"loc\": [core.nextX(1), core.nextY(1)] });",
		"tome": "if (core.status.hero.lv < 19)\n\tcore.status.hero.experience += 40000;\nelse\n\tcore.drawTip('没有效果。');",
		"expelPoison": "// 直接判断是否可以使用即可\nvar curMana = core.status.hero.mana;\nvar cost = core.getFlag('expelPoison_cost', 641);\nif (curMana >= cost) {\n\tvar temp = core.getFlag('poison_stack', 0);\n\tif (temp == 0 && core.getFlag('in_chap4', 0) == 0) {\n\t\tcore.insertAction([{ \"type\": \"insert\", \"loc\": [1, 0], \"floorId\": \"EventMap\" }]);\n\t} else {\n\t\tcore.status.hero.mana -= cost;\n\t\tif (temp > 0 && !core.getFlag(\"in_chap4\"))\n\t\t\tcore.getItem('I459', temp);\n\t\tcore.setFlag('poison_stack', 0);\n\t\tcore.drawTip(\"你感觉很舒服。\");\n\t\tcore.drawAnimate('light2', core.status.hero.loc.x, core.status.hero.loc.y);\n\t}\n} else {\n\tcore.drawTip(\"魔法不足。\");\n}",
		"bring_hp": "var heal = core.getFlag('bring_hp_val', 50000);\ncore.drawAnimate('heal', core.status.hero.loc.x, core.status.hero.loc.y);\ncore.insertAction({ \"type\": \"insert\", \"name\": \"增加HP\", \"args\": [heal] });",
		"bring_mana": "core.drawAnimate('mana_regen', core.status.hero.loc.x, core.status.hero.loc.y);\ncore.status.hero.mana += 50;",
		"invisibleWine": "core.setFlag('invisible', 1);\ncore.setOpacity('hero', 0.5);\ncore.setFlag('no_betweenAttack', true);\ncore.setFlag('no_zone', true);\ncore.setFlag('no_snipe', true);\ncore.setFlag('no_laser', true);\ncore.setFlag('no_ambush', true);",
		"talent": "if (core.status.hero.lv < 24)\n\tcore.insertAction([{ \"type\": \"insert\", \"loc\": [0, 1], \"floorId\": \"EventMap\" }]);\nelse\n\tcore.insertAction([{ \"type\": \"insert\", \"loc\": [0, 4], \"floorId\": \"EventMap\" }]);",
		"smallJump": "core.status.hero.mana -= core.getFlag('smallJump_cost', 30);\ncore.insertAction({ \"type\": \"jumpHero\", \"loc\": [core.nextX(1), core.nextY(1)] });\n\nvar charge_ratio = core.getFlag('charge_ratio', 0.02);\nvar charge_atk = core.getFlag('charge_atk', 0);\ncore.setFlag('charge_atk', Math.max(charge_atk - charge_ratio * core.status.hero.atk, 0));",
		"I_morph": "// 直接判断是否可以使用即可\nvar curMana = core.status.hero.mana;\nvar cost = core.getFlag('skill5_cost', 641);\nif (curMana >= cost) {\n\tcore.status.hero.mana -= cost;\n\tcore.insertAction([{ \"type\": \"insert\", \"loc\": [12, 0], \"floorId\": \"EventMap\" }]);\n} else {\n\tcore.drawTip(\"魔法不足。\");\n}"
	},
	"canUseItemEffect": {
		"book": "true",
		"fly": "(function () {\n\treturn core.status.hero.flyRange.indexOf(core.status.floorId)>=0;\n})();",
		"pickaxe": "(function() {\n\tvar ids = [], id2s = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && core.nearHero(block.x, block.y) && \n\t\t\t(block.event.canBreak || block.event.id == 'yellowWall' || block.event.id=='whiteWall' || block.event.id=='blueWall')) { // 能破哪些墙\n\t\t\t// 四个方向\n\t\t\tif (core.flags.pickaxeFourDirections || (block.x == core.nextX() && block.y == core.nextY()))\n\t\t\t\tids.push(i);\n\t\t\telse id2s.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\treturn true;\n\t}\n\telse if (id2s.length==1) {\n\t\tcore.status.event.data = id2s;\n\t\treturn true;\n\t}\n\treturn false;\n})();",
		"icePickaxe": "(function() {\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && block.x==core.nextX() && block.y==core.nextY() && block.event.id=='ice') {\n\t\t\tcore.status.event.data = [i];\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n})();",
		"bomb": "(function () {\n\tvar ids = [], id2s = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && block.event.cls.indexOf('enemy')==0 && core.nearHero(block.x, block.y)) {\n\t\t\tvar enemy = core.material.enemys[block.event.id];\n\t\t\tif (core.isset(enemy) && enemy.notBomb) continue;\n\t\t\tif (core.flags.bombFourDirections || (block.x==core.nextX() && block.y==core.nextY()))\n\t\t\t\tids.push(i);\n\t\t\telse\n\t\t\t\tid2s.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\treturn true;\n\t}\n\tif (id2s.length==1) {\n\t\tcore.status.event.data = id2s;\n\t\treturn true;\n\t}\n\treturn false;\n})();",
		"hammer": "(function() {\n\tvar ids = [], id2s = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && block.event.cls.indexOf('enemy')==0 && core.nearHero(block.x, block.y)) {\n\t\t\tvar enemy = core.material.enemys[block.event.id];\n\t\t\tif (core.isset(enemy) && enemy.notBomb) continue;\n\t\t\tif (block.x==core.nextX() && block.y==core.nextY())\n\t\t\t\tids.push(i);\n\t\t\telse\n\t\t\t\tid2s.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\treturn true;\n\t}\n\telse if (id2s.length==1) {\n\t\tcore.status.event.data = id2s;\n\t\treturn true;\n\t}\n\treturn false;\n})();",
		"earthquake": "(function () {\n\tvar able=false;\n\tvar ids = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable &&\n\t\t\t(block.event.canBreak || block.event.id == 'yellowWall' || block.event.id == 'blueWall' || block.event.id == 'whiteWall')) { // 能炸的墙壁\n\t\t\tids.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\table=true;\n\t}\n\treturn able;\n})();",
		"centerFly": "(function () {\n\tvar toX = (core.bigmap.width||13)-1-core.getHeroLoc('x'), toY = (core.bigmap.height||13)-1-core.getHeroLoc('y');\n\tvar id = core.getBlockId(toX, toY);\n\treturn id == null;\n})();",
		"upFly": "(function() {\n\tvar floorId = core.status.floorId, index = core.floorIds.indexOf(floorId);\n\tif (index<core.floorIds.length-1) {\n\t\tvar toId = core.floorIds[index+1], toX = core.getHeroLoc('x'), toY = core.getHeroLoc('y');\n\t\tvar mw = core.floors[toId].width||13, mh = core.floors[toId].height||13;\n\t\tif (toX>=0 && toX<mw && toY>=0 && toY<mh && core.getBlock(toX, toY, toId)==null) {\n\t\t\tcore.status.event.data = {'id': toId, 'x': toX, 'y': toY};\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n})();",
		"downFly": "(function() {\n\tvar floorId = core.status.floorId, index = core.floorIds.indexOf(floorId);\n\tif (index>0) {\n\t\tvar toId = core.floorIds[index-1], toX = core.getHeroLoc('x'), toY = core.getHeroLoc('y');\n\t\tvar mw = core.floors[toId].width||13, mh = core.floors[toId].height||13;\n\t\tif (toX>=0 && toX<mw && toY>=0 && toY<mh && core.getBlock(toX, toY, toId)==null) {\n\t\t\tcore.status.event.data = {'id': toId, 'x': toX, 'y': toY};\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n})();",
		"snow": "(function () {\n\tvar ids = [], id2s = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && block.event.id == 'lava' && core.nearHero(block.x, block.y)) {\n\t\t\tif (core.flags.snowFourDirections || (block.x == core.nextX() && block.y == core.nextY()))\n\t\t\t\tids.push(i);\n\t\t\telse id2s.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\treturn true;\n\t}\n\tif (id2s.length==1) {\n\t\tcore.status.event.data = id2s;\n\t\treturn true;\n\t}\n\treturn false;\n})();",
		"bigKey": "(function() {\n\tvar able=false, ids = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && block.event.id == 'yellowDoor') {\n\t\t\tids.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\table=true;\n\t}\n\treturn able;\n})();",
		"poisonWine": "(function () {\n\treturn core.getFlag('poison_stack', 0) > 0;\n})();",
		"weakWine": "(function () {\n\treturn core.getFlag('weak_stack', 0) > 0;\n})();",
		"superWine": "(function() {\n\treturn core.hasFlag('poison') || core.hasFlag('weak') || core.hasFlag('curse');\n})();",
		"jumpShoes": "(function() {\n\tvar nx=core.nextX(2), ny=core.nextY(2);\n\treturn nx>=0 && nx<core.bigmap.width && ny>=0 && ny<core.bigmap.height && core.getBlockId(nx,ny)==null;\n})();",
		"redPotion": "true",
		"bluePotion": "true",
		"greenPotion": "true",
		"yellowPotion": "true",
		"redJewel": "true",
		"blueJewel": "true",
		"greenJewel": "true",
		"yellowJewel": "true",
		"skill1": "true",
		"ex_atk": "true",
		"ex_def": "true",
		"I_ex_atk": true,
		"I_ex_def": true,
		"I_charge": true,
		"I_charge2": true,
		"I_vampire": true,
		"I_hp_score": true,
		"skill2": "true",
		"skill3": "true",
		"I_hard_1": true,
		"I_hard_2": true,
		"skill4": "true",
		"I458": "false",
		"I459": "(function () {\n\treturn core.itemCount('I459') >= 1000;\n})();",
		"I462": "(function () {\n\tvar nx = core.nextX(1),\n\t\tny = core.nextY(1);\n\treturn nx >= 0 && nx < core.bigmap.width && ny >= 0 && ny < core.bigmap.height && core.getBlockId(nx, ny, null, true) == null;\n})();",
		"tome": "true",
		"coin": null,
		"expelPoison": "true",
		"bring_hp": "true",
		"bring_mana": "(function () {\n\treturn core.status.hero.mana < core.status.hero.manamax;\n})();",
		"invisibleWine": "(function () {\n\treturn core.getFlag('invisible', 0) == 0;\n})();",
		"shield1": "false",
		"talent": "true",
		"smallJump": "(function () {\n\tvar nx = core.nextX(1),\n\t\tny = core.nextY(1);\n\tvar cost = core.getFlag('smallJump_cost', 30);\n\treturn nx >= 0 && nx < core.bigmap.width && ny >= 0 && ny < core.bigmap.height && core.getBlockId(nx, ny) == null && cost <= core.status.hero.mana;\n})();",
		"talentPoint": null,
		"I_morph": "(function () {\n\treturn core.getFlag('morph', 0) == 0 && core.getFlag('morph_cooldown', 0) == 0;\n})();"
	},
	"canEquip": {},
	"equipCondition": {
		"I476": "(function () {\n\treturn core.status.hero.hp <= Math.floor(core.getRealStatusOrDefault(core.status.hero, 'hpmax') - 0.2 * core.status.hero.hpmax);\n})();",
		"shield1": "false",
		"shield2": "false",
		"shield3": "false",
		"shield4": "false",
		"shield5": "false"
	}
}