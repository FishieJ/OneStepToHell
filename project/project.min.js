var data_a1e2fb4a_e986_4524_b0da_9b7ba7c0874d={main:{floorIds:["P1","P2","MT01","MT02","MT03","MT04","MT05","MT06","MT07","MT08","MT09","MT0A","MT10","MT11","MT12","MT13","MT14","MT15","MT16","MT17","MT18","MT19","MT20","MT21","MT22","MT22_2","MT23","MT24","MT25","MT26","MT27","MT28","MT29","MT29_2","MT30","Area4_1","Area4_2","Area4_3","Area4_b","Area5_m","MT41","MT42","MT43","MT44","MT45","MT46","MT47","MT48","MT49","MT50","MT51","MT52","MT53","MT54","MT55","MT56","MT57","MT58","MT59","MT5A","MT60","Chap3_shop","Chap3_m","MT61","MT62","MT63","MT64","MT65","MT66","MT67","MT68","MT69","MT6A","MT70","MT71","MT72","MT73","MT74","MT75","MT76","MT77","MT78","MT79","MT7A","MT80","MT81","MT82","MT83","MT84","MT85","MT86","MT87","MT88","MT89","MT90","Chap3_boss","Chap3_final","MT91","MT91_2","MT92","MT92_2","MT93","MT93_2","MT94","MT94_2","MT95","MT95_2","MT96","MT97","MT98","MT99","MT100","MT101","MT102","MT103","MT104","MT105","MT106","MT107","MT108","MT109","MT110","MT111","MT112","MT113","MT114","MT115","MT116","MT117","MT118","MT119","MT120","Final","EventMap"],images:["area3.jpg","area12.jpg","c1.png","c2.png","c3.png","c4.png","dawn.jpg","morning.jpg","winskin.png","black.jpg","hero2.png","hero3.png","ending1.png","ending2.png","heroine.png"],tilesets:["tilesets.min.png"],animates:["attack2","attack3","attack4","blackmagic","blood","blood2","dark","dark2","dark3","darkattack","darkexplode","explosion","explosion_small","fire","han","hand","heal","ice","iceblast","light","light2","morphattack","omnislash","skill1","skill2","skill3","sword","sword1","sword2","sword3","sword4","sword5","thunder","thunder3","thunder4","tuihua","upgrade","wuyu","xunjie","yongchang","zone","mana_regen","poison","weak","purify"],bgms:["1-3.mp3","3-5.mp3","5-6.mp3","6-7.mp3","7-9.mp3","9-11.mp3","11-13.mp3","13-15.mp3","15-17.mp3","17-19.mp3","19-21.mp3","21-23.mp3","23-1.mp3","boss0.mp3","boss1.mp3","boss2.mp3","boss3.mp3","chap3_m.mp3","prologue.mp3","postboss0.mp3","postboss1.mp3","rain.mp3","xuehai.mp3","ending.mp3"],sounds:["floor.mp3","attack.mp3","door.mp3","item.mp3","equip.mp3","zone.mp3","jump.mp3","pickaxe.mp3","bomb.mp3","centerFly.mp3","boss0_pre.mp3","005-System05.ogg","044-Chest01.ogg","050-Explosion03.ogg","051-Explosion04.ogg","053-Cannon02.ogg","054-Cannon03.ogg","057-Wrong01.ogg","061-Thunderclap01.ogg","082-Monster04.ogg","083-Monster05.ogg","086-Action01.ogg","087-Action02.ogg","089-Attack01.ogg","090-Attack02.ogg","092-Attack04.ogg","094-Attack06.ogg","096-Attack08.ogg","102-Attack14.ogg","103-Attack15.ogg","104-Attack16.ogg","105-Heal01.ogg","112-Heal08.ogg","118-Fire02.ogg","119-Fire03.ogg","120-Ice01.ogg","124-Thunder02.ogg","125-Thunder03.ogg","136-Light02.ogg","138-Darkness01.ogg","139-Darkness02.ogg","140-Darkness03.ogg","143-Support01.ogg","152-Support10.ogg","157-Skill01.ogg","159-Skill03.ogg","160-Skill04.ogg","161-Skill05.ogg","163-Skill07.ogg","sound1634.mp3","Thunder5.ogg","WomanScream.ogg","Poison.ogg","Darkness3.ogg","Darkness4.ogg","Raise1.ogg","Zombie02.wav","MSLASH.ogg","billy.mp3"],nameMap:{"背景图.jpg":"bg.jpg","背景音乐.mp3":"bgm.mp3"},startBackground:"bg.jpg",startLogoStyle:"color: black",levelChoose:[["乱撞难度（减伤50%）","Blind"],["简单难度（减伤20%）","Easy"],["困难难度","Hard"]],equipName:["饰品","饰品","饰品","饰品"],startBgm:"1-3.mp3",statusLeftBackground:"url(project/images/ground.png) repeat",statusTopBackground:"url(project/images/ground.png) repeat",toolsBackground:"url(project/images/ground.png) repeat",borderColor:"#CCCCCC",statusBarColor:"white",hardLabelColor:"red",floorChangingBackground:"black",floorChangingTextColor:"white",font:"Verdana"},firstData:{title:"一夜登天！",name:"OneStepToHell",version:"Ver 2.6.1",floorId:"P1",hero:{name:"莫逆",lv:1,hpmax:300,hp:300,manamax:-1,mana:0,atk:1,def:0,mdef:0,money:0,experience:0,equipment:[],items:{keys:{yellowKey:0,blueKey:0,redKey:0},constants:{},tools:{},equips:{}},loc:{direction:"left",x:11,y:11},flags:{},steps:0},startCanvas:[{type:"comment",text:"在这里可以用事件来自定义绘制标题界面的背景图等"},{type:"comment",text:"也可以直接切换到其他楼层（比如某个开始剧情楼层）进行操作。"},{type:"showImage",code:1,image:"bg.jpg",loc:[0,0],dw:100,dh:100,opacity:1,time:0},{type:"while",condition:"1",data:[{type:"comment",text:"给用户提供选择项，这里简单的使用了choices事件"},{type:"comment",text:"也可以贴按钮图然后使用等待操作来完成"},{type:"choices",choices:[{text:"开始游戏",action:[{type:"comment",text:"检查bgm状态，下同"},{type:"function","function":"function(){\ncore.control.checkBgm()\n}"},{type:"if",condition:"core.flags.startDirectly","true":[{type:"comment",text:"直接开始游戏，设置初始化数据"},{type:"function","function":"function(){\ncore.events.setInitData('')\n}"}],"false":[{type:"comment",text:"动态生成难度选择项"},{type:"function","function":'function(){\nvar choices = [];\nmain.levelChoose.forEach(function (one) {\n\tchoices.push({"text": one[0], "action": [\n\t\t{"type": "function", "function": "function() { core.status.hard = \'"+one[1]+"\'; core.events.setInitData(\'"+one[1]+"\'); }"}\n\t]});\n})\ncore.insertAction({"type": "choices", "choices": choices});\n}'}]},{type:"hideImage",code:1,time:0},{type:"comment",text:"成功选择难度"},{type:"break"}]},{text:"读取存档",action:[{type:"function","function":"function(){\ncore.control.checkBgm()\n}"},{type:"comment",text:"简单的使用“呼出读档界面”来处理"},{type:"callLoad"}]},{text:"回放录像",action:[{type:"function","function":"function(){\ncore.control.checkBgm()\n}"},{type:"comment",text:"这段代码会弹框选择录像文件"},{type:"if",condition:"!core.isReplaying()","true":[{type:"function","function":"function(){\ncore.chooseReplayFile()\n}"}],"false":[]}]}]}]},{type:"comment",text:"接下来会执行startText中的事件"}],startText:[{type:"setCurtain",color:[0,0,0,1],time:0},{type:"insert",loc:[11,11],floorId:"EventMap"}],shops:[],levelUp:[{need:"0",title:"萌新一段",clear:true,action:[{type:"comment",text:"此处是初始等级，只需填写称号"}]},{need:"50",title:"萌新二段",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+50"},{type:"setValue",name:"status:hp",value:"status:hp+50"},{type:"setValue",name:"status:atk",value:"status:atk+1"},{type:"setValue",name:"status:def",value:"status:def+1"},{type:"setValue",name:"status:mdef",value:"status:mdef+2"},"升级！生命、生命上限+50，攻击+1，防御+1，护盾+2","\t[hero]这……就是升级的感觉吗……想不到我莫逆竟然也有踏入萌新二段的一天！","\t[hero]而且升级竟然如此顺利、如此简单！要是我打完这花园里的莱姆，捡完这里的各种宝石，恐怕能踏入萌新三段、甚至更高的境界吧……","\t[hero]已经迫不及待想继续前进了！"]},{need:"80",title:"萌新三段",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+100"},{type:"setValue",name:"status:hp",value:"status:hp+100"},{type:"setValue",name:"status:atk",value:"status:atk+1"},{type:"setValue",name:"status:def",value:"status:def+1"},{type:"setValue",name:"status:mdef",value:"status:mdef+2"},"升级！生命、生命上限+100，攻击+1，防御+1，护盾+2"]},{need:"210",title:"萌新四段",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+150"},{type:"setValue",name:"status:hp",value:"status:hp+150"},{type:"setValue",name:"status:atk",value:"status:atk+2"},{type:"setValue",name:"status:def",value:"status:def+2"},{type:"setValue",name:"status:mdef",value:"status:mdef+3"},"升级！生命、生命上限+150，攻击+2，防御+2，护盾+3"]},{need:"250",title:"萌新五段",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+200"},{type:"setValue",name:"status:hp",value:"status:hp+200"},{type:"setValue",name:"status:atk",value:"status:atk+3"},{type:"setValue",name:"status:def",value:"status:def+3"},{type:"setValue",name:"status:mdef",value:"status:mdef+5"},"升级！生命、生命上限+200，攻击+3，防御+3，护盾+5",{type:"setValue",name:"flag:vampire_ratio",value:"0.1"},{type:"setValue",name:"item:I_vampire",value:"1"},"习得被动技能【吸血】。打开物品栏查看详情。"]},{need:"400",title:"萌新六段",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+300"},{type:"setValue",name:"status:hp",value:"status:hp+300"},{type:"setValue",name:"status:atk",value:"status:atk+4"},{type:"setValue",name:"status:def",value:"status:def+4"},{type:"setValue",name:"status:mdef",value:"status:mdef+6"},"升级！生命、生命上限+300，攻击+4，防御+4，护盾+6"]},{need:"460",title:"萌新七段",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+400"},{type:"setValue",name:"status:hp",value:"status:hp+400"},{type:"setValue",name:"status:atk",value:"status:atk+5"},{type:"setValue",name:"status:def",value:"status:def+5"},{type:"setValue",name:"status:mdef",value:"status:mdef+8"},"升级！生命、生命上限+400，攻击+5，防御+5，护盾+8"]},{need:"600",title:"萌新八段",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+800"},{type:"setValue",name:"status:hp",value:"status:hp+800"},{type:"setValue",name:"status:atk",value:"status:atk+10"},{type:"setValue",name:"status:def",value:"status:def+10"},{type:"setValue",name:"status:mdef",value:"status:mdef+16"},"升级！生命、生命上限+800，攻击+10，防御+10，护盾+16","习得被动技能【次级冲锋】。打开物品栏查看详情。",{type:"setValue",name:"flag:charge_point",value:"5"},{type:"setValue",name:"item:I_charge",value:"1"}]},{need:"1000",title:"萌新九段",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+1600"},{type:"setValue",name:"status:hp",value:"status:hp+1600"},{type:"setValue",name:"status:atk",value:"status:atk+20"},{type:"setValue",name:"status:def",value:"status:def+20"},{type:"setValue",name:"status:mdef",value:"status:mdef+32"},{type:"setValue",name:"flag:charge_point",value:"8"},"升级！生命、生命上限+1600，攻击+20，防御+20，护盾+32","【次级冲锋】变强了。"]},{need:"2000",title:"蓝海一阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+4000"},{type:"setValue",name:"status:atk",value:"status:atk+80"},{type:"setValue",name:"status:def",value:"status:def+80"},{type:"setValue",name:"status:mdef",value:"status:mdef+100"},"晋升为蓝海一阶！生命上限+4000，攻击+80，防御+80，护盾+100",{type:"setValue",name:"status:manamax",value:"100"},"获得100点魔法上限。",{type:"setValue",name:"flag:vampire_ratio",value:"0.2"},"【吸血】效果提升至20%。",{type:"setValue",name:"item:I_charge",value:"0"},{type:"setValue",name:"flag:charge_ratio",value:"0.02"},"被动技能【次级冲锋】变为【冲锋！】，每步提升基础攻击力的2%。",{type:"setValue",name:"item:I_charge2",value:"1"},{type:"setValue",name:"flag:skill1_val",value:"2"},{type:"setValue",name:"flag:skill1_cost",value:"12"},"领悟主动技能【强击】：首回合获得2倍攻击力，消耗12点魔法。",{type:"setValue",name:"item:skill1",value:"1"},"普通攻击动画已改变！",{type:"insert",loc:[10,0],floorId:"EventMap"},"最后，大境界突破，状态回满！"]},{need:"2500",title:"蓝海二阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+6000"},{type:"setValue",name:"status:hp",value:"status:hp+6000"},{type:"setValue",name:"status:manamax",value:"status:manamax+20"},{type:"setValue",name:"status:mana",value:"status:mana+20"},{type:"setValue",name:"status:atk",value:"status:atk+120"},{type:"setValue",name:"status:def",value:"status:def+120"},{type:"setValue",name:"status:mdef",value:"status:mdef+150"},"升级！生命、生命上限+6000，魔法、魔法上限+20，攻击+120，防御+120，护盾+150",{type:"setValue",name:"flag:skill2_atk_ratio",value:"0.05"},{type:"setValue",name:"flag:skill2_def_ratio",value:"2"},{type:"setValue",name:"flag:skill2_cost",value:"8"},"领悟主动技能【防御】：下场战斗中攻击力降低5%，降低数值的2倍转化为防御力，消耗8点魔法。",{type:"setValue",name:"item:skill2",value:"1"},{type:"sleep",time:500},"\t[hero]（晋升为蓝海二阶了，试试看能不能把那神秘黑影叫出来）","\t[hero]喂？你好？","\t[黑影,unknown]……我感觉还不是很好。","\t[hero]你到底是谁？你从哪来的？","\t[黑影,unknown]嗯……我最后记得的事情就是被人围攻，几乎死掉，只剩一点意识在虚空中游荡，然后就陷入了沉睡……",{type:"sleep",time:500},"\t[hero]这……所以，你就是那一点残留的意识？我听说境界较高的修炼者，灵魂力极为强大，肉身被毁也能有残魂逃出，难道这个说法是真的？",{type:"sleep",time:500},"\t[hero]喂？喂？",{type:"animate",name:"wuyu",loc:"hero",async:true},"\t[hero]……","\t[hero]看来还要再提升境界才能继续对话了……","\t[hero]嗯……这样说来，这个残魂生前境界应当不低，难道我现在升级这么快，以及能够感知附近怪物的战斗力，这些能力也跟她有关系？"]},{need:"4000",title:"蓝海三阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+8000"},{type:"setValue",name:"status:hp",value:"status:hp+8000"},{type:"setValue",name:"status:manamax",value:"status:manamax+20"},{type:"setValue",name:"status:mana",value:"status:mana+20"},{type:"setValue",name:"status:atk",value:"status:atk+160"},{type:"setValue",name:"status:def",value:"status:def+160"},{type:"setValue",name:"status:mdef",value:"status:mdef+200"},"升级！生命、生命上限+8000，魔法、魔法上限+20，攻击+160，防御+160，护盾+200",{type:"sleep",time:500},"\t[hero]（又升了一级，大概能唤醒那黑影了吧）","\t[hero]你感觉还好吗？","\t[黑影,unknown]嗯？有什么事吗？","\t[hero]我仔细思考之后有好多疑问……","\t[hero]首先我想确认，是不是我的境界越高，你恢复得越好？","\t[黑影,unknown]是的。我现在寄宿在你这里，你的力量能帮助我恢复。","\t[hero]果然如此……我昨晚做了那个梦以后就发现自己升级非常快，你应该就是在那个时候寄宿在我脑海里的吧？但是我梦中出现的明明是个红衣服的怪物来着……","\t[黑影,unknown]红衣服的怪物？我长得像那个样子吗？","\t[hero]……好吧。毕竟是梦，总会有些奇怪的东西出现。","\t[hero]那么，我现在的能力到底是怎么来的？我知道我升级这么快肯定跟你有关系，但是你现在这么虚弱……","\t[黑影,unknown]这就涉及到我的\r[yellow]那次经历\r了……其实我也不知道原理，总之我就是有这种能力，很厉害吧？","\t[hero]那次经历？什么奇遇这么厉害？","\t[黑影,unknown]哎呀怎么总是你问我问题，不行，该我问你了。我一醒来就看到你在这鬼地方杀怪，你之前应该只有萌新境界吧？","\t[hero]是啊，这不是发现自己升级突然变得很容易，就赶快出来练级嘛。","\t[黑影,unknown]你家里人不担心吗？萌新境界和你这样的低端蓝海境界在这个世界上处于食物链底端，出来到处乱跑会死的。","\t[hero]（呃……我该怎么回答……）","\t[黑影,unknown]我看你身上什么道具都没有，大概明白你是什么情况了。你是发现自己升级很快过于兴奋，什么准备都没做就偷偷跑出来的吧？","\t[hero]哇，你也太厉害了，这都能猜到。（还是不要让她知道我杀了家主的事情吧）","\t[黑影,unknown]这样倒也省事，正好我不想让更多人知道我的存在。你千万不要跟别人说哦。","\t[hero]没问题。那，我也回答完你的问题了，能否跟我讲讲你的那次奇遇？",{type:"sleep",time:500},{type:"animate",name:"wuyu",loc:"hero",async:true},"\t[hero]……","\t[hero]我都搞不清她是真的陷入沉睡了还是不想理我了……"]},{need:"5000",title:"蓝海四阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+10000"},{type:"setValue",name:"status:hp",value:"status:hp+10000"},{type:"setValue",name:"status:manamax",value:"status:manamax+20"},{type:"setValue",name:"status:mana",value:"status:mana+20"},{type:"setValue",name:"status:atk",value:"status:atk+200"},{type:"setValue",name:"status:def",value:"status:def+200"},{type:"setValue",name:"status:mdef",value:"status:mdef+250"},"升级！生命、生命上限+10000，魔法、魔法上限+20，攻击+200，防御+200，护盾+250",{type:"sleep",time:500},"\t[hero]喂！在吗！","\t[少女,heroine]……","\t[hero]竟然能凝聚出样貌了，看来你恢复得不错。我还以为会是个中年大妈或者老奶奶，没想到……","\t[少女,heroine]就算是那些年龄上讲能当你太奶奶的人，往往也是少女外貌哦。","\t[熙枫,heroine]不过我的年龄不足以当任何人的太奶奶，我叫熙枫。","\t[hero]我……我叫莫逆。这世上真能有这种好事？一觉醒来发现自己突然获得了快速升级的能力，现在竟然还有小姐姐陪伴……",{type:"sleep",time:500},"\t[熙枫,heroine]你接纳我的残魂应该不是偶然。你是不是整天做着变成强者的白日梦？",{type:"animate",name:"wuyu",loc:"hero",async:true},"\t[hero]……","\t[熙枫,heroine]果然如此。血海级别的残魂，对于你这种境界的人来讲，就是你梦寐以求的力量来源。","\t[hero]血海级别……你生前是血海境界！血海到底有多强？","\t[熙枫,heroine]你应该知道这世间有四大等级，萌新，蓝海，红海，最后就是血海……萌新九段、蓝海九阶，而红海则分为低阶、中阶、高阶、巅峰四个阶段，再之后就是血海境界了。","\t[hero]听起来也没什么了不起的嘛……","\t[熙枫,heroine]是吗？你以前见过血海境界的人吗？","\t[hero]呃……没有。别说血海了，红海都没见过。","\t[熙枫,heroine]倒也正常，蓝海阶位在一些偏僻的地方就比较少见了。到了大势力管辖的区域，蓝海境界的人则算是中坚力量，红海境界才有资格做长老，而势力首领基本上是红海巅峰的级别。","\t[熙枫,heroine]至于血海境界的人，已经强大到足以脱离这里，前往天外的世界去探寻了。","\t[hero]天外的世界？","\t[熙枫,heroine]那是真正意义上广阔无垠的地方，那里远远比这个世界要精彩，所以能达到血海境界的人，基本都不会留在这个世界。","\t[hero]我现在升级这么快，感觉到达血海境界也没什么难度嘛。","\t[熙枫,heroine]嗯嗯，很好。现在你也知道我会随着你境界的提升而不断恢复，等你成为血海强者我就能恢复到全盛期的实力了，到时我有神秘奖励给你作为报答。","\t[熙枫,heroine]抓紧时间修炼吧，我要继续休息了，你加油哦。",{type:"animate",name:"wuyu",loc:"hero",async:true},"\t[hero]……"]},{need:"7500",title:"蓝海五阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+15000"},{type:"setValue",name:"status:hp",value:"status:hp+15000"},{type:"setValue",name:"status:manamax",value:"status:manamax+20"},{type:"setValue",name:"status:mana",value:"status:mana+20"},{type:"setValue",name:"status:atk",value:"status:atk+300"},{type:"setValue",name:"status:def",value:"status:def+300"},{type:"setValue",name:"status:mdef",value:"status:mdef+360"},"升级！生命、生命上限+15000，魔法、魔法上限+20，攻击+300，防御+300，护盾+360",{type:"setValue",name:"flag:lightRadius",value:"flag:lightRadius+15"},"灯光范围变大了。",{type:"function","function":"function(){\ncore.drawHero();\n}"},{type:"sleep",time:500},"\t[hero]原来升级还能扩大灯光范围的？？","\t[熙枫,heroine]毕竟你的力量变强的同时，我也在变强啊。","\t[hero]小姐姐现在应该感觉好了不少了吧？","\t[熙枫,heroine]别得意，你距离血海境界还远呢。","\t[hero]你之前说等我成就血海境界，你要奖励我，具体是什么？","\t[熙枫,heroine]嗯……还没想好……","\t[hero]要不我帮你想一个，小姐姐，我想……","\t[熙枫,heroine]不行，这个我说了算。","\t[hero]唉，我在这冰天雪地里面这么辛苦地修炼，竟然连一个小小的请求都做不了主……","\t[熙枫,heroine]哼，你这才修炼了几分钟，得了便宜还卖乖。不过你放心吧，我不会亏待你的。"]},{need:"10000",title:"蓝海六阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+20000"},{type:"setValue",name:"status:hp",value:"status:hp+20000"},{type:"setValue",name:"status:manamax",value:"status:manamax+20"},{type:"setValue",name:"status:mana",value:"status:mana+20"},{type:"setValue",name:"status:atk",value:"status:atk+600"},{type:"setValue",name:"status:def",value:"status:def+600"},{type:"setValue",name:"status:mdef",value:"status:mdef+720"},"升级！生命、生命上限+20000，魔法、魔法上限+20，攻击+600，防御+600，护盾+720",{type:"setValue",name:"flag:lightRadius",value:"flag:lightRadius+15"},"灯光范围变大了。",{type:"function","function":"function(){\ncore.drawHero();\n}"},{type:"sleep",time:500},"\t[hero]对了我突然想起来一个事，这些遍地的门、钥匙、血瓶、宝石都是怎么来的啊？","\t[熙枫,heroine]这些东西嘛……本质上都是逸散在这个世界的能量的聚集体。其根本来源我也不清楚，很可能是超越血海境界的力量。","\t[hero]超越血海？竟然还有血海之上的境界？","\t[熙枫,heroine]当然有啦。如你所说，这个世界的运转有着不“自然”的地方，既然如此，那背后一定是人为操控的。而我可以很有把握地说，血海境界的生物是做不到这点的。","\t[hero]天哪……突然感觉升级没了尽头，感觉有点迷茫了，我为什么要升级呢？","\t[hero]既然我很可能永远都升不到最高级别了，我能不能就这样带着小姐姐隐居起来，闲着没事的时候就跟小姐姐聊天，这不也挺幸福的嘛……","\t[熙枫,heroine]但是那些围攻我的人会找上来带走我的，而你根本无力阻止。",{type:"animate",name:"wuyu",loc:"hero",async:true},"\t[hero]……你这话也太真实了吧。","\t[熙枫,heroine]想调戏我你还嫩着呢。"]},{need:"15000",title:"蓝海七阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+30000"},{type:"setValue",name:"status:hp",value:"status:hp+30000"},{type:"setValue",name:"status:manamax",value:"status:manamax+50"},{type:"setValue",name:"status:mana",value:"status:mana+50"},{type:"setValue",name:"status:atk",value:"status:atk+1000"},{type:"setValue",name:"status:def",value:"status:def+1000"},{type:"setValue",name:"status:mdef",value:"status:mdef+1200"},"升级！生命、生命上限+30000，魔法、魔法上限+50，攻击+1000，防御+1000，护盾+1200",{type:"setValue",name:"flag:lightRadius",value:"flag:lightRadius+15"},"灯光范围变大了。",{type:"function","function":"function(){\ncore.drawHero();\n}"},{type:"sleep",time:500},"\t[hero]说起来我一直很奇怪，小姐姐这么好的人怎么会被人围攻而落得如此境地？","\t[熙枫,heroine]拐弯抹角的奉承是没用的。 ",{type:"animate",name:"han",loc:"hero"},"\t[hero]我是真的好奇啊，别说是漂亮的小姐姐，哪怕就是油腻的中年大叔，也不会无缘无故就被人围攻至死吧？","\t[熙枫,heroine]……利益。而且说起这个，还有一个坏消息要跟你讲。","\t[hero]什么意思？","\t[熙枫,heroine]那些人应该知道我这缕残魂逃走了，估计正在到处追杀我。他们全部都是血海境界，以你现在的实力，被他们找到了绝无还手之力。","\t[hero]这……你就这么隐藏在我脑海里，他们也能发现吗？","\t[熙枫,heroine]那你可太小看那些人的手段了。",{type:"animate",name:"wuyu",loc:"hero",async:true},"\t[hero]……好吧我这就好好杀怪升级。","\t[熙枫,heroine]（嗯，还挺乖的）"]},{need:"20000",title:"蓝海八阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+50000"},{type:"setValue",name:"status:hp",value:"status:hp+50000"},{type:"setValue",name:"status:manamax",value:"status:manamax+50"},{type:"setValue",name:"status:mana",value:"status:mana+50"},{type:"setValue",name:"status:atk",value:"status:atk+1500"},{type:"setValue",name:"status:def",value:"status:def+1500"},{type:"setValue",name:"status:mdef",value:"status:mdef+1800"},"升级！生命、生命上限+50000，魔法、魔法上限+50，攻击+1500，防御+1500，护盾+1800",{type:"setValue",name:"flag:lightRadius",value:"flag:lightRadius+15"},"灯光范围变大了。",{type:"function","function":"function(){\ncore.drawHero();\n}"},{type:"sleep",time:500},"\t[hero]蓝海八阶了，还差一步就到蓝海之中的最高阶位了。","\t[熙枫,heroine]虽然我觉得你突破是理所应当的，不过还是恭喜你吧。","\t[熙枫,heroine]不过别高兴太早，蓝海九阶和红海低阶之间的差距比较大，这是一个质的变化，不是所有生物都能够通过慢慢积累而晋升为红海阶位的。","\t[熙枫,heroine]也正是因为蓝海九阶和红海低阶之间的差距极大，所以中间还有一个被称为蓝海巅峰的等级，用来描述那些远远强于普通蓝海九阶却还没达到红海境界的生物。","\t[熙枫,heroine]而红海巅峰与血海之间的差距甚至更大，中间的等级则被称为半步血海。","\t[hero]寻常人想要跨越这么大的差距需要很长时间吧？","\t[熙枫,heroine]不仅仅是时间，还需要天赋、机遇、背景……当然，其中一种因素足够强大就可以弥补其余方面的不足。","\t[熙枫,heroine]现在你拥有的，就是极其强大的机遇。只需要一点努力，就可以达到许多人穷尽一生也无法达到的高度。","\t[hero]真期待成为强者的感觉啊。"]},{need:"25000",title:"蓝海九阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+100000"},{type:"setValue",name:"status:hp",value:"status:hp+100000"},{type:"setValue",name:"status:manamax",value:"status:manamax+50"},{type:"setValue",name:"status:mana",value:"status:mana+50"},{type:"setValue",name:"status:atk",value:"status:atk+2000"},{type:"setValue",name:"status:def",value:"status:def+2000"},{type:"setValue",name:"status:mdef",value:"status:mdef+2400"},"升级！生命、生命上限+100000，魔法、魔法上限+50，攻击+2000，防御+2000，护盾+2400",{type:"setValue",name:"flag:lightRadius",value:"flag:lightRadius+15"},"灯光范围变大了。",{type:"function","function":"function(){\ncore.drawHero();\n}"},{type:"sleep",time:500},"\t[hero]蓝海九大阶位，我如今已经处于顶峰了……","\t[hero]小姐姐给我讲些有趣的事情吧……比如我一直很好奇小姐姐的身世，比我大不了多少的血海强者，总感觉跟我不像是同一个世界的人。","\t[熙枫,heroine]这个世界很大……你理解不了的东西有很多。","\t[hero]确实很多……比如直到现在我还不明白境界名称的由来，萌新我还能理解，就是很“萌”（可爱）的“新人”，那为什么蓝海阶位被称为蓝海，红海阶位叫红海，蓝海和红海差别到底在哪？","\t[熙枫,heroine]你现在已经蓝海九阶了，你觉得蓝海和萌新的差别在哪？","\t[hero]除了各方面战斗能力更强之外……好像也没太大的区别。","\t[熙枫,heroine]其实，蓝海这个名称的由来十分古老，关于其具体出处也是说法不一。甚至，在那天外的世界，境界划分体系和这个世界并不一样，在那里，蓝海境界并不叫蓝海。","\t[熙枫,heroine]按照我的理解，蓝海境界和萌新境界最大的区别，便是对于魔法的掌握，也就是俗称的“蓝”。","\t[熙枫,heroine]晋入蓝海境界，才能够掌握技能，运用魔法值，使自己在战斗中更加强大。","\t[熙枫,heroine]但与此同时，并非所有生物都能够掌握技能，像你之前已经遇到过很多没有掌握特殊技能的野兽，它们之所以被称为蓝海，只不过是因为它们的战斗力与人类的蓝海强者相仿而已。所以，你大概能理解为什么在天外的世界，境界划分并没有使用“蓝海”这个名字了吧？","\t[hero]明白了。他们是不是也没有使用“红海”“血海”这些名字？","\t[熙枫,heroine]没错。",{type:"sleep",time:500},"\t[hero]那么，蓝海和红海的区别呢？","\t[熙枫,heroine]刚才已经说过，蓝海注重对魔法的掌控，而红海则是注重对生命的掌控。红海境界的强者，能够直接操控生命值，比如有一种著名的红海技能，能够直接扣掉你一半的生命值。","\t[hero]这……这么恐怖？","\t[熙枫,heroine]当然是有条件限制的，而且反制手段也是有的。","\t[熙枫,heroine]而血海，则是生命操控能力达到极致之后的境界。绝大多数血海以下的生物，在真正的血海强者面前，都如同蝼蚁一般，生或者死，皆在对方的一念之间。","\t[hero]（我昨天做梦梦到的那个“夹爆”，好像就是血海境界的技能？一瞬之间生命就归为1，简直太恐怖了……）","\t[hero]红海和血海境界这么强，真是有点难以想象我该如何晋入那等境界……毕竟现在我达到蓝海九阶，已经感觉到自己距离下一个等级很遥远了……","\t[熙枫,heroine]这点你放心好了，有我在的话只要慢慢积累总能突破的。而且也说不定你会碰上什么其他的奇遇。","\t[熙枫,heroine]比起力量，你反倒更应该重视心性。一定要记住，不论力量多强，若是心性不够，是无法在这个世界上生存下去的。",{type:"animate",name:"han",loc:"hero"},"\t[hero]……小姐姐说教起来真的像是比我大了好多的样子，真是越来越好奇你到底经历过什么。","\t[熙枫,heroine]你会知道的……不过现在还不行。"]},{need:"100000",title:"红海低阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+500000"},{type:"setValue",name:"status:manamax",value:"status:manamax+150"},{type:"setValue",name:"status:atk",value:"status:atk+5000"},{type:"setValue",name:"status:def",value:"status:def+5000"},{type:"setValue",name:"status:mdef",value:"status:mdef+6000"},"晋升为红海低阶！生命上限+500000，魔法上限+150，攻击+5000，防御+5000，护盾+6000",{type:"setValue",name:"flag:lightRadius",value:"flag:lightRadius+25"},"灯光范围变大了。",{type:"function","function":"function(){\ncore.drawHero();\n}"},"普通攻击动画已改变！",{type:"setHeroIcon",name:"hero2.png"},"行走图改变！",{type:"setValue",name:"flag:skill1_val",value:"3.5"},{type:"setValue",name:"flag:skill1_cost",value:"40"},{type:"setValue",name:"flag:skill2_def_ratio",value:"3"},{type:"setValue",name:"flag:skill2_cost",value:"25"},"【强击】和【防御】效果和魔法消耗提升。","领悟被动【高级护盾】。现在1点护盾可以抵挡1.5点伤害。",{type:"setValue",name:"flag:mdef_ratio",value:"1.5"},{type:"setValue",name:"item:shield0",value:"1"},"现在每场战斗后回复3点魔法。",{type:"setValue",name:"flag:mana_regen",value:"3"},{type:"setValue",name:"item:I341",value:"1"},{type:"setValue",name:"flag:skill4_val",value:"5"},{type:"setValue",name:"flag:skill4_cost",value:"60"},"领悟【红海技能】！主动技能【撕裂】：每回合开始时造成相当于对方5%当前生命的伤害。",{type:"setValue",name:"item:skill4",value:"1"},{type:"setValue",name:"item:talent",value:"1"},"开启天赋！可以在道具栏中打开天赋列表。获得3点天赋。",{type:"addValue",name:"item:talentPoint",value:"3"},{type:"if",condition:"core.getFlag('hard', 0) < 3","true":["简单及乱撞难度下额外奖励1点天赋。",{type:"addValue",name:"item:talentPoint",value:"1"}],"false":[]},{type:"insert",loc:[10,0],floorId:"EventMap"},"最后，大境界突破，状态回满！",{type:"setValue",name:"flag:bring_hp_val",value:"50000"},{type:"setValue",name:"flag:bring_mana_val",value:"50"},{type:"sleep",time:1000},"\t[hero]竟然直接就晋升为红海境界了……这书好神奇。","\t[熙枫,heroine]的确是很神奇的东西，不过限制也很大。不仅对红海以上境界的生物无效，而且每个人只能用一本，第二本就没有效果了。","\t[熙枫,heroine]既然你突破到红海了，我来试试能不能把毒给解了……",{type:"setValue",name:"flag:expelPoison_cost",value:"0"},{type:"setValue",name:"item:expelPoison",value:"1"},{type:"useItem",id:"expelPoison"},{type:"setValue",name:"flag:expelPoison_cost",value:"200"},{type:"sleep",time:1000},"\t[熙枫,heroine]成功了……","\t[hero]哇，小姐姐太厉害了吧？","\t[熙枫,heroine]别高兴太早，我刚才借用了你突破大境界的力量。以后要解毒的话得给我灌输一些魔力。","\t[hero]哈哈，小意思，我突破到红海境界感觉自己魔法充裕了不少……","\t[熙枫,heroine]一次200点魔法。","\t[hero]什么？这么多？？","\t[熙枫,heroine]不过好消息是这些驱除出来的毒素可以利用起来，拿来合成那种绿色的晶体。","\t[hero]唉，我真是又笨又穷。不过好歹是把解毒药的钱省了……","\t[hero]到了红海境界应该有能力去各处闯荡了吧？","\t[熙枫,heroine]挑一些软柿子捏应该不成问题，不过还是尽量小心，毕竟到处都是掌握了红海技能的怪物，太勉强自己会死的。","\t[hero]放心吧，我死不了！我先把刚刚驱除出来的毒素精华拿去卖钱，买点好东西，然后就出发！"]},{need:"150000",title:"红海中阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+700000"},{type:"setValue",name:"status:hp",value:"status:hp+700000"},{type:"setValue",name:"status:manamax",value:"status:manamax+150"},{type:"setValue",name:"status:mana",value:"status:mana+150"},{type:"setValue",name:"status:atk",value:"status:atk+6000"},{type:"setValue",name:"status:def",value:"status:def+6000"},{type:"setValue",name:"status:mdef",value:"status:mdef+7200"},"晋升为红海中阶！生命、生命上限+700000，魔法、魔法上限+150，攻击+6000，防御+6000，护盾+7200",{type:"setValue",name:"flag:lightRadius",value:"flag:lightRadius+25"},"灯光范围变大了。",{type:"function","function":"function(){\ncore.drawHero();\n}"},"获得3点天赋。",{type:"addValue",name:"item:talentPoint",value:"3"},{type:"if",condition:"core.getFlag('hard', 0) < 2","true":["乱撞难度下额外奖励1点天赋。",{type:"addValue",name:"item:talentPoint",value:"1"}],"false":[]},{type:"addValue",name:"flag:bring_hp_val",value:"50000"},"\t[熙枫,heroine]恭喜你晋入红海中阶。","\t[hero]咦，你的态度应该是“这是理所应当的”吧？","\t[熙枫,heroine]即使有我在，你以红海低阶的境界能适应这野外的环境，也是极为不易了。","\t[熙枫,heroine]要知道，在两大宗派里，红海低阶的弟子都只敢组队抱团，或者跟随老牌弟子行动，免得丧命于各种各样的红海技能。","\t[hero]毕竟，我也不是独身一人啊。","\t[熙枫,heroine]……",{type:"sleep",time:500},"\t[hero]对了，说起红海技能，到底什么技能算红海技能啊，我看这\r[yellow]阻击\r虽然不是红海技能，却比好多红海技能还要棘手。","\t[熙枫,heroine]你如今也有了自己的红海技能，你觉得它厉害在哪？","\t[hero]它的厉害之处……我想一想……",{type:"sleep",time:1000},"\t[hero]……应该是在于能够对强敌造成很好的效果。其实拿它对付不那么厉害的敌人，效果反倒不如一般的技能。",{type:"sleep",time:1000},"\t[hero]……难道说，红海技能都是擅长对抗强敌的？","\t[熙枫,heroine]很接近了！红海技能实际上指的是\r[yellow]上限很高\r的技能。","\t[熙枫,heroine]比如\r[yellow]吸血\r这个技能，因为是按照百分比造成伤害，所以再强的人也不能完全无视它。你有趋近于无穷大的血量，它就能造成趋近于无穷大的伤害。","\t[熙枫,heroine]因此即便是血海境界的人来到红海广场，虽然他凭借强大的防御力可以完全无视怪物的攻击，可如果不特意去应对这些红海技能，依然会被打得很惨。","\t[hero]原来，这才是红海技能的本质吗……","\t[熙枫,heroine]不过这个定义还是很模糊，有人不认同这些划分也是很正常的。",{type:"sleep",time:1000},"\t[熙枫,heroine]总之，能够达到红海中阶，我倒是不用担心你了。","\t[熙枫,heroine]只要记住，不要太勉强自己去挑战强敌。","\t[hero]放心，我自有分寸。"]},{need:"500000",title:"红海高阶",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+900000"},{type:"setValue",name:"status:hp",value:"status:hp+900000"},{type:"setValue",name:"status:manamax",value:"status:manamax+150"},{type:"setValue",name:"status:mana",value:"status:mana+150"},{type:"setValue",name:"status:atk",value:"status:atk+7000"},{type:"setValue",name:"status:def",value:"status:def+7000"},{type:"setValue",name:"status:mdef",value:"status:mdef+8400"},"晋升为红海高阶！生命、生命上限+900000，魔法、魔法上限+150，攻击+7000，防御+7000，护盾+8400",{type:"setValue",name:"flag:lightRadius",value:"flag:lightRadius+25"},"灯光范围变大了。",{type:"function","function":"function(){\ncore.drawHero();\n}"},"获得3点天赋。",{type:"addValue",name:"item:talentPoint",value:"3"},{type:"if",condition:"core.getFlag('hard', 0) < 2","true":["乱撞难度下额外奖励1点天赋。",{type:"addValue",name:"item:talentPoint",value:"1"}],"false":[]},{type:"if",condition:"core.getFlag('hard', 0) < 3","true":[{type:"addValue",name:"item:coin",value:"2000"},"天上突然掉下来2000金币砸到莫逆的头上（低难度福利）。","\t[hero]这啥玩意，天上还能掉钱的？","\t[熙枫,heroine]……","\t[系统提示]辣鸡作者怕玩家卡关，脸都不要了。"],"false":[]},{type:"addValue",name:"flag:bring_hp_val",value:"50000"},"\t[hero]红海高阶了，很快我在这野外就难寻敌手了吧。","\t[熙枫,heroine]先把最强大的野外生物都干掉再说这话吧。","\t[熙枫,heroine]你应该很快就会遇到具有\r[yellow]光环\r[white]属性的怪物了。它们自身没有战斗力，却能够令附近的怪物大幅增强。","\t[hero]还有这么神奇的属性？这是个什么原理？","\t[熙枫,heroine]这背后是一种极为高深的力量，即便是血海强者也极难参透。","\t[hero]这……你说过存在比血海还高的境界，难道跟这个有关？","\t[熙枫,heroine]具体我也不清楚，甚至血海之上的境界划分我都不知道，毕竟我全盛时期也不过是初入血海境界而已，根本接触不到那么高的层次。","\t[hero]哈哈，以我现在的境界，初入血海听起来已经很接近了。我现在大概有小姐姐全盛时期几成实力了？","\t[熙枫,heroine]一成都没有。",{type:"animate",name:"wuyu",loc:"hero",async:true},"\t[hero]啊？？","\t[熙枫,heroine]不说别的，光是\r[red]红海巅峰\r[white]和\r[red]血海初成\r[white]之间的差距就极大了，何况你连红海巅峰都没有。","\t[熙枫,heroine]不过你这一路走来，应该也已经感受到，随着境界提升，力量增长是非常快的，所以实力提升10倍很可能也用不了多久。","\t[熙枫,heroine]还是先走好眼前的路吧。如果遇到\r[yellow]光环\r[white]怪物，可以考虑用道具绕过其他怪物，先把它们打掉。","\t[hero]……明白。"]},{need:"1000000",title:"红海巅峰",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+1200000"},{type:"setValue",name:"status:hp",value:"status:hp+1200000"},{type:"setValue",name:"status:manamax",value:"status:manamax+200"},{type:"setValue",name:"status:mana",value:"status:mana+200"},{type:"setValue",name:"status:atk",value:"status:atk+8000"},{type:"setValue",name:"status:def",value:"status:def+8000"},{type:"setValue",name:"status:mdef",value:"status:mdef+9600"},"晋升为红海巅峰！生命、生命上限+1200000，魔法、魔法上限+200，攻击+8000，防御+8000，护盾+9600",{type:"setValue",name:"flag:lightRadius",value:"flag:lightRadius+25"},"灯光范围变大了。",{type:"function","function":"function(){\ncore.drawHero();\n}"},"获得4点天赋。",{type:"addValue",name:"item:talentPoint",value:"4"},{type:"addValue",name:"flag:bring_hp_val",value:"100000"},"\t[hero]如今的我，算是站在红海阶位的顶端了吧，离那血海境界也只有一步之遥。","\t[熙枫,heroine]的确是了。","\t[hero]那小姐姐是不是可以给我讲一些你以前的故事了，比如你是怎么获得升级这么快的能力的，你为什么对红海广场这么熟悉……","\t[熙枫,heroine]不行，现在还不是闲下来的时候。",{type:"animate",name:"wuyu",loc:"hero",async:true},"\t[hero]可是我真的有好多的问题想问你。","\t[熙枫,heroine]我们的敌人都是血海强者。而且，我总感觉他们早就该出现的……","\t[hero]别想那么多了，我这就去把残余的怪物清完，然后进入\r[yellow]月光大道\r[white]突破血海！","\t[hero]等我突破到血海境界，应该就不怕他们了吧？","\t[熙枫,heroine]按理说是这样，但是……我总觉得你立了个大大的flag。","\t[hero]唉，不对啊，小姐姐怎么突然变得这么悲观了？","\t[熙枫,heroine]……",{type:"sleep",time:500},"\t[熙枫,heroine]也许是我多虑了吧。"]},{need:"8500000",title:"半步血海",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},"晋升为半步血海！严格来讲这并不是一个境界，因此提升比较小。","获得1点天赋。",{type:"addValue",name:"item:talentPoint",value:"1"},{type:"sleep",time:500},"\t[hero]竟然升级了……","\t[hero]虽说那些力量十分虚浮，不过还是有一些沉淀下来了啊。面对这些血海初成的怪物又多了一分把握。","\t[hero]刚才家伙口气倒是够大，竟然说“一切疑问”都会迎刃而解，那我真是迫不及待了。"]},{need:"10000000",title:"血海初成",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+5000000"},{type:"setValue",name:"status:manamax",value:"status:manamax+200"},{type:"setValue",name:"status:atk",value:"status:atk+30000"},{type:"setValue",name:"status:def",value:"status:def+30000"},{type:"setValue",name:"status:mdef",value:"status:mdef+36000"},"晋升为血海初成！生命上限+5000000，魔法上限+200，攻击+30000，防御+30000，护盾+36000","普通攻击动画已改变！","获得5点天赋。",{type:"addValue",name:"item:talentPoint",value:"5"},"开启血海阶段的天赋。",{type:"setValue",name:"flag:skill5_cost",value:"250"},{type:"setValue",name:"flag:skill5_hpmax",value:"5000000"},{type:"setValue",name:"flag:skill5_atk",value:"100000"},{type:"setValue",name:"flag:skill5_def",value:"50000"},{type:"setValue",name:"flag:skill5_duration",value:"5"},{type:"setValue",name:"flag:skill5_cooldown",value:"10"},"领悟\r[red]【血海奥义】魔化\r[white]！",{type:"setValue",name:"item:I_morph",value:"1"},{type:"if",condition:"flag:hard == 2","true":["简单难度下获得2次重置天赋点的机会。",{type:"setValue",name:"item:I_resetTalent",value:"1"},{type:"setValue",name:"item:sword0",value:"2"}],"false":[]},{type:"if",condition:"flag:hard == 1","true":["乱撞难度下获得4次重置天赋点的机会。",{type:"setValue",name:"item:I_resetTalent",value:"1"},{type:"setValue",name:"item:sword0",value:"4"}],"false":[]},{type:"setValue",name:"flag:bring_hp_val",value:"1000000"},{type:"setValue",name:"flag:bring_mana_val",value:"100"},{type:"insert",loc:[10,0],floorId:"EventMap"},"最后，大境界突破，状态回满！"]},{need:"25000000",title:"血海大成",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+10000000"},{type:"setValue",name:"status:hp",value:"status:hp+10000000"},{type:"setValue",name:"status:manamax",value:"status:manamax+300"},{type:"setValue",name:"status:mana",value:"status:mana+300"},{type:"setValue",name:"status:atk",value:"status:atk+50000"},{type:"setValue",name:"status:def",value:"status:def+50000"},{type:"setValue",name:"status:mdef",value:"status:mdef+60000"},"晋升为血海大成！生命、生命上限+10000000，魔法、魔法上限+300，攻击+50000，防御+50000，护盾+60000","获得5点天赋。",{type:"addValue",name:"item:talentPoint",value:"5"}]},{need:"50000000",title:"血海圆满",clear:true,action:[{type:"animate",name:"upgrade",loc:"hero"},{type:"setValue",name:"status:hpmax",value:"status:hpmax+30000000"},{type:"setValue",name:"status:hp",value:"status:hp+30000000"},{type:"setValue",name:"status:manamax",value:"status:manamax+500"},{type:"setValue",name:"status:mana",value:"status:mana+500"},{type:"setValue",name:"status:atk",value:"status:atk+100000"},{type:"setValue",name:"status:def",value:"status:def+100000"},{type:"setValue",name:"status:mdef",value:"status:mdef+120000"},"晋升为血海圆满！生命、生命上限+30000000，魔法、魔法上限+500，攻击+100000，防御+100000，护盾+120000",{type:"if",condition:"flag:hard < 3","true":["获得3次重置天赋点的机会。（低难度福利）",{type:"setValue",name:"item:I_resetTalent",value:"1"},{type:"addValue",name:"item:sword0",value:"3"}],"false":[]},"开启终极天赋！","获得6点天赋。",{type:"addValue",name:"item:talentPoint",value:"6"}]}]},values:{lavaDamage:10000,poisonDamage:10,weakValue:0.05,redJewel:1,blueJewel:1,greenJewel:3,redPotion:50,bluePotion:120,yellowPotion:250,greenPotion:600,breakArmor:2,counterAttack:0.2,purify:6,hatred:2,moveSpeed:100,animateSpeed:400,floorChangeTime:800,yellowJewel:50,manaCrystal:1},flags:{enableFloor:true,enableName:false,enableLv:true,enableHPMax:true,enableMana:true,enableMDef:true,enableMoney:false,enableExperience:true,enableLevelUp:true,levelUpLeftMode:true,enableKeys:true,enablePZF:false,enableDebuff:true,enableSkill:true,flyNearStair:true,pickaxeFourDirections:false,bombFourDirections:false,snowFourDirections:false,bigKeyIsBox:false,steelDoorWithoutKey:true,equipment:false,equipboxButton:true,iconInEquipbox:true,enableAddPoint:false,enableNegativeDamage:true,hatredDecrease:true,betweenAttackCeil:false,betweenAttackMax:false,useLoop:false,startUsingCanvas:false,startDirectly:true,statusCanvas:false,statusCanvasRowsOnMobile:3,displayEnemyDamage:true,displayCritical:true,displayExtraDamage:true,enableGentleClick:true,potionWhileRouting:false,ignoreChangeFloor:true,canGoDeadZone:true,enableMoveDirectly:true,enableDisabledShop:false,disableShopOnDamage:false,checkConsole:false,flyRecordPosition:true}};var enemys_fcae963b_31c9_42b4_b48c_bb48d09f3f80={greenSlime:{name:"小莱姆",hp:50,atk:4,def:0,money:0,experience:1,point:0,special:0,level:"萌新一段"},redSlime:{name:"红莱姆",hp:70,atk:7,def:1,money:0,experience:1,point:0,special:0,value:10,level:"萌新一段"},blackSlime:{name:"黑莱姆",hp:260,atk:31,def:11,money:0,experience:5,point:0,special:0,level:"萌新三段"},slimelord:{name:"大莱姆",hp:1188,atk:118,def:8,money:0,experience:13,point:0,special:0,level:"萌新六段"},bat:{name:"小蝙蝠",hp:440,atk:101,def:8,money:0,experience:12,point:0,special:1,level:"萌新六段"},bigBat:{name:"大蝙蝠",hp:540,atk:280,def:36,money:0,experience:21,point:0,special:[1,4],level:"萌新八段"},vampire:{name:"迟秋贵族",hp:20000,atk:4600,def:1300,money:0,experience:144,point:0,special:102,level:"蓝海四阶",value:13,n:10},skeleton:{name:"骷髅人",hp:760,atk:256,def:15,money:0,experience:17,point:0,special:0,level:"萌新七段"},skeletonSoilder:{name:"骷髅士兵",hp:877,atk:328,def:55,money:0,experience:24,point:0,special:7,level:"萌新八段",value:1},skeletonCaptain:{name:"骷髅队长",hp:1428,atk:457,def:80,money:0,experience:27,point:0,special:7,level:"萌新九段",value:2},ghostSkeleton:{name:"蓝铠骷髅",hp:3200,atk:920,def:220,money:8,experience:41,point:0,special:7,value:3,level:"蓝海一阶"},zombie:{name:"兽人",hp:2333,atk:280,def:115,money:0,experience:23,point:0,special:100,level:"萌新八段",atkValue:null,x:5},zombieKnight:{name:"兽人武士",hp:3555,atk:420,def:220,money:0,experience:29,point:0,special:100,level:"萌新九段",x:8},rock:{name:"石头怪",hp:20,atk:55,def:35,money:0,experience:11,point:0,special:3,level:"萌新五段"},slimeMan:{name:"影子战士",hp:1650,atk:410,def:160,money:11,experience:25,point:0,special:99,atkValue:2,defValue:25,level:"萌新九段"},bluePriest:{name:"林间法师",hp:1080,atk:120,def:100,money:3,experience:22,point:0,special:2,level:"萌新八段"},redPriest:{name:"鲜红法师",hp:250000,atk:10000,def:25000,money:0,experience:1300,point:0,special:[2,125],level:"红海低阶",value:5,zoneSquare:true},brownWizard:{name:"初级巫师",hp:100,atk:120,def:0,money:16,experience:0,point:0,special:15,value:100,range:2,level:"半步血海"},redWizard:{name:"鲜红巫师",hp:750000,atk:61000,def:27000,money:0,experience:1900,point:0,special:[18],value:100000,zoneSquare:false,level:"红海中阶"},yellowGuard:{name:"黄土傀儡",hp:2000,atk:390,def:280,money:10,experience:28,point:0,special:0,level:"萌新九段"},blueGuard:{name:"蓝甲傀儡",hp:6000,atk:1900,def:800,money:0,experience:58,point:0,special:105,level:"蓝海二阶",defValue:20},redGuard:{name:"鲜红傀儡",hp:600000,atk:50000,def:33000,money:0,experience:1770,point:0,special:[16,105],level:"红海中阶",defValue:25},swordsman:{name:"双手剑士",hp:1200000,atk:210000,def:40000,money:0,experience:8800,point:0,special:0,level:"半步血海"},soldier:{name:"冥战士",hp:1040000,atk:450000,def:60000,money:0,experience:9000,point:0,special:0,level:"半步血海"},yellowKnight:{name:"金骑士",hp:640000,atk:350000,def:30000,money:0,experience:8300,point:0,special:0,level:"半步血海"},redKnight:{name:"鲜红骑士",hp:500000,atk:61000,def:28000,money:0,experience:1990,point:0,special:[103,115],level:"红海中阶",v_115:1000,atkValue:3},darkKnight:{name:"黑暗先驱",hp:9800000,atk:590000,def:380000,money:0,experience:34500,point:0,special:[1,8],level:"血海大成",value:0.2},blackKing:{name:"黑衣魔王",hp:1000000,atk:190000,def:190000,money:0,experience:1000000,point:0,special:[21,22],notBomb:true,level:"血海初成",defValue:33333,atkValue:88888,damage:1000000,value:66666},yellowKing:{name:"黄衣魔王",hp:4000000,atk:210000,def:150000,money:0,experience:1000000,point:0,special:[21,22],level:"血海初成",atkValue:55000,defValue:33000,damage:4000000,value:22000},greenKing:{name:"绿武士",hp:420000,atk:45000,def:19000,money:0,experience:1260,point:0,special:[12,16],level:"红海低阶",poison:500},blueKnight:{name:"蓝骑士",hp:400,atk:70,def:15,money:0,experience:0,point:0,special:[1,8],level:"未知境界",value:0.1},goldSlime:{name:"金莱姆",hp:555,atk:45,def:15,money:0,experience:10,point:0,special:0,level:"萌新四段"},poisonSkeleton:{name:"紫骷髅",hp:420000,atk:64000,def:23000,money:0,experience:1550,point:0,special:13,level:"红海中阶",weak:2},poisonBat:{name:"紫蝙蝠",hp:140000,atk:44000,def:8000,money:0,experience:1020,point:0,special:[4,13],level:"红海低阶",weak:2},steelRock:{name:"铁头怪",hp:40,atk:90,def:60,money:0,experience:15,point:0,special:3,level:"萌新七段"},skeletonPriest:{name:"骷髅法师",hp:480000,atk:10000,def:38000,money:0,experience:1860,point:0,special:[2,24],value:10000,level:"红海中阶"},skeletonKing:{name:"骷髅尊者",hp:800000,atk:101000,def:53000,money:0,experience:3000,point:0,special:[1,8],level:"红海高阶",value:0.1,n:null},skeletonWizard:{name:"白髅巫师",hp:660000,atk:90000,def:31000,money:0,experience:2200,point:0,special:[9,123],level:"红海高阶",zoneSquare:true,value:5},redSkeletonCaption:{name:"骷髅武士",hp:450000,atk:61000,def:23000,money:0,experience:1960,point:0,special:122,level:"红海中阶",v_122:1.5},badHero:{name:"鲜红狂战士",hp:999999,atk:81000,def:44000,money:0,experience:2300,point:0,special:[7,124],level:"红海高阶",value:3},demon:{name:"魔神武士",hp:1800000,atk:310000,def:110000,money:0,experience:20500,point:0,special:[7,103],level:"血海初成",value:3,atkValue:3},demonPriest:{name:"魔神法师",hp:2200000,atk:120000,def:120000,money:0,experience:21000,point:0,special:[2,9],level:"血海初成"},goldHornSlime:{name:"金角怪",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0,level:"血海初成"},redKing:{name:"红衣魔王",hp:440,atk:111,def:15,money:0,experience:0,point:0,special:[4,22],damage:5940,level:"未知境界"},whiteKing:{name:"白衣武士",hp:280,atk:60,def:15,money:0,experience:0,point:0,special:[15,16],value:100,level:"未知境界"},blackMagician:{name:"黑暗天罚",hp:6600000,atk:400000,def:300000,money:0,experience:36000,point:0,special:[2,132],value:null,add:true,notBomb:false,level:"血海大成",range:2},silverSlime:{name:"银莱姆",hp:280,atk:36,def:13,money:0,experience:6,point:0,special:0,level:"萌新四段"},swordEmperor:{name:"剑魔",hp:6000000,atk:580000,def:190000,money:0,experience:35000,point:0,special:[1,131],level:"血海大成"},whiteHornSlime:{name:"白骨头颅",hp:300000,atk:44000,def:25000,money:0,experience:1410,point:0,special:9,level:"红海低阶"},badPrincess:{name:"魔神妖女",hp:2500000,atk:290000,def:180000,money:0,experience:22200,point:0,special:[126,144],level:"血海初成",v_126:10},badFairy:{name:"黑暗仙子",hp:60000,atk:27500,def:7500,money:0,experience:5000,point:0,special:116,level:"蓝海巅峰"},grayPriest:{name:"中级法师",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},redSwordsman:{name:"剑王",hp:233,atk:128,def:5,money:0,experience:0,point:0,special:[4,101],n:8,level:"未知境界"},whiteGhost:{name:"水银战士",hp:66,atk:66,def:6,money:0,experience:0,point:0,special:[4,9],level:"未知境界"},poisonZombie:{name:"绿兽人",hp:500000,atk:36000,def:20000,money:0,experience:1120,point:0,special:[12,100],level:"红海低阶",x:10,poison:500},magicDragon:{name:"小魔龙",hp:999999,atk:99999,def:44444,money:0,experience:2590,point:0,special:[11,121],level:"红海高阶",v_121:30,value:0.12},octopus:{name:"血影魔兽",hp:999999,atk:50000,def:40000,money:0,experience:1810,point:0,special:[11,121],level:"红海中阶",damage:7,value:0.1,v_121:20},darkFairy:{name:"迅捷仙子",hp:60000,atk:25000,def:5000,money:0,experience:380,point:0,special:112,level:"蓝海九阶"},greenKnight:{name:"绿骑士",hp:660000,atk:55000,def:36000,money:0,experience:1810,point:0,special:[12,103],level:"红海中阶",poison:900,atkValue:3},angel:{name:"天使",hp:0,atk:0,def:0,money:0,experience:0,point:0,special:0},steelGuard:{name:"空壳盔甲",hp:1188,atk:52500,def:641,money:0,experience:60000,point:0,special:[3,120],value:null,level:"红海高阶"},evilBat:{name:"变异魔怪",hp:30000,atk:7500,def:1000,money:0,experience:1800,point:0,special:[103,104],range:30,n:1000,atkValue:3,level:"蓝海五阶"},E323:{name:"鲜红魔王",hp:2500000,atk:130000,def:50000,money:0,experience:250000,point:0,special:[11,103,124],level:"红海巅峰",n:null,x:null,value:0.2,range:null,atkValue:5},E324:{name:"橙莱姆",hp:88,atk:8,def:3,money:0,experience:2,point:0,special:0,level:"萌新一段"},E325:{name:"黄莱姆",hp:115,atk:11,def:5,money:0,experience:3,point:0,special:0,level:"萌新二段"},E326:{name:"绿莱姆",hp:130,atk:13,def:6,money:0,experience:3,point:0,special:0,level:"萌新二段"},E327:{name:"青莱姆",hp:188,atk:18,def:8,money:0,experience:3,point:0,special:0,level:"萌新二段"},E328:{name:"蓝莱姆",hp:198,atk:22,def:9,money:0,experience:4,point:0,special:0,level:"萌新三段"},E329:{name:"紫莱姆",hp:220,atk:25,def:10,money:0,experience:4,point:0,special:0,level:"萌新三段"},E344:{name:"海滩烂泥",hp:627,atk:62,def:7,money:0,experience:8,point:0,special:0,level:"萌新五段"},E345:{name:"海滩毛虫",hp:321,atk:66,def:19,money:0,experience:9,point:0,special:0,level:"萌新五段"},E346:{name:"海滩飞蝇",hp:210,atk:70,def:5,money:0,experience:7,point:0,special:4,level:"萌新五段"},E347:{name:"海滩乌龟",hp:767,atk:75,def:35,money:0,experience:14,point:0,special:0,level:"萌新六段",value:null},E348:{name:"柯诏",hp:820,atk:288,def:27,money:0,experience:27,point:0,special:[1,4],level:"萌新八段"},E361:{name:"林间烂泥",hp:1666,atk:175,def:50,money:0,experience:18,point:0,special:0,level:"萌新七段"},mgz:{name:"莫孤舟",hp:4000,atk:840,def:260,money:0,experience:500,point:0,special:102,level:"蓝海一阶",value:10,atkValue:null,n:20},yellowKeyProtector:{name:"宝物守护者",hp:2019,atk:520,def:365,money:0,experience:100,point:0,special:[4,7],level:"萌新九段",defValue:null,value:1},E374:{name:"迟秋法师",hp:5000,atk:800,def:600,money:0,experience:51,point:0,special:2,level:"蓝海二阶"},E375:{name:"变异蝙蝠",hp:2400,atk:990,def:130,money:0,experience:42,point:0,special:[1,5],level:"蓝海一阶"},E376:{name:"迟秋巫师",hp:6000,atk:2000,def:550,money:0,experience:54,point:0,special:15,level:"蓝海二阶",value:1000},E377:{name:"迟秋骑士",hp:7500,atk:4400,def:1000,money:0,experience:77,point:0,special:103,level:"蓝海三阶",atkValue:2},E378:{name:"徘徊阴影",hp:3300,atk:1050,def:400,money:0,experience:43,point:0,special:99,level:"蓝海一阶",defValue:40},E379:{name:"蓝铠战士",hp:8700,atk:3500,def:1400,money:0,experience:70,point:0,special:104,level:"蓝海三阶",n:25,range:25,damage:null,atkValue:null},E381:{name:"变异兽人",hp:12000,atk:2500,def:500,money:0,experience:63,point:0,special:100,level:"蓝海二阶",x:7},E382:{name:"变异兽人武士",hp:18000,atk:3910,def:1200,money:0,experience:90,point:0,special:[7,100],level:"蓝海三阶",x:10,value:1},E383:{name:"变异大莱姆",hp:5500,atk:1200,def:450,money:0,experience:47,point:0,special:8,level:"蓝海一阶",value:0.05},yeq_battle:{name:"叶芊",hp:66641,atk:34641,def:15201,money:0,experience:10000,point:0,special:[99,100],level:"蓝海巅峰",x:15,defValue:50},E388:{name:"梦幻雪宝宝",hp:12000,atk:9119,def:616,money:0,experience:170,point:0,special:108,level:"蓝海五阶"},E389:{name:"梦幻雪人",hp:16000,atk:13731,def:1111,money:0,experience:215,point:0,special:108,level:"蓝海六阶"},E390:{name:"极寒之影",hp:50000,atk:22000,def:7000,money:0,experience:240,point:0,special:106,level:"蓝海八阶",damage:2000},E391:{name:"冰蓝精灵",hp:33333,atk:11111,def:2000,money:0,experience:205,point:0,special:14,level:"蓝海六阶",n:4},E392:{name:"寒冬法师",hp:30000,atk:5000,def:10000,money:0,experience:255,point:0,special:[2,107],level:"蓝海八阶",damage:3000},E393:{name:"寒冬莱姆",hp:23000,atk:3000,def:5000,money:0,experience:220,point:0,special:[2,107],level:"蓝海六阶",damage:2000},E394:{name:"霜寒凝聚体",hp:90000,atk:15000,def:5000,money:0,experience:250,point:0,special:14,level:"蓝海七阶",n:10},E395:{name:"钴蓝傀儡",hp:20000,atk:17000,def:9000,money:0,experience:245,point:0,special:[105,109],level:"蓝海八阶",defValue:20},E396:{name:"冰冻怪石",hp:9999,atk:6226,def:3773,money:0,experience:175,point:0,special:[105,109],level:"蓝海五阶",defValue:20},E397:{name:"冰蓝泡泡",hp:16666,atk:6666,def:1666,money:0,experience:160,point:0,special:14,level:"蓝海五阶",n:3},E398:{name:"极冰武士",hp:40000,atk:21000,def:15000,money:0,experience:420,point:0,special:[103,109],level:"蓝海九阶",atkValue:3},E399:{name:"清凉胶体",hp:35555,atk:6164,def:2662,money:0,experience:165,point:0,special:14,level:"蓝海五阶",n:1},E400:{name:"极寒幽灵",hp:30000,atk:18000,def:5000,money:0,experience:210,point:0,special:106,level:"蓝海七阶",damage:1500},E401:{name:"梦幻雪王",hp:26562,atk:19191,def:2222,money:0,experience:260,point:0,special:108,level:"蓝海七阶"},oozy:{name:"黏黏怪",hp:975,atk:130,def:40,money:0,experience:16,point:0,special:[99],level:"萌新七段",defValue:15,x:null},E403:{name:"冰蓝灵蝶",hp:8888,atk:7788,def:4114,money:0,experience:180,point:0,special:[14,99],level:"蓝海五阶",defValue:50,n:2},E404:{name:"寒冬巫师",hp:28000,atk:10000,def:6000,money:0,experience:225,point:0,special:[14,15],level:"蓝海六阶",zoneSquare:true,n:5,value:2000},E405:{name:"极冰魔卫",hp:35000,atk:26500,def:13500,money:0,experience:450,point:0,special:[14,107],level:"蓝海九阶",damage:3000,n:8},E406:{name:"极冰魔王",hp:100000,atk:40000,def:8000,money:0,experience:5000,point:0,special:[14,100,106],level:"蓝海巅峰",damage:10000,n:15,x:20},E407:{name:"苍白泡泡",hp:22222,atk:4444,def:4444,money:0,experience:222,point:0,special:[2,110],level:"蓝海六阶",n:5},E408:{name:"黑暗泡泡",hp:22222,atk:13333,def:1333,money:0,experience:222,point:0,special:[1,111],level:"蓝海六阶",n:5},E409:{name:"苍白莱姆",hp:33333,atk:6666,def:6666,money:0,experience:243,point:0,special:[2,110],level:"蓝海七阶",n:7},E410:{name:"黑暗莱姆",hp:33333,atk:15555,def:5555,money:0,experience:243,point:0,special:[1,111],level:"蓝海七阶",n:7},E411:{name:"苍白尖角莱姆",hp:44444,atk:8888,def:8888,money:0,experience:325,point:0,special:[2,110],level:"蓝海八阶",n:12},E412:{name:"黑暗尖角莱姆",hp:44444,atk:19999,def:9999,money:0,experience:325,point:0,special:[1,111],level:"蓝海八阶",n:12},E413:{name:"持盾小莱姆",hp:60000,atk:12121,def:6666,money:0,experience:230,point:0,special:[113,121],level:"蓝海六阶",v_121:60},E414:{name:"持盾红莱姆",hp:70000,atk:16666,def:8888,money:0,experience:270,point:0,special:[113,121],level:"蓝海七阶",v_121:65},E415:{name:"持盾黑莱姆",hp:80000,atk:21111,def:11111,money:0,experience:320,point:0,special:[113,121],level:"蓝海八阶",v_121:70},E416:{name:"持盾大莱姆",hp:90000,atk:28888,def:13333,money:0,experience:380,point:0,special:[113,121],level:"蓝海九阶",v_121:75},E417:{name:"执杖莱姆王",hp:300000,atk:21111,def:16666,money:0,experience:5000,point:0,special:[2,114],level:"蓝海巅峰"},E418:{name:"迅捷小精灵",hp:20000,atk:16000,def:1600,money:0,experience:252,point:0,special:112,level:"蓝海七阶"},E419:{name:"迅捷大妖精",hp:40000,atk:20500,def:2050,money:0,experience:310,point:0,special:112,level:"蓝海八阶"},E420:{name:"变异小恶魔",hp:15000,atk:3200,def:2500,money:0,experience:121,point:0,special:115,level:"蓝海四阶",v_115:80},E421:{name:"光明叶芊",hp:36666,atk:0,def:22222,money:0,experience:5000,point:0,special:117,level:"蓝海巅峰"},E422:{name:"暗影叶芊",hp:36666,atk:28888,def:0,money:0,experience:5000,point:0,special:118,level:"蓝海巅峰"},yeq_battle_final:{name:"叶芊",hp:144441,atk:36665,def:14641,money:0,experience:10000,point:0,special:[99,100,119],level:"蓝海巅峰",defValue:60,x:20},E427:{name:"蓝袍收割者",hp:11000,atk:2667,def:1900,money:0,experience:84,point:0,special:[120,121],level:"蓝海三阶",v_121:90},E428:{name:"鲜红莱姆",hp:330000,atk:44000,def:12000,money:0,experience:1050,point:0,special:124,level:"红海低阶"},E429:{name:"鲜红收割者",hp:800000,atk:55500,def:30000,money:0,experience:1620,point:0,special:[16,124],level:"红海中阶"},E430:{name:"暗红大法师",hp:500000,atk:25000,def:25000,money:0,experience:1800,point:0,special:[2,125],level:"红海中阶",value:10,zoneSquare:true},E431:{name:"鲜红蝙蝠",hp:170000,atk:53000,def:9000,money:0,experience:1100,point:0,special:[4,11],level:"红海低阶",value:0.08},E432:{name:"鲜红剑士",hp:300000,atk:44000,def:16000,money:0,experience:1340,point:0,special:[4,115],level:"红海低阶",v_115:500},E433:{name:"红髅",hp:250000,atk:46000,def:12000,money:0,experience:1220,point:0,special:126,level:"红海低阶",v_121:50,v_126:20},E434:{name:"红髅士兵",hp:330000,atk:52000,def:15000,money:0,experience:1400,point:0,special:[104,126],level:"红海低阶",value:null,v_121:60,n:20,range:30,v_126:20},E435:{name:"骷髅妖皇",hp:1000000,atk:80000,def:50000,money:0,experience:250000,point:0,special:[2,9,123,127],level:"红海巅峰",zoneSquare:true,range:2,value:5},E436:{name:"骷髅精英",hp:650000,atk:80000,def:40000,money:0,experience:2720,point:0,special:[7,122],level:"红海高阶",v_122:2,value:3},E437:{name:"骷髅铁卫",hp:980000,atk:81000,def:59000,money:0,experience:2640,point:0,special:[9,120],level:"红海高阶"},E438:{name:"铠甲红髅",hp:400000,atk:38000,def:22000,money:0,experience:1290,point:0,special:126,level:"红海低阶",v_121:50,v_126:30},E439:{name:"双剑白髅",hp:240000,atk:63000,def:26000,money:0,experience:1560,point:0,special:[4,9],level:"红海中阶",v_121:null},E440:{name:"暗黑法师",hp:360000,atk:15000,def:32000,money:0,experience:1950,point:0,special:[2,15],level:"红海中阶",value:50000,zoneSquare:true},E441:{name:"暗黑巫师",hp:450000,atk:64000,def:28000,money:0,experience:1980,point:0,special:18,level:"红海中阶",value:70000},E442:{name:"绿触手",hp:120000,atk:55000,def:31000,money:0,experience:1880,point:0,special:[6,12,120],level:"红海中阶",n:6,poison:1200},E443:{name:"暗黑魔眼",hp:777777,atk:77000,def:51000,money:0,experience:2350,point:0,special:16,level:"红海高阶"},E444:{name:"紫触手",hp:120000,atk:51000,def:35000,money:0,experience:1880,point:0,special:[6,13,120],level:"红海中阶",n:6,weak:3},E445:{name:"菇妖",hp:250000,atk:51000,def:11000,money:0,experience:1170,point:0,special:[13,27],level:"红海低阶",weak:2},E446:{name:"黑髅士兵",hp:400000,atk:73000,def:11000,money:0,experience:1580,point:0,special:121,level:"红海中阶",v_121:50},E447:{name:"暗黑魔影",hp:500000,atk:0,def:0,money:0,experience:1720,point:0,special:[10,99,100,102],level:"红海中阶",x:10,value:20,n:10,defValue:50},E448:{name:"杀人蜂",hp:180000,atk:45000,def:9800,money:0,experience:1080,point:0,special:[12,27],level:"红海低阶",poison:800},E449:{name:"龙蝠",hp:550000,atk:99000,def:38000,money:0,experience:2480,point:0,special:[12,120],level:"红海高阶",poison:1500},E450:{name:"鬼灯怪",hp:600000,atk:50000,def:55000,money:0,experience:2540,point:0,special:100,level:"红海高阶",x:50},E451:{name:"地狱马",hp:750000,atk:86000,def:53000,money:0,experience:2650,point:0,special:13,level:"红海高阶",weak:4},E452:{name:"牛头怪",hp:930000,atk:76000,def:45000,money:0,experience:2250,point:0,special:[8,16],level:"红海高阶",value:0.2},E453:{name:"邪影",hp:500000,atk:105000,def:65000,money:0,experience:250000,point:0,special:[99,120],level:"红海巅峰",defValue:90},E461:{name:"便携小莱姆",hp:50,atk:4,def:0,money:0,experience:0,point:0,special:0,level:"萌新一段",v_121:null},E467:{name:"魔眼莱姆",hp:300000,atk:39000,def:19000,money:0,experience:1090,point:0,special:13,level:"红海低阶",weak:2},E468:{name:"四手魔影",hp:750000,atk:0,def:0,money:0,experience:2700,point:0,special:[4,10,99,100,102],level:"红海高阶",value:21,n:10,defValue:50,x:10},E469:{name:"负剑莱姆",hp:260000,atk:45000,def:15000,money:0,experience:1270,point:0,special:[1,7],level:"红海低阶",value:1.5},E470:{name:"小石怪",hp:200000,atk:37000,def:28000,money:0,experience:1300,point:0,special:[8,120],level:"红海低阶",value:0.05},E471:{name:"大石怪",hp:300000,atk:50000,def:36000,money:0,experience:1950,point:0,special:[8,120],level:"红海中阶",value:0.1},E472:{name:"骷髅骑士",hp:700000,atk:94000,def:43000,money:0,experience:2440,point:0,special:[103,104],level:"红海高阶",atkValue:4,n:50,range:25},E473:{name:"鲜红魔剑士",hp:600000,atk:60000,def:50000,money:0,experience:2320,point:0,special:[1,100],level:"红海高阶",x:50},E474:{name:"鲜红魔卫",hp:850000,atk:96000,def:56000,money:0,experience:2750,point:0,special:[11,16],level:"红海高阶",value:0.12},E475:{name:"暗红烂泥",hp:1000000,atk:38000,def:18000,money:0,experience:1090,point:0,special:0,level:"红海低阶"},E477:{name:"鲜红百夫长",hp:600000,atk:92000,def:43000,money:0,experience:2660,point:0,special:[103,105],level:"红海高阶",n:null,range:null,defValue:20,atkValue:3},E481:{name:"毛毛熊",hp:750000,atk:45000,def:30000,money:0,experience:50000,point:0,special:[27,115],level:"红海中阶",v_115:2000},E484:{name:"黑蜂",hp:200000,atk:60000,def:10000,money:0,experience:50000,point:0,special:[12,99],level:"红海中阶",poison:5000,defValue:90},E488:{name:"活力神符",hp:100,atk:0,def:0,money:0,experience:1000,point:0,special:25,level:"蓝海巅峰",value:50,add:true},E489:{name:"狂暴神符",hp:100,atk:0,def:0,money:0,experience:1000,point:0,special:25,level:"蓝海巅峰",atkValue:25,add:true},E490:{name:"坚毅神符",hp:100,atk:0,def:0,money:0,experience:1000,point:0,special:25,level:"蓝海巅峰",defValue:25,add:true},E491:{name:"绿色史莱姆",hp:15000000,atk:8000000,def:2550000,money:0,experience:0,point:0,special:[6,11,20,22],level:"血海王者",n:18,value:0.4,damage:127623},E494:{name:"邪恶黑影",hp:3000000,atk:250000,def:135000,money:0,experience:1000000,point:0,special:[11,128],level:"血海初成",value:0.25},E495:{name:"恶毒黑影",hp:1800000,atk:230000,def:130000,money:0,experience:800000,point:0,special:[100,116],level:"血海初成",x:10},E496:{name:"阴魂黑影",hp:2500000,atk:240000,def:120000,money:0,experience:900000,point:0,special:[4,99],level:"血海初成",defValue:90,v_121:null},E497:{name:"狂暴之力",hp:10,atk:100,def:0,money:0,experience:0,point:0,special:[18,19,140],level:"半步血海",value:10000,zoneSquare:true,range:3,atkValue:10,add:true},E498:{name:"衰退之力",hp:100,atk:10,def:0,money:0,experience:0,point:0,special:[18,19,140],level:"半步血海",value:10000,atkValue:-10,add:true,range:2,zoneSquare:true},E512:{name:"绿头怪",hp:500000,atk:200000,def:10000,money:0,experience:5000,point:0,special:12,level:"半步血海",poison:10000},E513:{name:"红头怪",hp:700000,atk:150000,def:20000,money:0,experience:6000,point:0,special:0,level:"半步血海"},E514:{name:"黑头怪",hp:600000,atk:350000,def:50000,money:0,experience:7000,point:0,special:0,level:"半步血海"},E515:{name:"怪王",hp:2500000,atk:250000,def:25000,money:0,experience:8000,point:0,special:0,level:"半步血海"},E516:{name:"小蝙蝠",hp:1000000,atk:200000,def:50000,money:0,experience:7500,point:0,special:0,level:"半步血海"},E517:{name:"骷髅人",hp:1100000,atk:250000,def:50000,money:0,experience:8500,point:0,special:0,level:"半步血海"},E518:{name:"石头人",hp:100,atk:150000,def:100000,money:0,experience:8000,point:0,special:[3,120],level:"半步血海"},E519:{name:"大蝙蝠",hp:600000,atk:1000000,def:8000,money:0,experience:6500,point:0,special:0,level:"半步血海"},E520:{name:"初级卫兵",hp:500000,atk:380000,def:120000,money:0,experience:6800,point:0,special:16,level:"半步血海"},E521:{name:"初级法师",hp:600000,atk:160000,def:40000,money:0,experience:8200,point:0,special:2,level:"半步血海"},E522:{name:"紫衣魔王",hp:2000000,atk:205000,def:140000,money:0,experience:1000000,point:0,special:[21,22],level:"血海初成",atkValue:44440,defValue:66660,damage:2000000,value:33330},E523:{name:"青衣魔王",hp:3000000,atk:160000,def:230000,money:0,experience:1000000,point:0,special:[21,22],atkValue:99900,defValue:11100,level:"血海初成",damage:3000000,value:99900},E524:{name:"橙衣魔王",hp:5000000,atk:400000,def:30000,money:0,experience:1000000,point:0,special:[21,22],level:"血海初成",damage:5000000,atkValue:50000,defValue:50000,value:60000},E525:{name:"真滑稽",hp:1000000,atk:180000,def:60000,money:0,experience:9100,point:0,special:0,level:"半步血海"},E526:{name:"假滑稽",hp:900000,atk:220000,def:20000,money:0,experience:9300,point:0,special:[1,9],level:"半步血海"},E527:{name:"冥中脚",hp:1100000,atk:170000,def:60000,money:0,experience:9500,point:0,special:8,value:0.3,level:"血海初成"},E528:{name:"破晓之美",hp:5240000,atk:210000,def:30000,money:0,experience:11500,point:0,special:[11,16,19,22],damage:1,value:0.333333333333,level:"血海初成"},E529:{name:"伊鲁扎",hp:1800000,atk:180000,def:110000,money:0,experience:10400,point:0,special:[12,16],level:"血海初成",poison:5000},E530:{name:"十夜黄",hp:2040000,atk:110000,def:0,money:0,experience:10700,point:0,special:[2,15],level:"血海初成",zoneSquare:true,value:500000},E531:{name:"血海骑士",hp:2440000,atk:260000,def:15000,money:0,experience:11800,point:0,special:[1,16],level:"血海初成"},E532:{name:"血海亡魂",hp:3000000,atk:215000,def:120000,money:0,experience:15000,point:0,special:[11,22,101],level:"血海初成",damage:300,value:0.333333333333},E533:{name:"石奋",hp:600000,atk:180000,def:150000,money:0,experience:10800,point:0,special:[3,143],value:null,level:"血海初成"},E534:{name:"火蝙蝠",hp:500000,atk:330000,def:70000,money:0,experience:9700,point:0,special:11,level:"血海初成",value:0.333333333333},E535:{name:"伊似柳",hp:6700417,atk:641,def:641,money:0,experience:14600,point:0,special:[10,102],zoneSquare:true,n:10,value:24,level:"血海初成"},E540:{name:"伯力死士",hp:4800000,atk:480000,def:160000,money:0,experience:30800,point:0,special:[16,126],level:"血海大成",v_126:20},E541:{name:"伯力杀人魔",hp:6400000,atk:640000,def:220000,money:0,experience:36000,point:0,special:[101,126],level:"血海大成",v_126:25},E542:{name:"伯力鼓舞者",hp:4700000,atk:450000,def:130000,money:0,experience:31300,point:0,special:[133,140],level:"血海大成",range:2,atkValue:20,bo_atk:5000},E543:{name:"伯力卑劣者",hp:6600000,atk:710000,def:330000,money:0,experience:37000,point:0,special:[101,133],level:"血海大成",v_126:null,atkValue:null,bo_atk:5000},E544:{name:"伯力狂热者",hp:10000000,atk:650000,def:510000,money:0,experience:7500000,point:0,special:[19,133,134],level:"血海圆满",atkValue:null,defValue:null,range:2,zoneSquare:true},E545:{name:"伯力双刀魔",hp:5500000,atk:780000,def:260000,money:0,experience:40800,point:0,special:[4,133],level:"血海圆满"},E546:{name:"伯力走狗",hp:4500000,atk:280000,def:160000,money:0,experience:26000,point:0,special:[121,133],level:"血海初成",damage:null,defValue:2000,v_121:50,bo_atk:1000},E547:{name:"伯力捍卫者",hp:7000000,atk:430000,def:230000,money:0,experience:31800,point:0,special:[121,133],level:"血海大成",damage:null,value:100000,v_121:50,bo_atk:2000},E548:{name:"伯力黑骑",hp:8000000,atk:780000,def:400000,money:0,experience:45000,point:0,special:[103,133],level:"血海圆满",defValue:null,bo_def:5000,atkValue:5},E549:{name:"伯力猛士",hp:5610000,atk:530000,def:260000,money:0,experience:33300,point:0,special:[1,136],level:"血海大成"},E550:{name:"伯力骷髅",hp:2800000,atk:420000,def:150000,money:0,experience:25600,point:0,special:[7,9],level:"血海初成",atkValue:null,value:3},E551:{name:"伯力骷髅兵",hp:4700000,atk:520000,def:220000,money:0,experience:32400,point:0,special:[7,9],level:"血海大成",atkValue:null,value:4},E552:{name:"伯力搏击者",hp:6000000,atk:540000,def:200000,money:0,experience:31500,point:0,special:[132,143],level:"血海大成"},E553:{name:"伯力监督者",hp:8500000,atk:450000,def:250000,money:0,experience:38000,point:0,special:[133,139],level:"血海大成",damage:null,range:2,value:50,bo_hp:100000},E554:{name:"伯力巫师",hp:3100000,atk:340000,def:150000,money:0,experience:28000,point:0,special:[9,135],level:"血海初成"},E555:{name:"伯力忠诚者",hp:4200000,atk:415000,def:220000,money:0,experience:31000,point:0,special:[133,138],level:"血海大成",defValue:20,range:2,bo_def:5000},E556:{name:"伯力信徒",hp:2500000,atk:150000,def:180000,money:0,experience:30500,point:0,special:[2,134],level:"血海初成",zoneSquare:true},E557:{name:"伯力蝙蝠",hp:2600000,atk:390000,def:110000,money:0,experience:21800,point:0,special:[4,11],level:"血海初成",damage:null,range:null,value:0.5},E558:{name:"伯力吸血鬼",hp:12000000,atk:990000,def:550000,money:0,experience:60000,point:0,special:[11,134],level:"血海圆满",range:2,zoneSquare:true,value:1},E559:{name:"伯力莱姆",hp:25000000,atk:650000,def:550000,money:0,experience:42500,point:0,special:[99,102,143],level:"血海圆满",value:26,defValue:80,n:10},E560:{name:"伯力变异人",hp:5005000,atk:0,def:0,money:0,experience:47000,point:0,special:[102,137],level:"血海圆满",n:10,value:26},E561:{name:"星际法师",hp:7500000,atk:200000,def:450000,money:0,experience:32000,point:0,special:[2,136],level:"血海大成",range:null},E562:{name:"星际巫师",hp:8500000,atk:660000,def:430000,money:0,experience:32500,point:0,special:[1,135],level:"血海大成",value:null},E563:{name:"铁甲近卫",hp:2000000,atk:290000,def:120000,money:0,experience:20000,point:0,special:[1,121],level:"血海初成",defValue:null,v_121:50},E564:{name:"朝阳之光",hp:2400000,atk:400000,def:100000,money:0,experience:23000,point:0,special:[15,120],level:"血海初成",atkValue:null,range:2,zoneSquare:true,value:500000},E565:{name:"终末骑士",hp:4000000,atk:550000,def:350000,money:0,experience:34000,point:0,special:[103,130],level:"血海大成",atkValue:4},E566:{name:"星际执政官",hp:12000000,atk:660000,def:360000,money:0,experience:43000,point:0,special:[121,141],level:"血海圆满",v_121:99},E567:{name:"重骑士",hp:4000000,atk:300000,def:150000,money:0,experience:21500,point:0,special:[105,113,120],level:"血海初成",defValue:25},E568:{name:"血海战士",hp:5000000,atk:336000,def:158000,money:0,experience:22500,point:0,special:[104,121],level:"血海初成",v_121:50,range:20,n:100},E569:{name:"曙光神射手",hp:3140000,atk:320000,def:150000,money:0,experience:24000,point:0,special:[24,100],level:"血海初成",value:100000,x:15},E570:{name:"曙光傀儡",hp:1600000,atk:270000,def:140000,money:0,experience:23500,point:0,special:[3,8],level:"血海初成",value:0.01,defValue:null},E571:{name:"曙光蝙蝠",hp:1300000,atk:370000,def:80000,money:0,experience:22000,point:0,special:[99,112],level:"血海初成",defValue:60},E572:{name:"黑暗裁决",hp:4000000,atk:800000,def:200000,money:0,experience:33500,point:0,special:[6,7],level:"血海大成",n:4,value:4},kongyang:{name:"孔阳",hp:20000000,atk:1750000,def:850000,money:0,experience:0,point:0,special:[5,99,100,142],level:"血海圆满",defValue:25,x:15}};var icons_4665ee12_3a1f_44a4_bea3_0fccba634dc1={hero:{down:{loc:0,stop:0,leftFoot:1,rightFoot:3},left:{loc:1,stop:0,leftFoot:1,rightFoot:3},right:{loc:2,stop:0,leftFoot:1,rightFoot:3},up:{loc:3,stop:0,leftFoot:1,rightFoot:3},height:48},terrains:{ground:0,grass:1,grass2:2,yellowWall:3,whiteWall:4,blueWall:5,snowGround:6,ground2:7,ground3:8,ground4:9,sand:10,ground5:11,yellowWall2:12,whiteWall2:13,blueWall2:14,blockWall:15,grayWall:16,white:17,ground6:18,soil:19,ground7:20,ground8:21,ice:22,downFloor:23,upFloor:24,yellowDoor:25,blueDoor:26,redDoor:27,greenDoor:28,specialDoor:29,steelDoor:30,"blueShop-left":31,"blueShop-right":32,"pinkShop-left":33,"pinkShop-right":34,arrowUp:35,arrowDown:36,arrowLeft:37,arrowRight:38,light:39,darkLight:40,ski:41,flower:42,box:43,boxed:44,T319:45,T320:46,T321:47,T322:48},animates:{star:0,lava:1,blueWater:2,water:3,yellowDoor:4,blueDoor:5,redDoor:6,greenDoor:7,specialDoor:8,steelDoor:9,yellowWall:10,whiteWall:11,blueWall:12,crystalUp:13,crystalBottom:14,starPortal:15,fire:16,portal:17,"switch":18,lavaNet:19,poisonNet:20,weakNet:21,curseNet:22,downPortal:23,leftPortal:24,rightPortal:25,upPortal:26},npcs:{man:0,woman:1,thief:2,fairy:3,magician:4,womanMagician:5,oldMan:6,child:7,wood:8,pinkShop:9,blueShop:10,princess:11,wlt:12,wt:13,wrt:14,wl:15,wc:16,wr:17,wlb:18,wrb:19,dlt:20,dt:21,drt:22,dl:23,dc:24,dr:25,dlb:26,drb:27,N330:28,N384:29,N502:30,N575:31},npc48:{npc1:1,npc2:2,npc3:3,npc4:4,N363:5,N364:6,N365:7,N366:8,N367:9,N368:10,N369:11,N370:12,N372:13,N373:14,unknown:15,npc0:0,heroine:16,yeq:17,N402:18,N424:19,N425:20,N426:21,N464:22,N465:23,N485:24,N486:25,N492:26,N493:27,N501:29,heroineUp:28,heroineLeft:31,heroineRight:30,N505:32,N506:33,N507:34,N508:35,N509:36,N510:37,N511:38,N_kongyang:39},enemys:{greenSlime:0,redSlime:1,blackSlime:2,slimelord:3,bat:4,bigBat:5,vampire:7,skeleton:8,skeletonSoilder:9,skeletonCaptain:10,ghostSkeleton:11,zombie:12,zombieKnight:13,rock:14,slimeMan:15,bluePriest:16,redPriest:17,brownWizard:18,redWizard:19,yellowGuard:20,blueGuard:21,redGuard:22,swordsman:23,soldier:24,yellowKnight:25,redKnight:26,darkKnight:27,blackKing:28,yellowKing:29,greenKing:30,blueKnight:31,goldSlime:32,poisonSkeleton:33,poisonBat:34,steelRock:35,skeletonPriest:36,skeletonKing:37,skeletonWizard:38,redSkeletonCaption:39,badHero:40,demon:41,demonPriest:42,goldHornSlime:43,redKing:44,whiteKing:45,blackMagician:46,silverSlime:47,swordEmperor:48,whiteHornSlime:49,badPrincess:50,badFairy:51,grayPriest:52,redSwordsman:53,whiteGhost:54,poisonZombie:55,magicDragon:56,octopus:57,darkFairy:58,greenKnight:59,E323:60,E324:61,E325:62,E326:63,E327:64,E328:65,E329:66,E344:67,E345:68,E346:69,E347:70,E361:71,E374:72,E375:73,E376:74,E377:75,E378:76,E379:77,E381:78,E382:79,E383:80,E388:81,E389:82,E390:83,E391:84,E392:85,E393:86,E394:87,E395:88,E396:89,E397:90,E398:91,E399:92,E400:93,E401:94,oozy:6,E403:95,E404:96,E405:97,E406:98,E407:99,E408:100,E409:101,E410:102,E411:103,E412:104,E413:105,E414:106,E415:107,E416:108,E417:109,E418:110,E419:111,E420:112,E427:113,E428:114,E429:115,E430:116,E431:117,E432:118,E433:119,E434:120,E435:121,E436:122,E437:123,E438:124,E439:125,E440:126,E441:127,E442:128,E443:129,E444:130,E446:131,E447:132,E449:133,E450:134,E451:135,E452:136,E453:137,E461:138,E467:139,E468:140,E469:141,E470:142,E471:143,E472:144,E473:145,E474:146,E475:147,E477:148,E488:149,E489:150,E490:151,E491:152,E497:153,E498:154,E512:155,E513:156,E514:157,E515:158,E516:159,E517:160,E518:161,E519:162,E520:163,E521:164,E522:165,E523:166,E524:167,E525:168,E526:169,E527:170,E528:171,E529:172,E530:173,E531:174,E532:175,E533:176,E534:177,E540:178,E541:179,E542:180,E543:181,E544:182,E545:183,E546:184,E547:185,E548:186,E549:187,E550:188,E551:189,E552:190,E553:191,E554:192,E555:193,E556:194,E557:195,E558:196,E559:197,E560:198,E561:199,E562:200,E563:201,E564:202,E565:203,E566:204,E567:205,E568:206,E569:207,E570:208,E571:209,E572:210},enemy48:{angel:0,steelGuard:2,evilBat:3,E348:4,mgz:5,yellowKeyProtector:1,yeq_battle:6,E421:7,E422:8,yeq_battle_final:9,E445:10,E448:11,E481:12,E484:13,E494:14,E495:15,E496:16,E535:17,kongyang:18},items:{yellowKey:0,blueKey:1,redKey:2,greenKey:3,steelKey:4,bigKey:6,redJewel:16,blueJewel:17,greenJewel:18,yellowJewel:19,redPotion:20,bluePotion:21,greenPotion:22,yellowPotion:23,sword0:60,sword1:50,sword2:51,sword3:52,sword4:53,sword5:54,shield0:61,shield1:55,shield2:56,shield3:57,shield4:58,shield5:59,book:9,fly:12,pickaxe:45,icePickaxe:44,bomb:43,centerFly:13,upFly:15,downFly:14,snow:41,cross:40,superPotion:29,earthquake:8,poisonWine:24,weakWine:25,superWine:28,knife:42,moneyPocket:46,shoes:47,hammer:48,jumpShoes:49,skill1:30,I341:38,I342:39,I_ex_atk:36,I_ex_def:37,I_vampire:62,I349:63,I350:64,I351:65,I352:66,I353:67,I354:68,I355:69,I356:70,I357:71,I358:72,I359:73,I360:74,I_charge:31,I_charge2:32,I_hp_score:10,I380:75,skill2:33,skill3:34,I_hard_1:7,I_hard_2:11,I454:76,I455:77,I456:78,I457:79,skill4:35,I458:80,I459:81,I462:83,tome:84,coin:82,expelPoison:85,bring_hp:26,bring_mana:27,I476:86,invisibleWine:88,talent:89,execute:90,I483:91,smallJump:87,c_charge:92,talentPoint:93,I536:94,I_morph:95,I_morphed:96,I_morph_cooldown:97,I_resetTalent:5},autotile:{autotile:0,autotile1:0,autotile2:0,autotile3:0,autotile4:0,autotile5:0,autotile6:0,autotile7:0,autotile8:0,autotile9:0,autotile10:0,autotile11:0,autotile12:0,autotile13:0,autotile14:0,autotile15:0,autotile16:0,autotile17:0,autotile18:0}};var maps_90f36752_8815_4be8_b32b_d7fad1d0542e={"1":{cls:"terrains",id:"yellowWall",canBreak:true},"2":{cls:"terrains",id:"whiteWall",canBreak:true},"3":{cls:"terrains",id:"blueWall",canBreak:true},"4":{cls:"animates",id:"star",noPass:true},"5":{cls:"animates",id:"lava",noPass:true},"6":{cls:"terrains",id:"ice"},"7":{cls:"terrains",id:"blueShop-left"},"8":{cls:"terrains",id:"blueShop-right"},"9":{cls:"terrains",id:"pinkShop-left"},"10":{cls:"terrains",id:"pinkShop-right"},"11":{cls:"animates",id:"lavaNet",noPass:false,trigger:"passNet"},"12":{cls:"animates",id:"poisonNet",noPass:false,trigger:"passNet"},"13":{cls:"animates",id:"weakNet",noPass:false,trigger:"passNet"},"14":{cls:"animates",id:"curseNet",noPass:false,trigger:"passNet"},"15":{cls:"animates",id:"blueWater",noPass:true},"16":{cls:"animates",id:"water",noPass:true},"20":{cls:"autotile",id:"autotile",noPass:true},"21":{cls:"items",id:"yellowKey"},"22":{cls:"items",id:"blueKey"},"23":{cls:"items",id:"redKey"},"24":{cls:"items",id:"greenKey"},"25":{cls:"items",id:"steelKey"},"26":{cls:"items",id:"bigKey"},"27":{cls:"items",id:"redJewel"},"28":{cls:"items",id:"blueJewel"},"29":{cls:"items",id:"greenJewel"},"30":{cls:"items",id:"yellowJewel"},"31":{cls:"items",id:"redPotion"},"32":{cls:"items",id:"bluePotion"},"33":{cls:"items",id:"greenPotion"},"34":{cls:"items",id:"yellowPotion"},"35":{cls:"items",id:"sword1"},"36":{cls:"items",id:"shield1"},"37":{cls:"items",id:"sword2"},"38":{cls:"items",id:"shield2"},"39":{cls:"items",id:"sword3"},"40":{cls:"items",id:"shield3"},"41":{cls:"items",id:"sword4"},"42":{cls:"items",id:"shield4"},"43":{cls:"items",id:"sword5"},"44":{cls:"items",id:"shield5"},"45":{cls:"items",id:"book"},"46":{cls:"items",id:"fly"},"47":{cls:"items",id:"pickaxe"},"48":{cls:"items",id:"icePickaxe"},"49":{cls:"items",id:"bomb"},"50":{cls:"items",id:"centerFly"},"51":{cls:"items",id:"upFly"},"52":{cls:"items",id:"downFly"},"53":{cls:"items",id:"I_hard_2"},"54":{cls:"items",id:"snow"},"55":{cls:"items",id:"cross"},"56":{cls:"items",id:"superPotion"},"57":{cls:"items",id:"earthquake"},"58":{cls:"items",id:"poisonWine"},"59":{cls:"items",id:"weakWine"},"60":{cls:"items",id:"bring_mana"},"61":{cls:"items",id:"superWine"},"62":{cls:"items",id:"knife"},"63":{cls:"items",id:"moneyPocket"},"64":{cls:"items",id:"shoes"},"65":{cls:"items",id:"hammer"},"68":{cls:"items",id:"skill2"},"69":{cls:"items",id:"jumpShoes"},"70":{cls:"items",id:"sword0"},"71":{cls:"items",id:"shield0"},"72":{cls:"items",id:"skill1"},"81":{cls:"terrains",id:"yellowDoor",trigger:"openDoor"},"82":{cls:"terrains",id:"blueDoor",trigger:"openDoor"},"83":{cls:"terrains",id:"redDoor",trigger:"openDoor"},"84":{cls:"terrains",id:"greenDoor",trigger:"openDoor"},"85":{cls:"terrains",id:"specialDoor",trigger:"openDoor"},"86":{cls:"terrains",id:"steelDoor",trigger:"openDoor"},"87":{cls:"terrains",id:"upFloor",noPass:false},"88":{cls:"terrains",id:"downFloor",noPass:false},"89":{cls:"animates",id:"portal",noPass:false},"90":{cls:"animates",id:"starPortal",noPass:false},"91":{cls:"animates",id:"upPortal",noPass:false},"92":{cls:"animates",id:"leftPortal",noPass:false},"93":{cls:"animates",id:"downPortal",noPass:false},"94":{cls:"animates",id:"rightPortal",noPass:false},"101":{cls:"animates",id:"crystalUp"},"102":{cls:"animates",id:"crystalBottom"},"103":{cls:"animates",id:"fire"},"104":{cls:"animates",id:"switch"},"121":{cls:"npcs",id:"man"},"122":{cls:"npcs",id:"woman"},"123":{cls:"npcs",id:"thief"},"124":{cls:"npcs",id:"fairy"},"125":{cls:"npcs",id:"magician"},"126":{cls:"npcs",id:"womanMagician"},"127":{cls:"npcs",id:"oldMan"},"128":{cls:"npcs",id:"child"},"129":{cls:"npcs",id:"wood"},"130":{cls:"npcs",id:"pinkShop"},"131":{cls:"npcs",id:"blueShop"},"132":{cls:"npcs",id:"princess"},"133":{cls:"npc48",id:"npc0"},"134":{cls:"npc48",id:"npc1"},"135":{cls:"npc48",id:"npc2"},"136":{cls:"npc48",id:"npc3"},"137":{cls:"npc48",id:"npc4"},"140":{cls:"autotile",id:"autotile8",noPass:true},"141":{cls:"autotile",id:"autotile4",noPass:false},"142":{cls:"autotile",id:"autotile5",noPass:true},"143":{cls:"autotile",id:"autotile6",noPass:true},"144":{cls:"autotile",id:"autotile7",noPass:true},"145":{cls:"autotile",id:"autotile9",noPass:true},"146":{cls:"autotile",id:"autotile10",noPass:true},"147":{cls:"autotile",id:"autotile11",noPass:true},"148":{cls:"autotile",id:"autotile12",noPass:"false"},"149":{cls:"autotile",id:"autotile13",noPass:true},"150":{cls:"autotile",id:"autotile14",noPass:true},"151":{cls:"autotile",id:"autotile1",noPass:true},"152":{cls:"autotile",id:"autotile2",noPass:true},"153":{cls:"autotile",id:"autotile3",noPass:true},"154":{cls:"autotile",id:"autotile15",noPass:true},"155":{cls:"autotile",id:"autotile16",noPass:"false"},"156":{cls:"autotile",id:"autotile17",noPass:true},"157":{cls:"autotile",id:"autotile18",noPass:true},"161":{cls:"terrains",id:"arrowUp",noPass:false,cannotOut:["left","right","down"],cannotIn:["down"]},"162":{cls:"terrains",id:"arrowDown",noPass:false,cannotOut:["left","right","up"],cannotIn:["up"]},"163":{cls:"terrains",id:"arrowLeft",noPass:false,cannotOut:["up","down","right"],cannotIn:["right"]},"164":{cls:"terrains",id:"arrowRight",noPass:false,cannotOut:["up","down","left"],cannotIn:["left"]},"165":{cls:"terrains",id:"light",trigger:"changeLight",noPass:false},"166":{cls:"terrains",id:"darkLight",noPass:true},"167":{cls:"terrains",id:"ski",trigger:"ski",noPass:false},"168":{cls:"terrains",id:"flower",noPass:false},"169":{cls:"terrains",id:"box",trigger:"pushBox",noPass:true},"170":{cls:"terrains",id:"boxed",trigger:"pushBox",noPass:true},"181":{cls:"npcs",id:"wlt"},"182":{cls:"npcs",id:"wt"},"183":{cls:"npcs",id:"wrt"},"184":{cls:"npcs",id:"wl"},"185":{cls:"npcs",id:"wc"},"186":{cls:"npcs",id:"wr"},"187":{cls:"npcs",id:"wlb"},"188":{cls:"npcs",id:"wrb"},"189":{cls:"npcs",id:"dlt"},"190":{cls:"npcs",id:"dt"},"191":{cls:"npcs",id:"drt"},"192":{cls:"npcs",id:"dl"},"193":{cls:"npcs",id:"dc"},"194":{cls:"npcs",id:"dr"},"195":{cls:"npcs",id:"dlb"},"196":{cls:"npcs",id:"drb"},"201":{cls:"enemys",id:"greenSlime"},"202":{cls:"enemys",id:"redSlime"},"203":{cls:"enemys",id:"blackSlime"},"204":{cls:"enemys",id:"slimelord"},"205":{cls:"enemys",id:"bat"},"206":{cls:"enemys",id:"bigBat"},"207":{cls:"enemys",id:"oozy"},"208":{cls:"enemys",id:"vampire"},"209":{cls:"enemys",id:"skeleton"},"210":{cls:"enemys",id:"skeletonSoilder"},"211":{cls:"enemys",id:"skeletonCaptain"},"212":{cls:"enemys",id:"ghostSkeleton"},"213":{cls:"enemys",id:"zombie"},"214":{cls:"enemys",id:"zombieKnight"},"215":{cls:"enemys",id:"rock"},"216":{cls:"enemys",id:"slimeMan"},"217":{cls:"enemys",id:"bluePriest"},"218":{cls:"enemys",id:"redPriest"},"219":{cls:"enemys",id:"brownWizard"},"220":{cls:"enemys",id:"redWizard"},"221":{cls:"enemys",id:"yellowGuard"},"222":{cls:"enemys",id:"blueGuard"},"223":{cls:"enemys",id:"redGuard"},"224":{cls:"enemys",id:"swordsman"},"225":{cls:"enemys",id:"soldier"},"226":{cls:"enemys",id:"yellowKnight"},"227":{cls:"enemys",id:"redKnight"},"228":{cls:"enemys",id:"darkKnight"},"229":{cls:"enemys",id:"blackKing"},"230":{cls:"enemys",id:"yellowKing"},"231":{cls:"enemys",id:"greenKing"},"232":{cls:"enemys",id:"blueKnight"},"233":{cls:"enemys",id:"goldSlime"},"234":{cls:"enemys",id:"poisonSkeleton"},"235":{cls:"enemys",id:"poisonBat"},"236":{cls:"enemys",id:"steelRock"},"237":{cls:"enemys",id:"skeletonPriest"},"238":{cls:"enemys",id:"skeletonKing"},"239":{cls:"enemys",id:"skeletonWizard"},"240":{cls:"enemys",id:"redSkeletonCaption"},"241":{cls:"enemys",id:"badHero"},"242":{cls:"enemys",id:"demon"},"243":{cls:"enemys",id:"demonPriest"},"244":{cls:"enemys",id:"goldHornSlime"},"245":{cls:"enemys",id:"redKing"},"246":{cls:"enemys",id:"whiteKing"},"247":{cls:"enemys",id:"blackMagician"},"248":{cls:"enemys",id:"silverSlime"},"249":{cls:"enemys",id:"swordEmperor"},"250":{cls:"enemys",id:"whiteHornSlime"},"251":{cls:"enemys",id:"badPrincess"},"252":{cls:"enemys",id:"badFairy"},"253":{cls:"enemys",id:"grayPriest"},"254":{cls:"enemys",id:"redSwordsman"},"255":{cls:"enemys",id:"whiteGhost"},"256":{cls:"enemys",id:"poisonZombie"},"257":{cls:"enemys",id:"magicDragon"},"258":{cls:"enemys",id:"octopus"},"259":{cls:"enemys",id:"darkFairy"},"260":{cls:"enemys",id:"greenKnight"},"261":{cls:"enemy48",id:"angel"},"262":{cls:"enemy48",id:"yellowKeyProtector"},"263":{cls:"enemy48",id:"steelGuard"},"264":{cls:"enemy48",id:"evilBat"},"300":{cls:"terrains",id:"ground"},"301":{cls:"terrains",id:"grass"},"302":{cls:"terrains",id:"grass2"},"303":{cls:"terrains",id:"snowGround"},"304":{cls:"terrains",id:"ground2"},"305":{cls:"terrains",id:"ground3"},"306":{cls:"terrains",id:"ground4"},"307":{cls:"terrains",id:"sand"},"308":{cls:"terrains",id:"ground5"},"309":{cls:"terrains",id:"yellowWall2"},"310":{cls:"terrains",id:"whiteWall2"},"311":{cls:"terrains",id:"blueWall2"},"312":{cls:"terrains",id:"blockWall"},"313":{cls:"terrains",id:"grayWall"},"314":{cls:"terrains",id:"white"},"315":{cls:"terrains",id:"ground6"},"316":{cls:"terrains",id:"soil"},"317":{cls:"terrains",id:"ground7"},"318":{cls:"terrains",id:"ground8"},"319":{cls:"terrains",id:"T319"},"320":{cls:"terrains",id:"T320"},"321":{cls:"terrains",id:"T321"},"322":{cls:"terrains",id:"T322"},"323":{cls:"enemys",id:"E323"},"324":{cls:"enemys",id:"E324"},"325":{cls:"enemys",id:"E325"},"326":{cls:"enemys",id:"E326"},"327":{cls:"enemys",id:"E327"},"328":{cls:"enemys",id:"E328"},"329":{cls:"enemys",id:"E329"},"330":{cls:"npcs",id:"N330"},"331":{cls:"items",id:"I_resetTalent"},"332":{cls:"items",id:"I_hard_1"},"333":{cls:"items",id:"I_hp_score"},"334":{cls:"items",id:"bring_hp"},"335":{cls:"items",id:"I_charge"},"336":{cls:"items",id:"I_charge2"},"337":{cls:"items",id:"skill3"},"338":{cls:"items",id:"skill4"},"339":{cls:"items",id:"I_ex_atk"},"340":{cls:"items",id:"I_ex_def"},"341":{cls:"items",id:"I341"},"342":{cls:"items",id:"I342"},"343":{cls:"items",id:"I_vampire"},"344":{cls:"enemys",id:"E344"},"345":{cls:"enemys",id:"E345"},"346":{cls:"enemys",id:"E346"},"347":{cls:"enemys",id:"E347"},"348":{cls:"enemy48",id:"E348"},"349":{cls:"items",id:"I349"},"350":{cls:"items",id:"I350"},"351":{cls:"items",id:"I351"},"352":{cls:"items",id:"I352"},"353":{cls:"items",id:"I353"},"354":{cls:"items",id:"I354"},"355":{cls:"items",id:"I355"},"356":{cls:"items",id:"I356"},"357":{cls:"items",id:"I357"},"358":{cls:"items",id:"I358"},"359":{cls:"items",id:"I359"},"360":{cls:"items",id:"I360"},"361":{cls:"enemys",id:"E361"},"362":{cls:"enemy48",id:"mgz"},"363":{cls:"npc48",id:"N363"},"364":{cls:"npc48",id:"N364"},"365":{cls:"npc48",id:"N365"},"366":{cls:"npc48",id:"N366"},"367":{cls:"npc48",id:"N367"},"368":{cls:"npc48",id:"N368"},"369":{cls:"npc48",id:"N369"},"370":{cls:"npc48",id:"N370"},"371":{cls:"enemy48",id:"yeq_battle"},"372":{cls:"npc48",id:"N372",faceIds:{right:"N372",up:"N373"}},"373":{cls:"npc48",id:"N373",faceIds:{right:"N372",up:"N373"}},"374":{cls:"enemys",id:"E374"},"375":{cls:"enemys",id:"E375"},"376":{cls:"enemys",id:"E376"},"377":{cls:"enemys",id:"E377"},"378":{cls:"enemys",id:"E378"},"379":{cls:"enemys",id:"E379"},"380":{cls:"items",id:"I380"},"381":{cls:"enemys",id:"E381"},"382":{cls:"enemys",id:"E382"},"383":{cls:"enemys",id:"E383"},"384":{cls:"npcs",id:"N384"},"385":{cls:"npc48",id:"unknown"},"386":{cls:"npc48",id:"heroine",faceIds:{up:"heroineUp",left:"heroineUpLeft",right:"heroineRight",down:"heroine"}},"387":{cls:"npc48",id:"yeq"},"388":{cls:"enemys",id:"E388"},"389":{cls:"enemys",id:"E389"},"390":{cls:"enemys",id:"E390"},"391":{cls:"enemys",id:"E391"},"392":{cls:"enemys",id:"E392"},"393":{cls:"enemys",id:"E393"},"394":{cls:"enemys",id:"E394"},"395":{cls:"enemys",id:"E395"},"396":{cls:"enemys",id:"E396"},"397":{cls:"enemys",id:"E397"},"398":{cls:"enemys",id:"E398"},"399":{cls:"enemys",id:"E399"},"400":{cls:"enemys",id:"E400"},"401":{cls:"enemys",id:"E401"},"402":{cls:"npc48",id:"N402"},"403":{cls:"enemys",id:"E403"},"404":{cls:"enemys",id:"E404"},"405":{cls:"enemys",id:"E405"},"406":{cls:"enemys",id:"E406"},"407":{cls:"enemys",id:"E407"},"408":{cls:"enemys",id:"E408"},"409":{cls:"enemys",id:"E409"},"410":{cls:"enemys",id:"E410"},"411":{cls:"enemys",id:"E411"},"412":{cls:"enemys",id:"E412"},"413":{cls:"enemys",id:"E413"},"414":{cls:"enemys",id:"E414"},"415":{cls:"enemys",id:"E415"},"416":{cls:"enemys",id:"E416"},"417":{cls:"enemys",id:"E417"},"418":{cls:"enemys",id:"E418"},"419":{cls:"enemys",id:"E419"},"420":{cls:"enemys",id:"E420"},"421":{cls:"enemy48",id:"E421"},"422":{cls:"enemy48",id:"E422"},"423":{cls:"enemy48",id:"yeq_battle_final"},"424":{cls:"npc48",id:"N424"},"425":{cls:"npc48",id:"N425"},"426":{cls:"npc48",id:"N426"},"427":{cls:"enemys",id:"E427"},"428":{cls:"enemys",id:"E428"},"429":{cls:"enemys",id:"E429"},"430":{cls:"enemys",id:"E430"},"431":{cls:"enemys",id:"E431"},"432":{cls:"enemys",id:"E432"},"433":{cls:"enemys",id:"E433"},"434":{cls:"enemys",id:"E434"},"435":{cls:"enemys",id:"E435"},"436":{cls:"enemys",id:"E436"},"437":{cls:"enemys",id:"E437"},"438":{cls:"enemys",id:"E438"},"439":{cls:"enemys",id:"E439"},"440":{cls:"enemys",id:"E440"},"441":{cls:"enemys",id:"E441"},"442":{cls:"enemys",id:"E442"},"443":{cls:"enemys",id:"E443"},"444":{cls:"enemys",id:"E444"},"445":{cls:"enemy48",id:"E445"},"446":{cls:"enemys",id:"E446"},"447":{cls:"enemys",id:"E447"},"448":{cls:"enemy48",id:"E448"},"449":{cls:"enemys",id:"E449"},"450":{cls:"enemys",id:"E450"},"451":{cls:"enemys",id:"E451"},"452":{cls:"enemys",id:"E452"},"453":{cls:"enemys",id:"E453"},"454":{cls:"items",id:"I454"},"455":{cls:"items",id:"I455"},"456":{cls:"items",id:"I456"},"457":{cls:"items",id:"I457"},"458":{cls:"items",id:"I458"},"459":{cls:"items",id:"I459"},"460":{cls:"items",id:"coin"},"461":{cls:"enemys",id:"E461"},"462":{cls:"items",id:"I462"},"463":{cls:"items",id:"tome"},"464":{cls:"npc48",id:"N464",faceIds:{right:"N465",down:"N464"}},"465":{cls:"npc48",id:"N465",faceIds:{right:"N465",down:"N464"}},"466":{cls:"items",id:"expelPoison"},"467":{cls:"enemys",id:"E467"},"468":{cls:"enemys",id:"E468"},"469":{cls:"enemys",id:"E469"},"470":{cls:"enemys",id:"E470"},"471":{cls:"enemys",id:"E471"},"472":{cls:"enemys",id:"E472"},"473":{cls:"enemys",id:"E473"},"474":{cls:"enemys",id:"E474"},"475":{cls:"enemys",id:"E475"},"476":{cls:"items",id:"I476"},"477":{cls:"enemys",id:"E477"},"478":{cls:"items",id:"smallJump"},"479":{cls:"items",id:"invisibleWine"},"480":{cls:"items",id:"talent"},"481":{cls:"enemy48",id:"E481"},"482":{cls:"items",id:"execute"},"483":{cls:"items",id:"I483"},"484":{cls:"enemy48",id:"E484"},"485":{cls:"npc48",id:"N485",faceIds:{right:"N486",down:"N485"}},"486":{cls:"npc48",id:"N486",faceIds:{right:"N486",down:"N485"}},"487":{cls:"items",id:"c_charge"},"488":{cls:"enemys",id:"E488"},"489":{cls:"enemys",id:"E489"},"490":{cls:"enemys",id:"E490"},"491":{cls:"enemys",id:"E491"},"492":{cls:"npc48",id:"N492"},"493":{cls:"npc48",id:"N493"},"494":{cls:"enemy48",id:"E494"},"495":{cls:"enemy48",id:"E495"},"496":{cls:"enemy48",id:"E496"},"497":{cls:"enemys",id:"E497"},"498":{cls:"enemys",id:"E498"},"499":{cls:"npc48",id:"heroineUp",faceIds:{up:"heroineUp",left:"heroineUpLeft",right:"heroineRight",down:"heroine"}},"500":{cls:"items",id:"talentPoint"},"501":{cls:"npc48",id:"N501"},"502":{cls:"npcs",id:"N502"},"503":{cls:"npc48",id:"heroineRight",faceIds:{up:"heroineUp",left:"heroineUpLeft",right:"heroineRight",down:"heroine"}},"504":{cls:"npc48",id:"heroineLeft",faceIds:{up:"heroineUp",left:"heroineUpLeft",right:"heroineRight",down:"heroine"}},"505":{cls:"npc48",id:"N505"},"506":{cls:"npc48",id:"N506"},"507":{cls:"npc48",id:"N507",faceIds:{down:"N507",up:"N508"}},"508":{cls:"npc48",id:"N508",faceIds:{down:"N507",up:"N508"}},"509":{cls:"npc48",id:"N509"},"510":{cls:"npc48",id:"N510"},"511":{cls:"npc48",id:"N511"},"512":{cls:"enemys",id:"E512"},"513":{cls:"enemys",id:"E513"},"514":{cls:"enemys",id:"E514"},"515":{cls:"enemys",id:"E515"},"516":{cls:"enemys",id:"E516"},"517":{cls:"enemys",id:"E517"},"518":{cls:"enemys",id:"E518"},"519":{cls:"enemys",id:"E519"},"520":{cls:"enemys",id:"E520"},"521":{cls:"enemys",id:"E521"},"522":{cls:"enemys",id:"E522"},"523":{cls:"enemys",id:"E523"},"524":{cls:"enemys",id:"E524"},"525":{cls:"enemys",id:"E525"},"526":{cls:"enemys",id:"E526"},"527":{cls:"enemys",id:"E527"},"528":{cls:"enemys",id:"E528"},"529":{cls:"enemys",id:"E529"},"530":{cls:"enemys",id:"E530"},"531":{cls:"enemys",id:"E531"},"532":{cls:"enemys",id:"E532"},"533":{cls:"enemys",id:"E533"},"534":{cls:"enemys",id:"E534"},"535":{cls:"enemy48",id:"E535"},"536":{cls:"items",id:"I536"},"537":{cls:"items",id:"I_morph"},"538":{cls:"items",id:"I_morphed"},"539":{cls:"items",id:"I_morph_cooldown"},"540":{cls:"enemys",id:"E540"},"541":{cls:"enemys",id:"E541"},"542":{cls:"enemys",id:"E542"},"543":{cls:"enemys",id:"E543"},"544":{cls:"enemys",id:"E544"},"545":{cls:"enemys",id:"E545"},"546":{cls:"enemys",id:"E546"},"547":{cls:"enemys",id:"E547"},"548":{cls:"enemys",id:"E548"},"549":{cls:"enemys",id:"E549"},"550":{cls:"enemys",id:"E550"},"551":{cls:"enemys",id:"E551"},"552":{cls:"enemys",id:"E552"},"553":{cls:"enemys",id:"E553"},"554":{cls:"enemys",id:"E554"},"555":{cls:"enemys",id:"E555"},"556":{cls:"enemys",id:"E556"},"557":{cls:"enemys",id:"E557"},"558":{cls:"enemys",id:"E558"},"559":{cls:"enemys",id:"E559"},"560":{cls:"enemys",id:"E560"},"561":{cls:"enemys",id:"E561"},"562":{cls:"enemys",id:"E562"},"563":{cls:"enemys",id:"E563"},"564":{cls:"enemys",id:"E564"},"565":{cls:"enemys",id:"E565"},"566":{cls:"enemys",id:"E566"},"567":{cls:"enemys",id:"E567"},"568":{cls:"enemys",id:"E568"},"569":{cls:"enemys",id:"E569"},"570":{cls:"enemys",id:"E570"},"571":{cls:"enemys",id:"E571"},"572":{cls:"enemys",id:"E572"},"573":{cls:"enemy48",id:"kongyang"},"574":{cls:"npc48",id:"N_kongyang"},"575":{cls:"npcs",id:"N575"},"10001":{cls:"tileset",id:"X10001",noPass:"false"},"10004":{cls:"tileset",id:"X10004",noPass:"false"},"10138":{cls:"tileset",id:"X10138",noPass:false},"10111":{cls:"tileset",id:"X10111",noPass:false},"10113":{cls:"tileset",id:"X10113",noPass:false},"10112":{cls:"tileset",id:"X10112",noPass:false},"10135":{cls:"tileset",id:"X10135",noPass:"false"},"10143":{cls:"tileset",id:"X10143",noPass:"false"},"10126":{cls:"tileset",id:"X10126",noPass:false},"10125":{cls:"tileset",id:"X10125",noPass:"false"},"10167":{cls:"tileset",id:"X10167",noPass:"false"},"10171":{cls:"tileset",id:"X10171",noPass:false},"10224":{cls:"tileset",id:"X10224",noPass:"false"},"10173":{cls:"tileset",id:"X10173",noPass:false},"10182":{cls:"tileset",id:"X10182",noPass:false},"10176":{cls:"tileset",id:"X10176",noPass:false},"10137":{cls:"tileset",id:"X10137",noPass:false},"10185":{cls:"tileset",id:"X10185",noPass:false},"30104":{cls:"tileset",id:"X30104",noPass:false},"30105":{cls:"tileset",id:"X30105",noPass:false},"30106":{cls:"tileset",id:"X30106",noPass:false},"10292":{cls:"tileset",id:"X10292",noPass:false},"10141":{cls:"tileset",id:"X10141",noPass:false},"10177":{cls:"tileset",id:"X10177",noPass:false},"10293":{cls:"tileset",id:"X10293",noPass:false},"10130":{cls:"tileset",id:"X10130",noPass:false},"10144":{cls:"tileset",id:"X10144",noPass:false},"10131":{cls:"tileset",id:"X10131",noPass:false},"10170":{cls:"tileset",id:"X10170",noPass:false},"10172":{cls:"tileset",id:"X10172",noPass:false},"10241":{cls:"tileset",id:"X10241",noPass:false},"10242":{cls:"tileset",id:"X10242",noPass:false},"10243":{cls:"tileset",id:"X10243",noPass:false},"10115":{cls:"tileset",id:"X10115",noPass:false},"10116":{cls:"tileset",id:"X10116",noPass:false},"10117":{cls:"tileset",id:"X10117",noPass:false},"10119":{cls:"tileset",id:"X10119",noPass:false},"40038":{cls:"tileset",id:"X40038",noPass:false},"10120":{cls:"tileset",id:"X10120",noPass:false},"10121":{cls:"tileset",id:"X10121",noPass:false},"10122":{cls:"tileset",id:"X10122",noPass:false},"10123":{cls:"tileset",id:"X10123",noPass:false},"10324":{cls:"tileset",id:"X10324",noPass:"false"},"10475":{cls:"tileset",id:"X10475",noPass:"false"},"10476":{cls:"tileset",id:"X10476",noPass:"false"},"10477":{cls:"tileset",id:"X10477",noPass:"false"},"10478":{cls:"tileset",id:"X10478",noPass:"false"},"10479":{cls:"tileset",id:"X10479",noPass:"false"},"70195":{cls:"tileset",id:"X70195",noPass:false},"10455":{cls:"tileset",id:"X10455",noPass:"false"},"10457":{cls:"tileset",id:"X10457",noPass:"false"}};var items_296f5d02_12fd_4166_a7c1_b5e830c9ee3a={items:{yellowKey:{cls:"keys",name:"黄钥匙",text:"看起来很普通的钥匙"},blueKey:{cls:"keys",name:"蓝钥匙",text:"看起来有些高级的钥匙"},redKey:{cls:"keys",name:"红钥匙",text:"看起来不太常见的钥匙"},redJewel:{cls:"items",name:"一级红宝石",text:"'，攻击+'+core.values.redJewel"},blueJewel:{cls:"items",name:"一级蓝宝石",text:"'，防御+'+core.values.blueJewel"},greenJewel:{cls:"items",name:"一级绿宝石",text:"'，护盾+'+core.values.greenJewel"},yellowJewel:{cls:"items",name:"一级黄宝石",text:"'，生命、生命上限+'+core.values.yellowJewel"},redPotion:{cls:"items",name:"红血瓶",text:"'，生命+'+core.values.redPotion"},bluePotion:{cls:"items",name:"蓝血瓶",text:"'，生命+'+core.values.bluePotion"},yellowPotion:{cls:"items",name:"黄血瓶",text:"'生命+'+core.values.yellowPotion"},greenPotion:{cls:"items",name:"绿血瓶",text:"'，生命+'+core.values.greenPotion"},sword0:{cls:"tools",name:"重置机会",text:"可以重置一个消耗在红海天赋的天赋点",equip:null},sword1:{cls:"items",name:"铁剑",text:"一把很普通的铁剑",equip:{type:0,atk:10,animate:"sword"}},sword2:{cls:"items",name:"银剑",text:"一把很普通的银剑",equip:{type:0,atk:20,animate:"sword"}},sword3:{cls:"items",name:"骑士剑",text:"一把很普通的骑士剑",equip:{type:0,atk:40,animate:"sword"}},sword4:{cls:"items",name:"圣剑",text:"一把很普通的圣剑",equip:{type:0,atk:80,animate:"sword"}},sword5:{cls:"items",name:"神圣剑",text:"一把很普通的神圣剑",equip:{type:0,atk:100,animate:"sword"}},shield0:{cls:"constants",name:"{被动}高级护盾",text:"每1点护盾可以在战斗中抵挡${flag:mdef_ratio}点伤害（无此技能时只能抵挡1点）",equip:null},shield1:{cls:"constants",name:"青岚盾（一阶）",text:"【被动效果】抵抗净化效果。净化效果变为5倍。",equip:{type:"无需装备"}},shield2:{cls:"constants",name:"青岚盾（二阶）",text:"【被动效果】抵抗净化效果。净化效果变为4倍。",equip:{type:"无需装备"}},shield3:{cls:"constants",name:"青岚盾（三阶）",text:"【被动效果】抵抗净化效果。净化效果变为3倍。",equip:{type:"无需装备"}},shield4:{cls:"constants",name:"青岚盾（四阶）",text:"【被动效果】抵抗净化效果。净化效果变为2倍。",equip:{type:"无需装备"}},shield5:{cls:"constants",name:"青岚盾（五阶）",text:"【被动效果】抵抗净化效果。净化效果变为1倍。",equip:{type:"无需装备"}},superPotion:{cls:"items",name:"圣水"},moneyPocket:{cls:"items",name:"金钱袋"},book:{cls:"constants",name:"怪物手册 (X)",text:"用意志侦测对方的能力。快捷键是X。"},fly:{cls:"constants",name:"楼层传送器",text:"可以自由往来去过的楼层",hideInReplay:true},snow:{cls:"constants",name:"冰冻徽章",text:"可以将面前的熔岩变成平地"},cross:{cls:"constants",name:"十字架",text:"持有后无视怪物的无敌属性"},knife:{cls:"constants",name:"屠龙匕首",text:"该道具尚未被定义"},shoes:{cls:"constants",name:"绿鞋",text:"持有时无视负面地形"},bigKey:{cls:"tools",name:"大黄门钥匙",text:"可以开启当前层所有黄门"},greenKey:{cls:"tools",name:"绿钥匙",text:"似乎并不是用来开门的"},steelKey:{cls:"tools",name:"铁门钥匙",text:"可以打开一扇铁门"},pickaxe:{cls:"tools",name:"破墙镐",text:"可以破坏勇士面前的墙。快捷键是1。"},icePickaxe:{cls:"tools",name:"破冰镐",text:"可以破坏勇士面前的一堵冰墙"},bomb:{cls:"tools",name:"炸弹",text:"可以炸掉勇士面前的怪物"},centerFly:{cls:"tools",name:"中心对称飞行器",text:"可以飞向当前楼层中心对称的位置"},upFly:{cls:"tools",name:"上楼器",text:"可以飞往楼上的相同位置"},downFly:{cls:"tools",name:"下楼器",text:"可以飞往楼下的相同位置"},earthquake:{cls:"tools",name:"地震卷轴",text:"可以破坏当前层的所有墙"},poisonWine:{cls:"tools",name:"解毒药水",text:"可以解除中毒状态"},weakWine:{cls:"tools",name:"解衰药水",text:"可以解除衰弱状态"},superWine:{cls:"tools",name:"万能药水",text:"可以解除所有不良状态"},hammer:{cls:"tools",name:"圣锤",text:"可以炸掉勇士面前的怪物"},jumpShoes:{cls:"tools",name:"跳跃靴",text:"能跳跃到前方两格的空地上。使用后减少2层冲锋效果。"},skill1:{cls:"constants",name:"技能：强击 (2)",text:"消耗${flag:skill1_cost}点魔法，首回合额外造成${flag:skill1_val-1}倍攻击的伤害。快捷键为2。",hideInReplay:false},I341:{cls:"constants",name:"{被动}回复魔法",text:"每场战斗后回复${flag:mana_regen}点魔法"},I342:{cls:"items",name:"新物品"},I_ex_atk:{cls:"constants",name:"吸攻（切换技能）",text:"攻击增加，数值等于上场战斗敌方攻击的10%。可以切换至防御形态。按1快捷切换。",hideInReplay:true},I_ex_def:{cls:"constants",name:"吸防（切换技能）",text:"防御增加，数值等于上场战斗敌方防御的20%。可以切换至攻击形态。按1快捷切换。",hideInReplay:true},I_vampire:{cls:"constants",name:"{被动}吸血",text:"战斗中造成伤害的${(flag:vampire_ratio*100).toFixed(0)}%治疗自身"},I349:{cls:"items",name:"二级红宝石",text:null},I350:{cls:"items",name:"二级蓝宝石"},I351:{cls:"items",name:"二级绿宝石"},I352:{cls:"items",name:"二级黄宝石"},I353:{cls:"items",name:"三级红宝石"},I354:{cls:"items",name:"三级蓝宝石"},I355:{cls:"items",name:"三级绿宝石"},I356:{cls:"items",name:"三级黄宝石"},I357:{cls:"items",name:"四级红宝石"},I358:{cls:"items",name:"四级蓝宝石"},I359:{cls:"items",name:"四级绿宝石"},I360:{cls:"items",name:"四级黄宝石"},I_charge:{cls:"constants",name:"{被动}次级冲锋",text:"向同一方向连续移动后攻击力提升，战斗后或者进行瞬移后效果消失。每移动一步攻击力提升${flag:charge_point}点。"},I_charge2:{cls:"constants",name:"{被动}冲锋！",text:"向同一方向连续移动后攻击力提升，战斗后效果不消失。每移动一步攻击力提升基础数值的${(100*flag:charge_ratio).toFixed(1)}%。"},I_hp_score:{cls:"constants",name:"溢出HP统计",text:"当前已溢出生命值${flag:hp_score}点。可以用来计分。"},I380:{cls:"items",name:"魔法结晶"},skill2:{cls:"constants",name:"技能：防御 (3)",text:"消耗${flag:skill2_cost}点魔法，减少${(flag:skill2_atk_ratio*100).toFixed(0)}%的攻击，将减少数值的${flag:skill2_def_ratio*100}%转化为防御。快捷键为3。"},skill3:{cls:"constants",name:"感受温暖 (4)",text:"感受小姐姐释放的温暖。消耗${flag:skill3_cost}点魔法，驱除所有霜寒状态。快捷键为4。"},I_hard_1:{cls:"constants",name:"乱撞难度",text:"你正在游玩乱撞难度！免疫大多数地图伤害，战斗的最终伤害减少50%。（注：负伤害也会减少）"},I_hard_2:{cls:"constants",name:"简单难度",text:"你正在游玩简单难度！战斗的最终伤害减少20%。（注：负伤害也会减少）"},I454:{cls:"items",name:"大红血瓶",text:null},I455:{cls:"items",name:"大蓝血瓶"},I456:{cls:"items",name:"大黄血瓶"},I457:{cls:"items",name:"大绿血瓶"},skill4:{cls:"constants",name:"【红海技能】撕裂 (4)",text:"消耗${flag:skill4_cost}点魔法，使对方每回合开始时流失${flag:skill4_val}%的当前生命。此伤害可以触发【吸血】效果。快捷键为4。"},I458:{cls:"tools",name:"毒雾结晶",text:"毒雾沼泽的特产。"},I459:{cls:"tools",name:"毒素精华",text:"1000个毒素精华可以合成为1个毒雾结晶。"},I462:{cls:"tools",name:"便携式小莱姆",text:"在面前放置一个便携小莱姆"},tome:{cls:"tools",name:"知识之书",text:"《拆塔心理学浅谈》，似乎还有非浅谈的版本"},coin:{cls:"tools",name:"金币",text:"红海广场上通用的货币"},expelPoison:{cls:"constants",name:"清洁术",text:"消耗${flag:expelPoison_cost}点魔法，驱除所有中毒效果，并按照驱除层数获得毒素精华。"},bring_hp:{cls:"tools",name:"便携式血瓶 (1)",text:"便于携带的血瓶，使用可以回复${flag:bring_hp_val}生命。境界越高效果越好。快捷键是1。"},bring_mana:{cls:"tools",name:"便携式蓝瓶 (8)",text:"便于携带的蓝瓶，使用可以回复${flag:bring_mana_val}魔法。快捷键是8。"},I476:{cls:"equips",name:"抑郁石",equip:{type:"饰品",hpmax:-20,percentage:true},hideInReplay:false,text:"抑制生命活力的怪石。生命上限降低20%。只能在当前生命值不会超出减少后的生命上限时装备。"},invisibleWine:{cls:"tools",name:"隐身药水",text:"进入隐身状态，暂时不会受到地图伤害特技以及捕捉影响。战斗后失效。"},talent:{cls:"constants",name:"学习天赋",text:"打开天赋学习列表。目前有${item:talentPoint}个天赋点。"},execute:{cls:"constants",name:"{被动}斩杀",text:"战斗中，当敌人生命值小于${flag:execute_percentage}%时，每回合造成${flag:execute_atk_percentage}%的额外伤害。"},I483:{cls:"items",name:"神秘卷轴"},smallJump:{cls:"constants",name:"【地图技能】跳跃 (W)",text:"消耗${flag:smallJump_cost}点魔法，跳跃到前方一格的空地上，并减少1层冲锋效果。快捷键是W。"},c_charge:{cls:"constants",name:"{被动}势如破竹",text:"每次战斗后额外叠加${flag:charge2_battle_extra}层冲锋。最多通过此效果获得${flag:charge2_battle_extra_max}层冲锋。\n当前通过此效果叠加了${flag:charge2_battle_extra_cur}层冲锋。"},talentPoint:{cls:"tools",name:"天赋点",text:"可以用来学习天赋，或者留到最后算分"},I536:{cls:"items",name:"魔法结晶",text:"血海篇的魔法结晶，效果是正常版的10%"},I_morph:{cls:"constants",name:"【血海奥义】魔化 (5)",text:"消耗${flag:skill5_cost}点魔法，进入魔化状态，提升${flag:skill5_hpmax}点生命及上限、${flag:skill5_atk}点攻击力和${flag:skill5_def}点防御力，并暂时免疫部分怪物特技，持续${flag:skill5_duration}次战斗。效果结束后需要经过${flag:skill5_cooldown}次战斗才能再次使用。快捷键为5。"},I_morphed:{cls:"constants",name:"魔化中...",text:"你正处于魔化状态，让敌人感受真正的恐怖吧！（使用该道具查看详情。）\n剩余战斗次数：${flag:morph_duration}"},I_morph_cooldown:{cls:"constants",name:"魔化冷却中...",text:"还需要${flag:morph_cooldown}次战斗才能再使用【魔化】。"},I_resetTalent:{cls:"constants",name:"天赋重置器",text:"消耗重置机会可以重置红海阶段的天赋"}},itemEffect:{redJewel:"core.status.hero.atk += core.values.redJewel * ratio",blueJewel:"core.status.hero.def += core.values.blueJewel * ratio",greenJewel:"core.status.hero.mdef += core.values.greenJewel * ratio",yellowJewel:"core.status.hero.hpmax += core.values.yellowJewel * ratio;\ncore.status.hero.hp += core.values.yellowJewel * ratio;",redPotion:'var heal = core.values.redPotion * ratio;\n\n//core.insertAction({ "type": "insert", "name": "增加HP", "args": [heal] });\n\nvar realhpmax = core.getRealStatusOrDefault(core.status.hero, \'hpmax\');\nvar overheal = heal - (realhpmax - core.status.hero.hp);\nif (overheal > 0) {\n\tcore.insertAction({ "type": "animate", "name": "heal", "loc": "hero", "async": true });\n\tcore.addFlag(\'hp_score\', overheal);\n}\ncore.status.hero.hp += heal;\nif (core.status.hero.hp > realhpmax) {\n\tcore.status.hero.hp = realhpmax;\n}',bluePotion:'var heal = core.values.bluePotion * ratio;\n\n//core.insertAction({ "type": "insert", "name": "增加HP", "args": [heal] });\n\nvar realhpmax = core.getRealStatusOrDefault(core.status.hero, \'hpmax\');\nvar overheal = heal - (realhpmax - core.status.hero.hp);\nif (overheal > 0) {\n\tcore.insertAction({ "type": "animate", "name": "heal", "loc": "hero", "async": true });\n\tcore.addFlag(\'hp_score\', overheal);\n}\ncore.status.hero.hp += heal;\nif (core.status.hero.hp > realhpmax) {\n\tcore.status.hero.hp = realhpmax;\n}',yellowPotion:'var heal = core.values.yellowPotion * ratio;\n\n//core.insertAction({ "type": "insert", "name": "增加HP", "args": [heal] });\n\nvar realhpmax = core.getRealStatusOrDefault(core.status.hero, \'hpmax\');\nvar overheal = heal - (realhpmax - core.status.hero.hp);\nif (overheal > 0) {\n\tcore.insertAction({ "type": "animate", "name": "heal", "loc": "hero", "async": true });\n\tcore.addFlag(\'hp_score\', overheal);\n}\ncore.status.hero.hp += heal;\nif (core.status.hero.hp > realhpmax) {\n\tcore.status.hero.hp = realhpmax;\n}',greenPotion:'var heal = core.values.greenPotion * ratio;\n\n//core.insertAction({ "type": "insert", "name": "增加HP", "args": [heal] });\n\nvar realhpmax = core.getRealStatusOrDefault(core.status.hero, \'hpmax\');\nvar overheal = heal - (realhpmax - core.status.hero.hp);\nif (overheal > 0) {\n\tcore.insertAction({ "type": "animate", "name": "heal", "loc": "hero", "async": true });\n\tcore.addFlag(\'hp_score\', overheal);\n}\ncore.status.hero.hp += heal;\nif (core.status.hero.hp > realhpmax) {\n\tcore.status.hero.hp = realhpmax;\n}',sword0:null,sword1:"core.status.hero.atk += 10",sword2:"core.status.hero.atk += 20",sword3:"core.status.hero.atk += 40",sword4:"core.status.hero.atk += 80",sword5:"core.status.hero.atk += 100",shield0:null,shield1:null,shield2:null,shield3:null,shield4:null,shield5:null,bigKey:"core.status.hero.items.keys.yellowKey++;core.status.hero.items.keys.blueKey++;core.status.hero.items.keys.redKey++;",superPotion:"core.status.hero.hp *= 2",moneyPocket:"null",I349:"core.status.hero.atk += core.values.redJewel * ratio * 2",I350:"core.status.hero.def += core.values.blueJewel * ratio * 2",I351:"core.status.hero.mdef += core.values.greenJewel * ratio * 2",I352:"core.status.hero.hpmax += core.values.yellowJewel * ratio * 2;\ncore.status.hero.hp += core.values.yellowJewel * ratio * 2;",I353:"core.status.hero.atk += core.values.redJewel * ratio * 4",I357:"core.status.hero.atk += core.values.redJewel * ratio * 8",I354:"core.status.hero.def += core.values.blueJewel * ratio * 4",I358:"core.status.hero.def += core.values.blueJewel * ratio * 8",I355:"core.status.hero.mdef += core.values.greenJewel * ratio * 4",I359:"core.status.hero.mdef += core.values.greenJewel * ratio * 8",I356:"core.status.hero.hpmax += core.values.yellowJewel * ratio * 4;\ncore.status.hero.hp += core.values.yellowJewel * ratio * 4;",I360:"core.status.hero.hpmax += core.values.yellowJewel * ratio * 8;\ncore.status.hero.hp += core.values.yellowJewel * ratio * 8;",I380:"core.status.hero.mana += core.values.manaCrystal * ratio",I454:'var heal = core.values.redPotion * 10 * ratio;\n\n//core.insertAction({ "type": "insert", "name": "增加HP", "args": [heal] });\n\nvar realhpmax = core.getRealStatusOrDefault(core.status.hero, \'hpmax\');\nvar overheal = heal - (realhpmax - core.status.hero.hp);\nif (overheal > 0) {\n\tcore.insertAction({ "type": "animate", "name": "heal", "loc": "hero", "async": true });\n\tcore.addFlag(\'hp_score\', overheal);\n}\ncore.status.hero.hp += heal;\nif (core.status.hero.hp > realhpmax) {\n\tcore.status.hero.hp = realhpmax;\n}',I455:'var heal = core.values.bluePotion * 10 * ratio;\n\n//core.insertAction({ "type": "insert", "name": "增加HP", "args": [heal] });\n\nvar realhpmax = core.getRealStatusOrDefault(core.status.hero, \'hpmax\');\nvar overheal = heal - (realhpmax - core.status.hero.hp);\nif (overheal > 0) {\n\tcore.insertAction({ "type": "animate", "name": "heal", "loc": "hero", "async": true });\n\tcore.addFlag(\'hp_score\', overheal);\n}\ncore.status.hero.hp += heal;\nif (core.status.hero.hp > realhpmax) {\n\tcore.status.hero.hp = realhpmax;\n}',I456:'var heal = core.values.yellowPotion * 10 * ratio;\n\n//core.insertAction({ "type": "insert", "name": "增加HP", "args": [heal] });\n\nvar realhpmax = core.getRealStatusOrDefault(core.status.hero, \'hpmax\');\nvar overheal = heal - (realhpmax - core.status.hero.hp);\nif (overheal > 0) {\n\tcore.insertAction({ "type": "animate", "name": "heal", "loc": "hero", "async": true });\n\tcore.addFlag(\'hp_score\', overheal);\n}\ncore.status.hero.hp += heal;\nif (core.status.hero.hp > realhpmax) {\n\tcore.status.hero.hp = realhpmax;\n}',I457:'var heal = core.values.greenPotion * 10 * ratio;\n\n//core.insertAction({ "type": "insert", "name": "增加HP", "args": [heal] });\n\nvar realhpmax = core.getRealStatusOrDefault(core.status.hero, \'hpmax\');\nvar overheal = heal - (realhpmax - core.status.hero.hp);\nif (overheal > 0) {\n\tcore.insertAction({ "type": "animate", "name": "heal", "loc": "hero", "async": true });\n\tcore.addFlag(\'hp_score\', overheal);\n}\ncore.status.hero.hp += heal;\nif (core.status.hero.hp > realhpmax) {\n\tcore.status.hero.hp = realhpmax;\n}',I536:"core.status.hero.mana += core.values.manaCrystal * ratio * 0.1"},itemEffectTip:{redJewel:"'，攻击+'+core.values.redJewel * ratio",blueJewel:"'，防御+'+core.values.blueJewel * ratio",greenJewel:"'，护盾+'+core.values.greenJewel * ratio",yellowJewel:"'，生命、生命上限+'+core.values.yellowJewel * ratio",redPotion:"'，生命+'+core.values.redPotion * ratio",bluePotion:"'，生命+'+core.values.bluePotion * ratio",yellowPotion:"'，生命+'+core.values.yellowPotion * ratio",greenPotion:"'，生命+'+core.values.greenPotion * ratio",sword0:null,sword1:"'，攻击+10'",sword2:"'，攻击+20'",sword3:"'，攻击+40'",sword4:"'，攻击+80'",sword5:"'，攻击+100'",shield0:null,shield1:null,shield2:null,shield3:null,shield4:null,shield5:null,bigKey:"'，全钥匙+1'",superPotion:"'，生命值翻倍'",moneyPocket:"null",I349:"'，攻击+'+core.values.redJewel * ratio * 2",I350:"'，防御+'+core.values.blueJewel * ratio * 2",I351:"'，护盾+'+core.values.greenJewel * ratio * 2",I352:"'，生命、生命上限+'+core.values.yellowJewel * ratio * 2",I353:"'，攻击+'+core.values.redJewel * ratio * 4",I357:"'，攻击+'+core.values.redJewel * ratio * 8",I354:"'，防御+'+core.values.blueJewel * ratio * 4",I358:"'，防御+'+core.values.blueJewel * ratio * 8",I355:"'，护盾+'+core.values.greenJewel * ratio * 4",I359:"'，护盾+'+core.values.greenJewel * ratio * 8",I356:"'，生命、生命上限+'+core.values.yellowJewel * ratio * 4",I360:"'，生命、生命上限+'+core.values.yellowJewel * ratio * 4",I380:"'，魔法+'+core.values.manaCrystal * ratio",I454:"'，生命+'+core.values.redPotion*10*ratio",I455:"'，生命+'+core.values.bluePotion*10*ratio",I456:"'，生命+'+core.values.yellowPotion*10*ratio",I457:"'，生命+'+core.values.greenPotion*10*ratio",I536:"'，魔法+'+core.values.manaCrystal * ratio * 0.1"},useItemEffect:{book:"core.ui.drawBook(0);",fly:"core.ui.drawFly(core.status.hero.flyRange.indexOf(core.status.floorId));",earthquake:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n});",pickaxe:"core.playSound('pickaxe.mp3');\ncore.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n});",icePickaxe:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n});",snow:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n});",bigKey:"core.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n});",bomb:"core.playSound('bomb.mp3');\ncore.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n\tcore.events.afterUseBomb();\n});",hammer:"core.playSound('bomb.mp3');\ncore.removeBlockByIds(core.status.floorId, core.status.event.data);\ncore.drawMap(core.status.floorId, function () {\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n\tcore.events.afterUseBomb();\n});",centerFly:"core.playSound('centerFly.mp3');\ncore.clearMap('hero');\ncore.setHeroLoc('x', (core.bigmap.width||13)-1-core.getHeroLoc('x'));\ncore.setHeroLoc('y', (core.bigmap.height||13)-1-core.getHeroLoc('y'));\ncore.drawHero();\ncore.drawTip(core.material.items[itemId].name + '使用成功');",upFly:"var loc = {'direction': core.status.hero.loc.direction, 'x': core.status.event.data.x, 'y': core.status.event.data.y};\ncore.changeFloor(core.status.event.data.id, null, loc, null, function (){\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n\tcore.replay();\n});",downFly:"var loc = {'direction': core.status.hero.loc.direction, 'x': core.status.event.data.x, 'y': core.status.event.data.y};\ncore.changeFloor(core.status.event.data.id, null, loc, null, function (){\n\tcore.drawTip(core.material.items[itemId].name + '使用成功');\n\tcore.replay();\n});",poisonWine:"core.setFlag('poison_stack', 0);\n\ncore.drawAnimate('light2', core.status.hero.loc.x, core.status.hero.loc.y);",weakWine:"core.setFlag('weak_stack', 0);\n\ncore.drawAnimate('light2', core.status.hero.loc.x, core.status.hero.loc.y);\nvar buffVal = Math.pow(0.95, core.getFlag('weak_stack', 0));\ncore.setBuff('atk', buffVal);\ncore.setBuff('def', buffVal);",superWine:"core.removeFlag('poison');\nif (core.hasFlag('weak')) {\n\tcore.removeFlag('weak');\n\tif (core.values.weakValue>=1) { // >=1：直接扣数值\n\t\tcore.status.hero.atk += core.values.weakValue;\n\t\tcore.status.hero.def += core.values.weakValue;\n\t}\n\telse { // <1：扣比例\n\t\tcore.setFlag(\"equip_atk_buff\", core.getFlag(\"equip_atk_buff\", 1) + core.values.weakValue);\n\t\tcore.setFlag(\"equip_def_buff\", core.getFlag(\"equip_def_buff\", 1) + core.values.weakValue);\n\t}\n}\ncore.removeFlag('curse');",jumpShoes:"core.insertAction({ \"type\": \"jumpHero\", \"loc\": [core.nextX(2), core.nextY(2)] });\n\nvar charge_ratio = core.getFlag('charge_ratio', 0.02);\nvar charge_atk = core.getFlag('charge_atk', 0);\ncore.setFlag('charge_atk', Math.max(charge_atk - 2 * charge_ratio * core.status.hero.atk, 0));",redPotion:"core.status.hero.hp += core.values.redPotion",bluePotion:"core.status.hero.hp += core.values.bluePotion",greenPotion:"core.status.hero.hp += core.values.greenPotion",yellowPotion:"core.status.hero.hp += core.values.yellowPotion",redJewel:"core.status.hero.atk += core.values.redJewel",blueJewel:"core.status.hero.def += core.values.blueJewel",greenJewel:"core.status.hero.mdef += core.values.greenJewel",yellowJewel:'core.insertAction([\n\t{"type": "choices", "choices": [\n\t\t{"text": "攻击+1", "action": [\n\t\t\t{"type": "setValue", "name": "status:atk", "value": "status:atk+1"}\n\t\t]},\n\t\t{"text": "防御+2", "action": [\n\t\t\t{"type": "setValue", "name": "status:def", "value": "status:def+2"}\n\t\t]},\n\t\t{"text": "生命+200", "action": [\n\t\t\t{"type": "setValue", "name": "status:hp", "value": "status:hp+200"}\n\t\t]},\n\t]}\n]);',skill1:"// 强击的flag:skill为1\nif (core.getFlag('skill', 0) != 1) { // 判断当前是否已经开了该技能\n\tif (core.getStatus('mana') >= core.getFlag('skill1_cost', 10)) { // 这里要写当前能否开技能的条件判断，比如魔力值至少要多少\n\t\tcore.setFlag('skill', 1); // 开技能1\n\t\tvar val = core.getFlag('skill1_val', 3) - 1;\n\t\tcore.setFlag('skillName', '强击 ' + val); // 设置技能名\n\t} else {\n\t\tcore.drawTip(\"魔力不足，无法开启技能\");\n\t}\n} else { // 关闭技能\n\tcore.setFlag('skill', 0); // 关闭技能状态\n\tcore.setFlag('skillName', '无');\n}",I_ex_atk:"core.getItem('I_ex_atk', -1);\ncore.getItem('I_ex_def', 1);",I_ex_def:"core.getItem('I_ex_def', -1);\ncore.getItem('I_ex_atk', 1);",I_charge:'core.insertAction([\n\t"当前基础攻击力为: \\r[red]" + core.status.hero.atk + "\\r[white]\\n" +\n\t"每移动一步攻击力提升\\r[red]" + core.getFlag(\'charge_point\') + "\\r[white]点。\\n" +\n\t"改变移动方向后效果消失。",\n\t"注意，如果使用瞬移功能，冲锋效果也会立即消失。",\n]);',I_charge2:'core.insertAction([\n\t"当前基础攻击力为: \\r[red]" + core.status.hero.atk + "\\r[white]\\n" +\n\t"每移动一步攻击力提升基础攻击力的\\r[red]" + (100 * core.getFlag(\'charge_ratio\')).toFixed(1) + "\\r[white]%，也就是\\n\\r[red]" + core.getFlag(\'charge_ratio\') * core.status.hero.atk + "\\r[white]点。计算时向下取整。\\n" +\n\t"改变移动方向后效果消失。",\n\t"注意，如果使用瞬移功能，冲锋效果也会立即消失。",\n]);',I_vampire:'core.insertAction([\n\t"蝙蝠血、毛虫血、软泥血、石头血，你想要哪个？",\n\t"我全都要！"\n]);',I_hp_score:'core.insertAction([\n\t"当前溢出HP值为：\\r[red]" + core.getFlag(\'hp_score\') + "\\r[white]。\\n",\n]);',skill2:"// 防御的flag:skill为2\nif (core.getFlag('skill', 0) != 2) { // 判断当前是否已经开了该技能\n\tif (core.getStatus('mana') >= core.getFlag('skill2_cost', 0)) { // 这里要写当前能否开技能的条件判断，比如魔力值至少要多少\n\t\tcore.setFlag('skill', 2); // 开技能2\n\t\tvar val = core.getFlag('skill2_def_ratio', 3);\n\t\tcore.setFlag('skillName', '防御 ' + val); // 设置技能名\n\t} else {\n\t\tcore.drawTip(\"魔力不足，无法开启技能\");\n\t}\n} else { // 关闭技能\n\tcore.setFlag('skill', 0); // 关闭技能状态\n\tcore.setFlag('skillName', '无');\n}",skill3:'// 直接判断是否可以使用即可\nvar curMana = core.status.hero.mana;\nvar cost = core.getFlag(\'skill3_cost\', 641);\nif (curMana >= cost) {\n\tvar temp = core.getFlag(\'curse_stack\', 0);\n\tif (temp == 0) {\n\t\tcore.insertAction([{ "type": "insert", "loc": [0, 0], "floorId": "EventMap" }]);\n\t} else {\n\t\tcore.status.hero.mana -= cost;\n\t\tcore.setFlag(\'curse_stack\', 0);\n\t\tcore.drawTip("你感觉很舒服。");\n\t\tcore.drawAnimate(\'skill3\', core.status.hero.loc.x, core.status.hero.loc.y);\n\t}\n} else {\n\tcore.drawTip("魔法不足。");\n}',skill4:"// 撕裂的flag:skill为4\nif (core.getFlag('skill', 0) != 4) { // 判断当前是否已经开了该技能\n\tif (core.getStatus('mana') >= core.getFlag('skill4_cost', 0)) { // 这里要写当前能否开技能的条件判断，比如魔力值至少要多少\n\t\tcore.setFlag('skill', 4); // 开技能4\n\t\tvar val = core.getFlag('skill4_val');\n\t\tcore.setFlag('skillName', '撕裂 ' + val); // 设置技能名\n\t} else {\n\t\tcore.drawTip(\"魔力不足，无法开启技能\");\n\t}\n} else { // 关闭技能\n\tcore.setFlag('skill', 0); // 关闭技能状态\n\tcore.setFlag('skillName', '无');\n}",I459:"var tmp = core.itemCount('I459');\nif (tmp >= 1000) {\n\tvar z = Math.floor(tmp / 1000);\n\tcore.getItem('I459', 1);\n\tcore.getItem('I459', -1000 * z);\n\tcore.getItem('I458', z);\n} else {\n\t// should never execute\n\tcore.getItem('I459', 1);\n\tcore.drawTip('无法合成。');\n}",I462:'core.insertAction({ "type": "setBlock", "number": "E461", "loc": [core.nextX(1), core.nextY(1)] });',tome:"if (core.status.hero.lv < 19)\n\tcore.status.hero.experience += 40000;\nelse\n\tcore.drawTip('没有效果。');",expelPoison:'// 直接判断是否可以使用即可\nvar curMana = core.status.hero.mana;\nvar cost = core.getFlag(\'expelPoison_cost\', 641);\nif (curMana >= cost) {\n\tvar temp = core.getFlag(\'poison_stack\', 0);\n\tif (temp == 0 && core.getFlag(\'in_chap4\', 0) == 0) {\n\t\tcore.insertAction([{ "type": "insert", "loc": [1, 0], "floorId": "EventMap" }]);\n\t} else {\n\t\tcore.status.hero.mana -= cost;\n\t\tif (temp > 0 && !core.getFlag("in_chap4"))\n\t\t\tcore.getItem(\'I459\', temp);\n\t\tcore.setFlag(\'poison_stack\', 0);\n\t\tcore.drawTip("你感觉很舒服。");\n\t\tcore.drawAnimate(\'light2\', core.status.hero.loc.x, core.status.hero.loc.y);\n\t}\n} else {\n\tcore.drawTip("魔法不足。");\n}',bring_hp:'var heal = core.getFlag(\'bring_hp_val\', 50000);\ncore.drawAnimate(\'heal\', core.status.hero.loc.x, core.status.hero.loc.y);\ncore.insertAction({ "type": "insert", "name": "增加HP", "args": [heal] });',bring_mana:"core.drawAnimate('mana_regen', core.status.hero.loc.x, core.status.hero.loc.y);\ncore.status.hero.mana += core.getFlag('bring_mana_val', 50);",invisibleWine:"core.setFlag('invisible', 1);\ncore.setOpacity('hero', 0.5);\ncore.setFlag('no_betweenAttack', true);\ncore.setFlag('no_zone', true);\ncore.setFlag('no_snipe', true);\ncore.setFlag('no_laser', true);\ncore.setFlag('no_ambush', true);",talent:'if (core.status.hero.lv < 24)\n\tcore.insertAction([{ "type": "insert", "loc": [0, 1], "floorId": "EventMap" }]);\nelse\n\tcore.insertAction([{ "type": "insert", "loc": [0, 4], "floorId": "EventMap" }]);',smallJump:'if (core.getFlag(\'after_final_boss\', 0)) {\n\tcore.insertAction("\\t[hero]闲的没事跳什么跳啊，赶快离开这。");\n} else if (core.status.floorId == "Chap3_boss") {\n\tcore.insertAction("此技能暂时不可用！");\n} else {\n\tcore.status.hero.mana -= core.getFlag(\'smallJump_cost\', 30);\n\tcore.insertAction({ "type": "jumpHero", "loc": [core.nextX(1), core.nextY(1)] });\n\n\tvar charge_ratio = core.getFlag(\'charge_ratio\', 0.02);\n\tvar charge_atk = core.getFlag(\'charge_atk\', 0);\n\tcore.setFlag(\'charge_atk\', Math.max(charge_atk - charge_ratio * core.status.hero.atk, 0));\n}',I_morph:'// 直接判断是否可以使用即可\nvar curMana = core.status.hero.mana;\nvar cost = core.getFlag(\'skill5_cost\', 641);\nif (curMana >= cost) {\n\tcore.status.hero.mana -= cost;\n\tcore.insertAction([{ "type": "insert", "loc": [12, 0], "floorId": "EventMap" }]);\n} else {\n\tcore.drawTip("魔法不足。");\n}',I_resetTalent:'core.insertAction([{ "type": "insert", "loc": [0, 7], "floorId": "EventMap" }]);\n\n/*var list = ["skill1_lv", "skill2_lv", "skill4_lv", "talent1_lv", "talent2_lv", "talent3_lv", "poison_lv"];\nfor (var i in list) {\n\tvar z = core.getFlag(list[i], 0);\n\tconsole.log(list[i], z);\n\tif (z > 0) {\n\t\tcore.addFlag(\'talentPoint\', z);\n\t\tcore.setFlag(list[i], 0);\n\t}\n}\ncore.setFlag(\'skill1_val\', 3.5);\ncore.setFlag(\'skill2_def_ratio\', 3);\ncore.setFlag(\'skill4_val\', 5);\ncore.setFlag(\'vampire_ratio\', 0.2);\ncore.setFlag(\'mana_regen\', 3);\ncore.setFlag(\'mdef_ratio\', 1.5);\ncore.drawTip(\'重置成功\');*/',I_morphed:'core.insertAction([\n\t"你现在对以下怪物特技免疫：吸血、苦痛、自爆，以及所有的地图伤害类技能，包括阻击、射击、夹击、领域以及它们的上位版本。",\n]);'},canUseItemEffect:{book:"true",fly:"(function () {\n\treturn core.status.hero.flyRange.indexOf(core.status.floorId)>=0;\n})();",pickaxe:"(function() {\n\tvar ids = [], id2s = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && core.nearHero(block.x, block.y) && \n\t\t\t(block.event.canBreak || block.event.id == 'yellowWall' || block.event.id=='whiteWall' || block.event.id=='blueWall')) { // 能破哪些墙\n\t\t\t// 四个方向\n\t\t\tif (core.flags.pickaxeFourDirections || (block.x == core.nextX() && block.y == core.nextY()))\n\t\t\t\tids.push(i);\n\t\t\telse id2s.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\treturn true;\n\t}\n\telse if (id2s.length==1) {\n\t\tcore.status.event.data = id2s;\n\t\treturn true;\n\t}\n\treturn false;\n})();",icePickaxe:"(function() {\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && block.x==core.nextX() && block.y==core.nextY() && block.event.id=='ice') {\n\t\t\tcore.status.event.data = [i];\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n})();",bomb:"(function () {\n\tvar ids = [], id2s = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && block.event.cls.indexOf('enemy')==0 && core.nearHero(block.x, block.y)) {\n\t\t\tvar enemy = core.material.enemys[block.event.id];\n\t\t\tif (core.isset(enemy) && enemy.notBomb) continue;\n\t\t\tif (core.flags.bombFourDirections || (block.x==core.nextX() && block.y==core.nextY()))\n\t\t\t\tids.push(i);\n\t\t\telse\n\t\t\t\tid2s.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\treturn true;\n\t}\n\tif (id2s.length==1) {\n\t\tcore.status.event.data = id2s;\n\t\treturn true;\n\t}\n\treturn false;\n})();",hammer:"(function() {\n\tvar ids = [], id2s = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && block.event.cls.indexOf('enemy')==0 && core.nearHero(block.x, block.y)) {\n\t\t\tvar enemy = core.material.enemys[block.event.id];\n\t\t\tif (core.isset(enemy) && enemy.notBomb) continue;\n\t\t\tif (block.x==core.nextX() && block.y==core.nextY())\n\t\t\t\tids.push(i);\n\t\t\telse\n\t\t\t\tid2s.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\treturn true;\n\t}\n\telse if (id2s.length==1) {\n\t\tcore.status.event.data = id2s;\n\t\treturn true;\n\t}\n\treturn false;\n})();",earthquake:"(function () {\n\tvar able=false;\n\tvar ids = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable &&\n\t\t\t(block.event.canBreak || block.event.id == 'yellowWall' || block.event.id == 'blueWall' || block.event.id == 'whiteWall')) { // 能炸的墙壁\n\t\t\tids.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\table=true;\n\t}\n\treturn able;\n})();",centerFly:"(function () {\n\tvar toX = (core.bigmap.width||13)-1-core.getHeroLoc('x'), toY = (core.bigmap.height||13)-1-core.getHeroLoc('y');\n\tvar id = core.getBlockId(toX, toY);\n\treturn id == null;\n})();",upFly:"(function() {\n\tvar floorId = core.status.floorId, index = core.floorIds.indexOf(floorId);\n\tif (index<core.floorIds.length-1) {\n\t\tvar toId = core.floorIds[index+1], toX = core.getHeroLoc('x'), toY = core.getHeroLoc('y');\n\t\tvar mw = core.floors[toId].width||13, mh = core.floors[toId].height||13;\n\t\tif (toX>=0 && toX<mw && toY>=0 && toY<mh && core.getBlock(toX, toY, toId)==null) {\n\t\t\tcore.status.event.data = {'id': toId, 'x': toX, 'y': toY};\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n})();",downFly:"(function() {\n\tvar floorId = core.status.floorId, index = core.floorIds.indexOf(floorId);\n\tif (index>0) {\n\t\tvar toId = core.floorIds[index-1], toX = core.getHeroLoc('x'), toY = core.getHeroLoc('y');\n\t\tvar mw = core.floors[toId].width||13, mh = core.floors[toId].height||13;\n\t\tif (toX>=0 && toX<mw && toY>=0 && toY<mh && core.getBlock(toX, toY, toId)==null) {\n\t\t\tcore.status.event.data = {'id': toId, 'x': toX, 'y': toY};\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n})();",snow:"(function () {\n\tvar ids = [], id2s = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && block.event.id == 'lava' && core.nearHero(block.x, block.y)) {\n\t\t\tif (core.flags.snowFourDirections || (block.x == core.nextX() && block.y == core.nextY()))\n\t\t\t\tids.push(i);\n\t\t\telse id2s.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\treturn true;\n\t}\n\tif (id2s.length==1) {\n\t\tcore.status.event.data = id2s;\n\t\treturn true;\n\t}\n\treturn false;\n})();",bigKey:"(function() {\n\tvar able=false, ids = [];\n\tfor (var i in core.status.thisMap.blocks) {\n\t\tvar block = core.status.thisMap.blocks[i];\n\t\tif (core.isset(block.event) && !block.disable && block.event.id == 'yellowDoor') {\n\t\t\tids.push(i);\n\t\t}\n\t}\n\tif (ids.length>0) {\n\t\tcore.status.event.data = ids;\n\t\table=true;\n\t}\n\treturn able;\n})();",poisonWine:"(function () {\n\treturn core.getFlag('poison_stack', 0) > 0;\n})();",weakWine:"(function () {\n\treturn core.getFlag('weak_stack', 0) > 0;\n})();",superWine:"(function() {\n\treturn core.hasFlag('poison') || core.hasFlag('weak') || core.hasFlag('curse');\n})();",jumpShoes:"(function() {\n\tvar nx=core.nextX(2), ny=core.nextY(2);\n\treturn nx>=0 && nx<core.bigmap.width && ny>=0 && ny<core.bigmap.height && core.getBlockId(nx,ny)==null;\n})();",redPotion:"true",bluePotion:"true",greenPotion:"true",yellowPotion:"true",redJewel:"true",blueJewel:"true",greenJewel:"true",yellowJewel:"true",skill1:"true",ex_atk:"true",ex_def:"true",I_ex_atk:true,I_ex_def:true,I_charge:true,I_charge2:true,I_vampire:true,I_hp_score:true,skill2:"true",skill3:"true",I_hard_1:true,I_hard_2:true,skill4:"true",I458:"false",I459:"(function () {\n\treturn core.itemCount('I459') >= 1000;\n})();",I462:"(function () {\n\tvar nx = core.nextX(1),\n\t\tny = core.nextY(1);\n\treturn nx >= 0 && nx < core.bigmap.width && ny >= 0 && ny < core.bigmap.height && core.getBlockId(nx, ny, null, true) == null;\n})();",tome:"true",coin:null,expelPoison:"true",bring_hp:"true",bring_mana:"(function () {\n\treturn core.status.hero.mana < core.status.hero.manamax;\n})();",invisibleWine:"(function () {\n\treturn core.getFlag('invisible', 0) == 0;\n})();",shield1:"false",talent:"true",smallJump:"(function () {\n\tvar nx = core.nextX(1),\n\t\tny = core.nextY(1);\n\tvar cost = core.getFlag('smallJump_cost', 30);\n\treturn nx >= 0 && nx < core.bigmap.width && ny >= 0 && ny < core.bigmap.height && core.getBlockId(nx, ny) == null && cost <= core.status.hero.mana;\n})();",talentPoint:null,I_morph:"(function () {\n\treturn core.getFlag('morph', 0) == 0 && core.getFlag('morph_cooldown', 0) == 0;\n})();",I_resetTalent:"true",I_morphed:"true"},canEquip:{},equipCondition:{I476:"(function () {\n\treturn core.status.hero.hp <= Math.floor(core.getRealStatusOrDefault(core.status.hero, 'hpmax') - 0.2 * core.status.hero.hpmax);\n})();",shield1:"false",shield2:"false",shield3:"false",shield4:"false",shield5:"false"}};var functions_d6ad677b_427a_4623_b50f_a445a3b0ef8a={events:{resetGame:function(d,c,a,f,g){core.clearStatus();core.status=core.clone(core.initStatus,function(h){return h!="hero"&&h!="maps"});core.status.played=true;core.status.hero=core.clone(d);core.events.setHeroIcon(core.getFlag("heroIcon","hero.png"),true);core.control._initStatistics(core.animateFrame.totalTime);core.status.hero.statistics.totalTime=core.animateFrame.totalTime=Math.max(core.status.hero.statistics.totalTime,core.animateFrame.totalTime);core.status.hero.statistics.start=null;core.status.hard=c||"";core.status.floorId=a;core.status.maps=f;core.material.enemys=core.enemys.getEnemys();core.material.items=core.items.getItems();core.items._resetItems();core.values=core.clone(core.data.values);for(var e in g||{}){core.values[e]=g[e]}core.flags=core.clone(core.data.flags);var b=core.getFlag("globalFlags",{});for(var e in b){core.flags[e]=b[e]}core._init_sys_flags();core.resize();core.updateGlobalAttribute();if(core.hasFlag("hideStatusBar")){core.hideStatusBar(core.hasFlag("showToolbox"))}else{core.showStatusBar()}core.dom.musicBtn.style.display="none"},setInitData:function(){if(core.status.hard=="Blind"){core.setFlag("hard",1);core.setItem("I_hard_1",1)}if(core.status.hard=="Easy"){core.setFlag("hard",2);core.setItem("I_hard_2",1)}if(core.status.hard=="Hard"){core.setFlag("hard",3)}core.setFlag("__visited__",{});core.updateEnemys()},win:function(b,a){core.ui.closePanel();var c=core.isReplaying();if(c){core.stopReplay()}core.waitHeroToStop(function(){core.clearMap("all");core.deleteAllCanvas();core.dom.gif2.innerHTML="";var e=core.status.hero.hp+core.getFlag("hp_score",0);var d="正在统计分数……\n溢出生命和剩余生命值共"+e+"点，转化为等量分数\n";if(b=="蓝海王中王"){e+=100000*core.itemCount("yellowKey");d+=core.itemCount("yellowKey")+"把黄钥匙，共"+100000*core.itemCount("yellowKey")+"分\n"}else{if(b=="红海王中王"){e+=1000000*core.itemCount("yellowKey")+4000000*core.itemCount("blueKey");d+=core.itemCount("yellowKey")+"把黄钥匙，共"+1000000*core.itemCount("yellowKey")+"分\n";d+=core.itemCount("blueKey")+"把蓝钥匙，共"+4000000*core.itemCount("blueKey")+"分\n";e+=2500*core.itemCount("coin")+1000000*core.itemCount("talentPoint")*core.itemCount("talentPoint");d+=core.itemCount("coin")+"金币，共"+2500*core.itemCount("coin")+"分\n";d+=core.itemCount("talentPoint")+"剩余天赋点，共"+1000000*core.itemCount("talentPoint")*core.itemCount("talentPoint")+"分\n"}}d+="总计分数："+e;core.setStatus("hpmax",-1);core.setStatus("hp",e);if(b=="血海王中王"){core.drawText(["\t[技不如人，如沐东风,I342]您好，这里是本游戏的作者。","\t[技不如人，如沐东风,I342]恭喜您在最高难度下取得了不亚于作者的成绩，请容辣鸡作者膜拜一下大佬。大佬如果有任何想法，不论话本身好听与否，辣鸡作者都希望您在评论区分享一下。辣鸡作者以后不会再造塔了，所以请不要给我留面子，您的意见很可能会对其他造塔者有很大帮助，相信我们有着共同的目的——以后能有更多高质量塔出现。","\t[技不如人，如沐东风,I342]感谢您玩到这里。",d,"\t["+(b||"恭喜通关")+"]你的分数是${status:hp}。"],function(){core.events.gameOver(b||"",c,a)})}else{if(b=="伯力征服者"&&core.getFlag("hard",0)==3){core.drawText(["\t[系统提示]恭喜您已通关最高难度。到这里相信您已经体会到，这个塔虽然初看上去比较恐怖，其实难度并不大。欢迎您到评论区发表看法。另外，如果您在最高难度的每个章节都打出不亚于作者的成绩，榜单会单独列出。","\t[系统提示]单独列出榜单的条件：\n萌新篇：回到莫家之前溢出生命值大于1500\n蓝海篇：踏入传送阵时溢出生命值大于17万，满血满蓝，黄钥匙至少6把\n红海篇：损失少于10万血击破大阵\n血海篇：击败孔阳后当前生命+溢出生命大于3.65亿",d,"\t["+(b||"恭喜通关")+"]你的分数是${status:hp}。"],function(){core.events.gameOver(b||"",c,a)})}else{core.drawText([d,"\t["+(b||"恭喜通关")+"]你的分数是${status:hp}。"],function(){core.events.gameOver(b||"",c,a)})}}})},lose:function(a){core.ui.closePanel();var b=core.isReplaying();core.stopReplay();core.waitHeroToStop(function(){core.drawText(["\t["+(a||"暴毙")+"]你去世了。\n如题。"],function(){core.events.gameOver(null,b)})})},changingFloor:function(d,f,e){var c=core.status.floorId||null;core.maps.resizeMap(d);if(!e){core.status.maps[d].blocks.forEach(function(h){if(h.disable&&core.enemys.hasSpecial(h.event.id,23)){h.disable=false}})}core.status.hero.loc=f;core.control.gatherFollowers();core.drawMap(d);if(core.status.maps[d].bgm){var a=core.status.maps[d].bgm;if(a instanceof Array){a=a[0]}core.playBgm(a)}var b=core.getFlag("__color__",null);if(!b&&core.status.maps[d].color){b=core.status.maps[d].color}core.clearMap("curtain");core.status.curtainColor=b;if(b){core.fillRect("curtain",0,0,core.__PIXELS__,core.__PIXELS__,core.arrayToRGBA(b))}var g=core.getFlag("__weather__",null);if(!g&&core.status.maps[d].weather){g=core.status.maps[d].weather}if(g){core.setWeather(g[0],g[1])}else{core.setWeather()}},afterChangeFloor:function(a,b){if(b){core.events.recoverEvents(core.getFlag("__events__"));core.removeFlag("__events__")}else{core.insertAction(core.floors[a].eachArrive);if(!core.hasVisitedFloor(a)){core.insertAction(core.floors[a].firstArrive);core.visitFloor(a)}}core.drawMap()},flyTo:function(e,a){var b=core.status.floorId;if(!core.status.maps[b].canFlyTo||!core.status.maps[e].canFlyTo){core.drawTip("无法飞往"+core.status.maps[e].title+"！");return false}var c=core.floorIds.indexOf(b),f=core.floorIds.indexOf(e);var d=c<=f?"downFloor":"upFloor";if(c==f&&core.status.maps[b].underGround){d="upFloor"}core.status.route.push("fly:"+e);core.ui.closePanel();core.changeFloor(e,d,null,null,a);return true},beforeBattle:function(f,m,n){if(m!=null&&n!=null){var j=m+","+n,b=core.status.checkBlock.cache[j]||{},g=b.guards||[];if(g.length>0){core.setFlag("__guards__"+m+"_"+n,g);var a=[];g.forEach(function(o){core.push(a,{type:"jump",from:[o[0],o[1]],to:[m,n],time:300,keep:false,async:true})});core.push(a,[{type:"waitAsync"},{type:"trigger",loc:[m,n]}]);core.insertAction(a);return false}}var h="";var i="hand";if(core.status.hero.lv>=10){i="attack2"}if(core.status.hero.lv>=19){i="attack3"}if(core.status.hero.lv>=24){i="attack4"}if(core.flags.enableSkill){var k=core.getFlag("skill",0);if(k==1){h="skill1"}else{if(k==2){h="skill2"}else{if(k==4){h="blood"}else{if(k==0){h=i}}}}}else{h=i}if(core.getFlag("morph",0)==1||core.getFlag("morph_chap3",0)){if(core.getFlag("skill",0)!=0){h="darkexplode"}else{h="morphattack"}}function d(o){core.drawAnimate(o!=null?o:h,m!=null?m:core.getHeroLoc("x"),n!=null?n:core.getHeroLoc("y"))}function c(o,p,q){if(o==null){d()}else{core.drawAnimate(o,p!=null?p:core.getHeroLoc("x"),q!=null?q:core.getHeroLoc("y"),d)}}var e=core.material.enemys[f];var l=e.special;if(f=="E572"||f=="E545"){c("sword4")}else{if(f=="E558"){c("sword5")}else{if(f=="E559"||f=="E560"||f=="E564"){c("fire")}else{if(f=="E561"||f=="E562"){c("thunder")}else{if(f=="darkKnight"){c("dark2")}else{if(f=="E543"){c("dark")}else{if(core.enemys.hasSpecial(l,143)){c("purify")}else{if(core.enemys.hasSpecial(l,132)){c("blackmagic")}else{if(core.enemys.hasSpecial(l,141)){c("thunder3")}else{if(core.enemys.hasSpecial(l,130)){c("sword1")}else{if(core.enemys.hasSpecial(l,19)){c("explosion")}else{if(core.enemys.hasSpecial(l,21)){c("tuihua")}else{if(core.enemys.hasSpecial(l,130)){c("sword2")}else{if(core.enemys.hasSpecial(l,131)){c("omnislash")}else{if(core.enemys.hasSpecial(l,128)){c("dark")}else{if(core.enemys.hasSpecial(l,9)){c("purify")}else{if(core.enemys.hasSpecial(l,11)){c("blood")}else{if(core.enemys.hasSpecial(l,12)){c("poison")}else{if(core.enemys.hasSpecial(l,13)){c("weak")}else{if(core.enemys.hasSpecial(l,14)||core.enemys.hasSpecial(l,109)){c("ice")}else{if(core.enemys.hasSpecial(l,103)){c("skill1")}else{if(core.enemys.hasSpecial(l,104)){c("sword3")}else{if(core.enemys.hasSpecial(l,108)){c("iceblast")}else{if(core.enemys.hasSpecial(l,110)){c("light")}else{if(core.enemys.hasSpecial(l,111)){c("dark")}else{if(core.enemys.hasSpecial(l,112)){c("xunjie")}else{if(core.enemys.hasSpecial(l,113)){c("xunjie",m,n)}else{if(core.enemys.hasSpecial(l,114)){c("xunjie",m,n)}else{if(core.enemys.hasSpecial(l,116)){c("xunjie")}else{if(core.enemys.hasSpecial(l,117)){c("heal",m,n)}else{if(core.enemys.hasSpecial(l,118)){c("darkattack",m,n)}else{if(core.enemys.hasSpecial(l,119)){c("light2")}else{if(core.enemys.hasSpecial(l,124)){c("explosion_small")}else{if(core.enemys.hasSpecial(l,126)){c("blood2")}else{c(null)}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return true},afterBattle:function(i,u,v,b){var h=core.material.enemys[i];var f=core.enemys.getDamage(i,u,v);if(f==null){f=core.status.hero.hp+1}core.status.hero.hp-=f;if(core.status.hero.hp>core.getRealStatusOrDefault(core.status.hero,"hpmax")){core.insertAction({type:"animate",name:"heal",loc:"hero",async:true});core.setFlag("hp_score",core.getFlag("hp_score",0)+core.status.hero.hp-core.getRealStatusOrDefault(core.status.hero,"hpmax"));core.status.hero.hp=core.getRealStatusOrDefault(core.status.hero,"hpmax")}core.status.hero.statistics.battleDamage+=f;core.status.hero.statistics.battle++;if(core.status.hero.hp<=0){core.status.hero.hp=0;core.updateStatusBar();core.events.lose("战斗失败");return}var k=[];if(u!=null&&v!=null){core.removeBlock(u,v);k=core.getFlag("__guards__"+u+"_"+v,[]);core.removeFlag("__guards__"+u+"_"+v)}var o=k.reduce(function(w,x){return w+core.material.enemys[x[2]].money},h.money);if(core.hasItem("coin")){o*=2}if(core.hasFlag("curse")){o=0}core.status.hero.money+=o;core.status.hero.statistics.money+=o;var j=k.reduce(function(w,x){return w+core.material.enemys[x[2]].experience},h.experience);core.status.hero.experience+=j;core.status.hero.statistics.experience+=j;var l="打败 "+h.name;if(core.flags.enableMoney){l+="，金币+"+o}if(core.flags.enableExperience){l+="，经验+"+j}core.drawTip(l);var t=[];var r=h.special;if(core.enemys.hasSpecial(r,12)){core.setFlag("poison_stack",core.getFlag("poison_stack",0)+h.poison)}if(core.getFlag("weak_stack",0)){core.setFlag("weak_stack",core.getFlag("weak_stack")-1)}if(core.enemys.hasSpecial(r,13)){core.setFlag("weak_stack",core.getFlag("weak_stack",0)+h.weak)}var a=Math.pow(0.95,core.getFlag("weak_stack",0));core.setBuff("atk",a);core.setBuff("def",a);if(core.enemys.hasSpecial(r,14)){core.setFlag("curse_stack",core.getFlag("curse_stack",0)+h.n)}if(core.enemys.hasSpecial(r,108)){core.setFlag("curse_stack",0)}if(core.enemys.hasSpecial(r,110)){core.setFlag("dark",core.getFlag("dark",0)-h.n)}if(core.enemys.hasSpecial(r,111)){core.setFlag("dark",core.getFlag("dark",0)+h.n)}if(core.enemys.hasSpecial(r,119)){core.setFlag("dark",0)}if(core.enemys.hasSpecial(r,109)){var n=core.enemys.getDamageInfo(h,null,u,v).turn;core.setFlag("curse_stack",core.getFlag("curse_stack",0)+n)}if(core.flags.hatredDecrease&&core.enemys.hasSpecial(r,17)){core.setFlag("hatred",Math.floor(core.getFlag("hatred",0)/2))}if(core.getFlag("morph",0)==0){if(core.enemys.hasSpecial(r,124)){core.status.hero.hp=Math.floor(core.status.hero.hp/2)}if(core.enemys.hasSpecial(r,19)){core.status.hero.hp=1}}if(core.enemys.hasSpecial(r,21)){core.status.hero.atk-=(h.atkValue||0);core.status.hero.def-=(h.defValue||0);core.status.hero.mdef-=(h.value||0);if(core.status.hero.atk<0){core.status.hero.atk=0}if(core.status.hero.def<0){core.status.hero.def=0}}if(core.enemys.hasSpecial(r,133)){core.addFlag("bo_hp",(h.bo_hp||0));core.addFlag("bo_atk",(h.bo_atk||0));core.addFlag("bo_def",(h.bo_def||0))}core.setFlag("hatred",core.getFlag("hatred",0)+core.values.hatred);if(core.flags.enableSkill){var q=core.getFlag("skill",0);if(q==1){core.status.hero.mana-=core.getFlag("skill1_cost",0)}else{if(q==2){core.status.hero.mana-=core.getFlag("skill2_cost",0)}else{if(q==4){core.status.hero.mana-=core.getFlag("skill4_cost",0)}}}core.setFlag("skill",0);core.setFlag("skillName","无")}core.status.hero.mana+=core.getFlag("mana_regen",0);if(core.hasItem("I_charge")){core.setFlag("charge_atk",0)}else{if(core.hasItem("I_charge2")){var d=core.getFlag("charge2_battle_extra",0);if(d>0){var e=core.getFlag("charge2_battle_extra_cur",0);var s=core.getFlag("charge2_battle_extra_max",0);var m=Math.min(d,s-e);core.setFlag("charge2_battle_extra_cur",e+m);core.setFlag("charge_atk",core.getFlag("charge_atk")+core.status.hero.atk*core.getFlag("charge_ratio",0.02)*m)}}}core.updateStatusBar();if(core.getFlag("invisible",0)){core.setFlag("invisible",0);core.setOpacity("hero",1);if(core.getFlag("hard")!=1){core.setFlag("no_zone",0);core.setFlag("no_snipe",0);core.setFlag("no_betweenAttack",0);core.setFlag("no_laser",0);core.setFlag("no_ambush",0)}else{core.setFlag("no_snipe",0);core.setFlag("no_ambush",0)}core.drawMap()}var g=core.getFlag("morph_duration");if(g>0){g--;core.setFlag("morph_duration",g);if(g==0){core.insertAction([{type:"insert",loc:[12,1],floorId:"EventMap"}])}}var c=core.getFlag("morph_cooldown",0);if(c>0){c--;core.setFlag("morph_cooldown",c);if(c==0){core.playSound("Darkness3.ogg");core.drawTip("【魔化】准备就绪。");core.getItem("I_morph_cooldown",-1);core.getItem("I_morph",1)}}var p=core.material.enemys[i].point;if(core.flags.enableAddPoint&&p>0){core.push(t,[{type:"insert",name:"加点事件",args:[p]}])}core.push(t,core.floors[core.status.floorId].afterBattle[u+","+v]);if(t.length>0){core.insertAction(t,u,v)}if(core.status.event.id==null){core.continueAutomaticRoute()}else{core.clearContinueAutomaticRoute()}if(b){b()}},afterOpenDoor:function(b,e,f,a){var d=[];var c=core.floors[core.status.floorId].afterOpenDoor[e+","+f];if(c){core.unshift(d,c)}if(d.length>0){core.insertAction(d,e,f)}if(core.status.event.id==null){core.continueAutomaticRoute()}else{core.clearContinueAutomaticRoute()}if(a){a()}},afterGetItem:function(c,e,f,a){if(c=="I_ex_atk"){core.playSound("005-System05.ogg")}else{if(c=="I_ex_def"){}else{if(c=="I_morphed"||c=="I_morph"||c=="I_morph_cooldown"){}else{core.playSound("item.mp3")}}}var d=[];var b=core.floors[core.status.floorId].afterGetItem[e+","+f];if(b){core.unshift(d,b)}if(d.length>0){core.insertAction(d,e,f)}if(a){a()}},afterChangeLight:function(a,b){},afterPushBox:function(){if(core.searchBlock("box").length==0){}},afterUseBomb:function(){},canUseQuickShop:function(a){if(core.status.thisMap.canUseQuickShop===false){return"当前楼层不能使用快捷商店。"}return null}},enemys:{getSpecials:function(){return[[1,"先攻","先发制人。怪物首先攻击。"],[2,"魔攻","穿透护甲直接造成伤害。怪物无视勇士的防御。","#b6b0ff"],[3,"坚固","勇士每次普通攻击最多只能对怪物造成1点伤害。","#b9822d"],[4,"2连击","怪物每回合攻击2次"],[5,"3连击","怪物每回合攻击3次"],[6,function(a){return(a.n||4)+"连击"},function(a){if(a.n>10){return"【血海奥义】天下武功，唯快不破\n怪物每回合攻击18次"}return"怪物每回合攻击"+(a.n||4)+"次"}],[7,"破甲",function(a){return"侵蚀对手的护甲。首回合怪物攻击时，附加勇士防御的"+Math.floor(100*a.value||0)+"%作为伤害"},"#b30000"],[8,"反伤",function(a){return"来犯之敌，自讨苦吃。勇士攻击时，攻击力的"+Math.floor(100*a.value||0)+"%也会同时伤害到自身，此伤害无视防御。"},"#bd26ce"],[9,"净化","【红海技能】用对手的护盾反制对手\n战斗前，怪物附加勇士护盾数值的"+core.values.purify+"倍作为伤害","#00d2d4"],[10,"模仿","【红海技能】遇弱则弱，遇强则强\n怪物的攻防与勇士基础攻防相等。","#ff00d2"],[11,function(a){if(a.value>=1){return"吸爆"}return"吸血"},function(a){var b="【红海技能】据说一些蓝海生物也能够掌握\n";if(a.value>=1){b="【血海奥义】吸干对手的血液\n"}return b+"战斗开始时，怪物首先将角色的"+Math.floor(100*a.value||0)+"%当前生命（约"+Math.floor((a.value||0)*core.getStatus("hp"))+"点）作为伤害"+(a.add?"，并把伤害数值加到自身生命上":"")},"#ff00d2"],[12,"中毒",function(a){return"【红海技能】战斗后，勇士陷入中毒状态，在接下来的战斗中每回合损失生命"+a.poison+"点，效果可叠加。"},"#4aff60"],[13,"衰弱",function(a){return"【红海技能】战斗后，勇士获得"+a.weak+"层衰弱状态，每层使得战斗中攻防下降"+(core.values.weakValue>=1?core.values.weakValue+"点":parseInt(core.values.weakValue*100)+"%")+"。每次战斗减少1层。"},"#feccd0"],[14,"霜寒",function(a){return"怪物对敌人施加霜寒诅咒。战斗后，你获得"+a.n+"层霜寒状态，每层使你普通攻击造成的伤害降低1%，加法叠加。"},"#747dff"],[15,"领域",function(a){if(core.getFlag("hard",0)==1){return"此难度下该属性无效！"}return"经过怪物周围"+(a.zoneSquare?"九宫格":"十字")+"范围内"+(a.range||1)+"格时自动减生命"+(a.value||0)+"点"}],[16,"夹击",function(a){if(core.getFlag("hard",0)==1){return"此难度下该属性无效！"}return"【红海技能】瞬间将对手打个半死\n经过两只相同的怪物中间，勇士生命值变成一半。"},"#ff00d2"],[17,"仇恨","战斗前，怪物附加之前积累的仇恨值作为伤害"+(core.flags.hatredDecrease?"；战斗后，释放一半的仇恨值":"")+"。（每杀死一个怪物获得"+(core.values.hatred||0)+"点仇恨值）"],[18,"阻击",function(a){return"经过怪物的十字领域时自动减生命"+(a.value||0)+"点，同时怪物后退一格"}],[19,"自爆","【血海奥义】同归于尽吧！\n战斗结束后，勇士的生命值变成1","#ff0000"],[20,"无敌","【？？？】无法认知的神秘力量\n勇士无法打败怪物，除非拥有[？？？]","#fbff00"],[21,"退化",function(a){return"【血海奥义】对敌人造成永久性不可逆的能力损伤\n战斗后勇士永久下降"+(a.atkValue||0)+"点攻击，"+(a.defValue||0)+"点防御，以及"+(a.value||0)+"点护盾"},"#ff0000"],[22,"固伤",function(a){return"【红海技能】不讲道理的生命扣除\n战斗结束前，怪物对勇士造成"+(a.damage||0)+"点固定伤害，无视勇士护盾和减伤效果。"}],[23,"重生","怪物被击败后，角色转换楼层则怪物将再次出现"],[24,"射击",function(a){if(core.getFlag("hard",0)==1){return"此难度下该属性无效！"}return"经过怪物同行或同列时自动减生命"+(a.value||0)+"点"}],[25,function(a){if(a.value){return"活力光环"}if(a.atkValue){return"狂暴光环"}if(a.defValue){return"坚毅光环"}},function(a){var b="同地图所有怪物";if(a.value){b+="生命提升"+(a.value||0)+"%，"}if(a.atkValue){b+="攻击提升"+(a.atkValue||0)+"%，"}if(a.defValue){b+="防御提升"+(a.defValue||0)+"%，"}b+=(a.add?"线性叠加":"不可叠加");return b},"#fff900"],[26,"支援","当周围一圈的怪物受到攻击时将上前支援，并组成小队战斗。"],[27,"捕捉","此怪物十分好战。当走到怪物周围十字时会强制进行战斗。"],[99,"闪避",function(a){return"躲闪一部分攻击。受到的普通攻击伤害降低"+(a.defValue||0)+"%。"},"#c3c3c3"],[100,"穿刺",function(a){return"攻击能够穿透一部分防御。无视对手"+(a.x||0)+"%的防御力。"}],[101,"夹爆",function(a){if(core.getFlag("hard",0)==1){return"此难度下该属性无效！"}return"【血海奥义】瞬间将对手打得奄奄一息\n经过两只相同的怪物中间，勇士生命值变成1。"},"#ff0000"],[102,"上位威压",function(b){var a=(b.value||0)-core.status.hero.lv;if(a>=0){return"以上位者的气质震慑对手。双方等级较高者每比对手高出一级，便在先前基础上进一步削弱对手"+Math.floor(b.n)+"%的攻防，当前对方比你高"+a+"级"}else{return"被上位者的气质震慑。双方等级较高者每比对手高出一级，便在先前基础上进一步削弱对手"+Math.floor(b.n)+"%的攻防，当前你比对方高"+-a+"级"}},"#b113ff"],[103,"强击",function(a){return"一次强力的攻击。怪物首回合获得"+(a.atkValue||0)+"倍攻击力。"},"#b30000"],[104,"斩杀",function(a){return"一旦对手势弱，攻击就会更加致命。战斗中，若勇士生命值低于"+(a.range||0)+"%，则怪物攻击力提升"+(a.n||0)+"%。"}],[105,"重甲",function(a){return"无视对手"+(a.defValue||0)+"%的攻击力。"},"#b9822d"],[106,"寒霜之足",function(a){return"危险的寒冰咒印。怪物前5回合每回合额外造成"+a.damage+"点伤害，然后冰封对方10回合。"},"#b30000"],[107,"冰封禁制",function(a){return"将敌人锁在冰块之中。怪物首先冰封对方3回合，每回合额外造成"+a.damage+"点伤害。"},"#b30000"],[108,"霜寒爆发","令敌人体内的霜寒尽数爆发。战斗开始时，立即清除勇士的所有霜寒状态，每驱除1层就会使勇士冰封1回合。","#43e2dc"],[109,"寒冰护甲","冷气贯穿全身。每受到1回合攻击就会使勇士获得1层霜寒状态，战斗后生效。","#747dff"],[110,"光明",function(a){return"战斗后，勇士获得"+a.n+"层光明状态，每层使得勇士受到和造成的伤害均提升1%，线性叠加。会与黑暗状态相抵消。"},"#FFFFFF"],[111,"黑暗",function(a){return"战斗后，勇士获得"+a.n+"层黑暗状态，每层使得勇士受到和造成的伤害均减少1%，线性叠加。会与光明状态相抵消。"},"#737373"],[112,"迅捷","迅捷的反应令对手猝不及防。怪物先攻10次。","#55ff72"],[113,"迟钝","迟钝的反应令自己猝不及防。勇士先攻10次。","#e0d42d"],[114,"智障","智力有严重缺陷。勇士先攻100次。","#aba222"],[115,"怒意狂击",function(a){return"攻击越发致命。怪物每回合提升"+a.v_115+"点攻击力"},"#f39f00"],[116,"魔爪","黑暗的力量使对手动弹不得。怪物先攻100次。","#8500b1"],[117,"神圣愈合","持续引导神圣的治愈之力。不攻击，每回合治愈自身10000点生命值。","#ffffff"],[118,"暗影庇护","隐藏于暗影之中。处于无敌状态，但每回合损耗自身2%的最大生命值。","#666666"],[119,"驱邪","使对方体内的不洁之力尽数爆发。战斗开始时驱除勇士的所有光明/黑暗状态，每驱除1层便额外造成64100点伤害。","#fff900"],[120,"魔免","免疫技能伤害。","#c3c3c3"],[121,"重伤",function(a){return"造成难以治愈的严重伤害。使对手受到的回复效果降低"+(a.v_121||0)+"%。"},"#b30000"],[122,"盛宴",function(a){return"【红海技能】撕扯对手的血肉\n每次攻击造成对方最大生命值"+(a.v_122||0)+"%的额外伤害。"},"#ff00d2"],[123,"竭心",function(a){if(core.getFlag("hard",0)==1){return"此难度下该属性无效！"}return"【红海技能】心脏慢慢停止跳动\n经过怪物周围"+(a.zoneSquare?"九宫格":"十字")+"范围内"+(a.range||1)+"格时自动减最大生命的"+(a.value||0)+"%"},"#78b305"],[124,"血怨","【红海技能】死亡的怨念缠绕着对手。似乎是某个血海奥义的劣化版本\n战斗结束后，勇士的生命值变成一半。","#ff00d2"],[125,"血域",function(a){if(core.getFlag("hard",0)==1){return"此难度下该属性无效！"}return"【红海技能】生命在流逝\n经过怪物周围"+(a.zoneSquare?"九宫格":"十字")+"范围内"+(a.range||1)+"格时自动减当前生命的"+(a.value||0)+"%"},"#ff00d2"],[126,"苦痛",function(a){return"【红海技能】引诱对手走向死亡\n战斗开始时，造成对方已损失生命值"+a.v_126+"%的伤害。"},"#ff00d2"],[127,"死亡镰刀",function(a){return"【红海技能】似乎是某个血海奥义的劣化版本。第5回合结束时，造成相当于对方已损失生命值100%的伤害。"},"#78b305"],[128,"邪恶净化","【血海奥义】运用至邪之力打击对手\n战斗开始前，暂时移除对方的所有护盾，并造成100万额外伤害。","#b113ff"],[130,"审判之剑","【血海奥义】传说此招曾经粉碎过一位魔王的复仇计划\n剥夺对手拥有的剑盾，且如果对方拥有“魔王”称号，则使其攻防减半","#ff0000"],[131,"无敌斩","【血海奥义】以无敌的姿态爆发出暴雨般的斩击\n战前以2倍攻击力先攻9次","#ff0000"],[132,"混乱","颠倒对手的能力。战斗中，勇士攻防互换","#c3c3c3"],[133,"伯化",function(b){var c="【血海奥义】伯力之神的力量\n战斗后，所有拥有该属性的怪物提升";var a="";if(b.bo_hp){a+=b.bo_hp+"点生命，"}if(b.bo_atk){a+=b.bo_atk+"点攻击力，"}if(b.bo_def){a+=b.bo_def+"点防御力，"}if(a){a+="可叠加。";c+=a;return c}return"【血海奥义】伯力之神的力量\n此怪物享受伯化加成，但战斗后不会提供额外伯化效果。"},"#eda6ff"],[134,"域爆",function(a){if(core.getFlag("hard",0)==1){return"此难度下该属性无效！"}return"【血海奥义】领域之极致\n经过怪物周围"+(a.zoneSquare?"九宫格":"十字")+"范围内"+(a.range||1)+"格时生命变为1点"},"#ff0000"],[135,"阻爆","【血海奥义】阻击之极致\n经过怪物的十字领域时生命变为1点，同时怪物后退一格","#ff0000"],[136,"射爆",function(a){if(core.getFlag("hard",0)==1){return"此难度下该属性无效！"}return"【血海奥义】射击之极致\n经过怪物同行或同列时生命变为1点"},"#ff0000"],[137,"超越","【血海奥义】遇弱则强，遇强则更强\n怪物的攻防是勇士基础攻防的1.2倍。","#4340ff"],[138,function(a){if(a.defValue>0){return"坚韧光环"}return"软弱光环"},function(a){var b=a.range*2+1;return(a.defValue>0?"增加":"减少")+"以自身为中心"+b+"*"+b+"范围内所有友军"+(Math.abs(a.defValue)||0)+"%的防御力，线性叠加。"},"#fff900"],[139,function(a){if(a.value>0){return"活力光环"}return"抑郁光环"},function(a){var b=a.range*2+1;return(a.value>0?"增加":"减少")+"以自身为中心"+b+"*"+b+"范围内所有友军"+(Math.abs(a.value)||0)+"%的生命，线性叠加。"},"#fff900"],[140,function(a){if(a.atkValue>0){return"狂暴光环"}return"衰退光环"},function(a){var b=a.range*2+1;return(a.atkValue>0?"增加":"减少")+"以自身为中心"+b+"*"+b+"范围内所有友军"+(Math.abs(a.atkValue)||0)+"%的攻击力，线性叠加。"},"#fff900"],[141,"中子束","【血海奥义】简单粗暴而威力巨大的攻击\n怪物每回合普攻2次，魔攻1次。","#e47400"],[142,"法力虚空","【血海奥义】敌人将因使用魔法而遭到惩戒\n瞬间造成对手最大生命值X%的伤害，X为已损失魔法的比例","#747dff"],[143,"净爆","【血海奥义】净化之极致\n战斗前，怪物使勇士护盾变为100倍，然后附加此时勇士护盾数值的"+core.values.purify+"倍作为伤害","#00d2d4"],[144,"崩甲","【血海奥义】相比净化爆发力较弱，但更加持久\n怪物每回合附加勇士战斗开始时的护盾数值的0.1倍作为伤害","#00d2d4"],]},getEnemyInfo:function(e,h,w,z,f){f=f||core.status.floorId;var k=core.getRealStatusOrDefault(h,"hp"),i=core.getRealStatusOrDefault(h,"atk"),j=core.getRealStatusOrDefault(h,"def"),l=core.getRealStatusOrDefault(h,"mdef");var r=e.hp,o=e.atk,p=e.def,u=e.special;var s=e.money,q=e.experience,t=e.point;if(core.hasSpecial(u,133)){r+=core.getFlag("bo_hp",0);o+=core.getFlag("bo_atk",0);p+=core.getFlag("bo_def",0)}if(core.hasSpecial(u,10)){o=i;p=j}if(core.hasSpecial(u,137)){o=1.2*i;p=1.2*j}var g=[];var v=function(){var x=["MT70","MT78","MT79","MT7A","MT80","MT87","MT88","MT89","MT90","Chap3_boss","MT100","MT102","MT103","MT104","MT105","MT106","MT108","MT109","MT110","MT111","MT113","MT114","MT115","MT116","MT118","MT119","MT120","Final"];return core.inArray(x,f)};if(v()){var m=0,a=0,d=0,c=0;var n=w!=null&&z!=null?(w+","+z):"floor";if(!core.status.checkBlock){core.status.checkBlock={}}if(!core.status.checkBlock.cache){core.status.checkBlock.cache={}}var b=core.status.checkBlock.cache[n];if(!b){core.status.maps[f].blocks.forEach(function(x){if(!x.disable){var A=x.event.id,y=core.material.enemys[A];if(y&&core.hasSpecial(y.special,25)){if(y.add||c==0){m+=y.value||0;a+=y.atkValue||0;d+=y.defValue||0;c++}}if(core.isset(y)&&core.hasSpecial(y.special,140)&&core.isset(w)&&core.isset(z)&&Math.abs(x.x-w)<=y.range&&Math.abs(x.y-z)<=y.range){a+=y.atkValue||0;c++}if(core.isset(y)&&core.hasSpecial(y.special,138)&&core.isset(w)&&core.isset(z)&&Math.abs(x.x-w)<=y.range&&Math.abs(x.y-z)<=y.range){d+=y.defValue||0;c++}if(core.isset(y)&&core.hasSpecial(y.special,139)&&core.isset(w)&&core.isset(z)&&Math.abs(x.x-w)<=y.range&&Math.abs(x.y-z)<=y.range){m+=y.value||0;c++}if(y&&core.hasSpecial(y.special,26)&&w!=null&&z!=null&&Math.abs(x.x-w)<=1&&Math.abs(x.y-z)<=1&&!(w==x.x&&z==x.y)){g.push([x.x,x.y,A])}}});core.status.checkBlock.cache[n]={hp_buff:m,atk_buff:a,def_buff:d,guards:g}}else{m=b.hp_buff;a=b.atk_buff;d=b.def_buff;g=b.guards}r*=(1+m/100);o*=(1+a/100);p*=(1+d/100)}return{hp:Math.floor(r),atk:Math.floor(o),def:Math.floor(p),money:Math.floor(s),experience:Math.floor(q),point:Math.floor(t),special:u,guards:g,}},getDamageInfo:function(j,u,aa,ab,m){m=m||core.status.floorId;var z=core.getRealStatusOrDefault(u,"hp"),v=core.getRealStatusOrDefault(u,"atk"),w=core.getRealStatusOrDefault(u,"def"),D=core.getRealStatusOrDefault(u,"mdef"),S=z,Q=v,R=w;var B=core.getRealStatusOrDefault(core.status.hero,"hpmax");var C=core.status.hero.lv;v+=core.getFlag("greenAtk",0);w+=core.getFlag("greenDef",0);z=Math.max(0,z);v=Math.max(0,v);w=Math.max(0,w);D=Math.max(0,D);var e=core.getFlag("dark",0);var h=1-0.01*e;var k=core.enemys.getEnemyInfo(j,u,aa,ab,m);var O=k.hp,L=k.atk,N=k.def,P=k.special;if(core.hasSpecial(P,102)){var K=(j.value||0)-C;if(K>=0){v*=Math.pow((1-j.n/100),K);w*=Math.pow((1-j.n/100),K)}else{L*=Math.pow((1-j.n/100),-K);N*=Math.pow((1-j.n/100),-K)}}if(core.getFlag("skill",0)==2){var f=core.getFlag("skill2_atk_ratio",0)*v;var H=f*core.getFlag("skill2_def_ratio");v-=f;w+=H}if(core.hasSpecial(P,132)){var X=w;w=v;v=X}if(core.hasSpecial(P,100)){w*=(1-(j.x/100))}if(core.hasSpecial(P,105)){v*=(1-(j.defValue/100))}if(core.getFlag("skill",0)==1){var l=(core.getFlag("skill1_val",2)-1)*v;if(core.hasSpecial(P,120)){l=0}l*=h;O-=l}if(core.hasSpecial(P,20)&&!core.hasItem("cross")){return null}var J=0;if(core.hasSpecial(P,119)){h=1;J+=64100*Math.abs(e)}if(core.hasSpecial(P,11)){var Z=z*j.value;if(core.getFlag("morph",0)){Z=0}Z=Math.floor(Z)||0;if(j.add){O+=Z}J+=Z}if(core.hasSpecial(P,126)&&!core.getFlag("morph",0)){J+=j.v_126/100*(B-z)}if(core.hasSpecial(P,128)){D=0;J+=1000000}if(core.hasSpecial(P,131)){J+=(L*2-w)*9}if(core.hasSpecial(P,142)){J+=B*(1-core.status.hero.mana/core.status.hero.manamax)}var T=L-w;if(core.hasSpecial(P,122)){T+=B*j.v_122/100}if(core.hasSpecial(P,2)){T=L}if(T<0){T=0}if(core.hasSpecial(P,4)){T*=2}if(core.hasSpecial(P,5)){T*=3}if(core.hasSpecial(P,6)){T*=(j.n||4)}if(core.hasSpecial(P,141)){T*=2;T+=L}if(core.hasSpecial(P,144)){T+=D*0.1}var a=0;if(core.hasSpecial(P,8)){a+=Math.floor(j.value*v)}if(core.hasSpecial(P,1)){J+=T}if(core.hasSpecial(P,112)){J+=10*T}if(core.hasSpecial(P,116)){J+=100*T}if(core.hasSpecial(P,9)){J+=Math.floor(core.values.purify*D)}if(core.hasSpecial(P,143)){J+=Math.floor(core.values.purify*D*100-D*99)}var E=Math.max(v-N,0);E*=h;var c=core.getFlag("curse_stack",0);if(core.hasSpecial(P,108)){J+=c*T;c=0}c=core.getFlag("curse_stack",0);if(c>0){E*=(1-0.01*c)}if(core.hasSpecial(P,99)){E*=(1-(j.defValue/100))}if(core.hasSpecial(P,3)){E=Math.min(E,1)}if(core.hasSpecial(P,113)){O-=10*E}if(core.hasSpecial(P,114)){O-=100*E}if(core.hasSpecial(P,117)){if(O>E){E-=10000}}if(E<=0&&O>0){return null}var Y=Math.ceil(O/E);if(core.hasItem("execute")){var U=core.getFlag("execute_percentage",20);var G=core.getFlag("execute_atk_percentage",30);var b=O;Y=0;while(b>0){b-=E;if(b/O<U/100){b-=G/100*E}Y++}}if(core.getFlag("skill",0)==4&&!core.hasSpecial(P,120)){var b=O;var o=core.getFlag("skill4_val",5)/100;Y=0;while(b>0){b*=(1-o);b-=E;if(core.hasItem("execute")){var U=core.getFlag("execute_percentage",20);var G=core.getFlag("execute_atk_percentage",30);if(b/O<U/100){b-=G/100*E}}Y++}}if(Y<1){Y=1}if(core.hasSpecial(P,7)&&Y>1){J+=Math.floor(j.value*w)}if(core.hasSpecial(P,103)&&Y>1){J+=j.atkValue*L-w;J-=Math.max(T,0)}if(core.hasSpecial(P,106)){J+=j.damage*(Math.min(Y,6)-1);if(Y>5){J+=10*T}}if(core.hasSpecial(P,107)){J+=3*j.damage;J+=3*T}if(core.hasSpecial(P,118)){Y=51}var q=core.getFlag("__guards__"+aa+"_"+ab,k.guards);var p=false;Y+=core.getFlag("__extraTurn__",0);if(q.length>0){if(!p){core.setFlag("__extraTurn__",Y)}for(var F=0;F<q.length;F++){var r=q[F][0],s=q[F][1],n=q[F][2];var I=core.enemys.getDamageInfo(core.material.enemys[n],{hp:S,atk:Q,def:R,mdef:0});if(I==null){return null}core.setFlag("__extraTurn__",I.turn);J+=I.damage}if(p){Y+=core.getFlag("__extraTurn__",0)}}core.removeFlag("__extraTurn__");var d=J+(Y-1)*T+Y*a;var V=core.getFlag("poison_stack",0);d+=V*Y;if(core.hasSpecial(P,115)&&Y>1){if(L-w>0){var W=Y-1;d+=W*(W+1)/2*j.v_115}else{var g=L-w;for(var ac=0;ac<Y-1;ac++){g+=j.v_115;d+=Math.max(g,0)}}}var t=1;if(core.hasSpecial(P,121)){t-=j.v_121/100}if(core.hasSpecial(P,104)&&Y>1){var b=z+D-J;var M=O;var V=core.getFlag("poison_stack",0);for(var F=1;F<=Y-1;F++){if(core.hasItem("I_vampire")){if(core.getFlag("skill",0)==1&&F==1&&!core.hasSpecial(P,120)){var l=(core.getFlag("skill1_val",3)-1)*v;b+=core.getFlag("vampire_ratio",0.2)*l*t}else{if(core.getFlag("skill",0)==4&&!core.hasSpecial(P,120)){var l=M*core.getFlag("skill4_val",5)/100;b+=core.getFlag("vampire_ratio",0.2)*l*t;M-=l;M-=E}}b+=core.getFlag("vampire_ratio",0.2)*E*t}var A=b/B;if(A<(j.range/100)){if(T>0){l=(j.n/100)*L}else{l=(1+(j.n/100))*L-w}d+=l}else{l=0}b-=T+l+V}}if(core.hasSpecial(P,127)&&Y>5){var b=z+D-J;var M=O;var V=core.getFlag("poison_stack",0);for(var F=1;F<=5;F++){if(core.hasItem("I_vampire")){if(core.getFlag("skill",0)==1&&F==1&&!core.hasSpecial(P,120)){var l=(core.getFlag("skill1_val",3)-1)*v;b+=core.getFlag("vampire_ratio",0.2)*l}else{if(core.getFlag("skill",0)==4&&!core.hasSpecial(P,120)){var l=M*core.getFlag("skill4_val",5)/100;b+=core.getFlag("vampire_ratio",0.2)*l;M-=l;M-=E}}b+=core.getFlag("vampire_ratio",0.2)*E}b-=T+V}d+=B-b}d*=h;d-=D*core.getFlag("mdef_ratio",1);d=Math.max(0,d);if(core.hasItem("I_vampire")){if(core.hasSpecial(P,118)){}else{d-=Math.floor(k.hp*core.getFlag("vampire_ratio",0.2))*t;if(core.hasSpecial(P,117)){d-=10000*core.getFlag("vampire_ratio",0.2)*Y*t}}}if(core.hasItem("I_hard_1")){d/=2}else{if(core.hasItem("I_hard_2")){d*=0.8}}return{mon_hp:Math.floor(O),mon_atk:Math.floor(L),mon_def:Math.floor(N),init_damage:Math.floor(J),per_damage:Math.floor(T),hero_per_damage:Math.floor(E),turn:Math.floor(Y),damage:Math.floor(d)}},updateEnemys:function(){}},actions:{onKeyUp:function(b,a){if(core.isMoving()){return}if(a&&b>=48&&b<=57){core.items.quickLoadEquip(b-48);return}switch(b){case 27:core.openSettings(true);break;case 88:core.openBook(true);break;case 71:core.useFly(true);break;case 65:core.doSL("autoSave","load");break;case 83:core.save(true);break;case 68:core.load(true);break;case 69:core.ui.drawCursor();break;case 84:core.openToolbox(true);break;case 81:core.openEquipbox(true);break;case 90:core.turnHero();break;case 75:case 86:core.openQuickShop(true);break;case 32:core.getNextItem();break;case 82:core.actions._clickSyncSave_replay();break;case 33:case 34:core.ui.drawMaps();break;case 77:core.ui.drawPaint();break;case 66:core.ui.drawStatistics();break;case 72:core.ui.drawHelp();break;case 78:core.confirmRestart();break;case 79:core.actions._clickGameInfo_openProject();break;case 80:core.actions._clickGameInfo_openComments();break;case 49:if(core.hasItem("bring_hp")&&core.canUseItem("bring_hp")){core.status.route.push("key:49");core.useItem("bring_hp",true)}else{if(core.hasItem("pickaxe")&&core.canUseItem("pickaxe")){core.status.route.push("key:49");core.useItem("pickaxe",true)}}break;case 55:core.getNextItem();break;case 118:core.debug();break;case 50:if(core.hasItem("skill1")){core.status.route.push("key:50");core.useItem("skill1",true)}break;case 51:if(core.hasItem("skill2")){core.status.route.push("key:51");core.useItem("skill2",true)}break;case 52:if(core.hasItem("skill3")){core.status.route.push("key:52");core.useItem("skill3",true)}else{if(core.hasItem("skill4")){core.status.route.push("key:52");core.useItem("skill4",true)}}break;case 53:if(core.hasItem("I_morph")){core.status.route.push("key:53");core.useItem("I_morph",true)}break;case 87:if(core.hasItem("smallJump")){core.status.route.push("key:87");core.useItem("smallJump",true)}break;case 56:if(core.hasItem("bring_mana")){core.status.route.push("key:56");core.useItem("bring_mana",true)}break}}},control:{saveData:function(){var c=core.clone(core.status.hero),b=core.utils.hashCode(c);var f={};for(var d in core.values){if(!core.same(core.values[d],core.data.values[d])){f[d]=core.clone(core.values[d])}}var a={floorId:core.status.floorId,hero:c,hard:core.status.hard,maps:core.maps.saveMap(),route:core.encodeRoute(core.status.route),values:f,shops:{},version:core.firstData.version,time:new Date().getTime(),hashCode:b};for(var e in core.status.shops){a.shops[e]={times:core.status.shops[e].times||0,visited:core.status.shops[e].visited||false}}return a},loadData:function(b,a){core.resetGame(b.hero,b.hard,b.floorId,core.maps.loadMap(b.maps),b.values);core.status.route=core.decodeRoute(b.route);for(var d in core.status.shops){if(b.shops[d]){core.status.shops[d].times=b.shops[d].times;core.status.shops[d].visited=b.shops[d].visited}}core.status.textAttribute=core.getFlag("textAttribute",core.status.textAttribute);var e=core.getFlag("globalAttribute",core.status.globalAttribute);if(!core.same(e,core.status.globalAttribute)){core.status.globalAttribute=e;core.updateGlobalAttribute()}core.events.setVolume(core.getFlag("__volume__",1),0);var c=core.getFlag("heroIcon","hero.png");c=core.getMappedName(c);if(core.material.images.images[c]){core.material.images.hero=core.material.images.images[c];core.material.icons.hero.width=core.material.images.images[c].width/4;core.material.icons.hero.height=core.material.images.images[c].height/4}core.updateEnemys();if(core.getFlag("invisible",0)==1){core.setOpacity("hero",0.5)}else{core.setOpacity("hero",1)}core.setFlag("lastTime",0);core.setFlag("lastWeatherTime",0);core.changeFloor(b.floorId,null,b.hero.loc,0,function(){if(a){a()}},true)},updateStatusBar:function(){core.events.checkLvUp();if(core.flags.enableHPMax){core.setStatus("hp",Math.min(core.getStatus("hpmax"),core.getStatus("hp")))}if(core.status.floorId){core.setStatusBarInnerHTML("floor",core.status.maps[core.status.floorId].name)}core.setStatusBarInnerHTML("name",core.getStatus("name"));core.setStatusBarInnerHTML("lv",core.getLvName());var d=["hpmax","hp","mana","atk","def","mdef","money","experience"];d.forEach(function(f){core.status.hero[f]=Math.floor(core.status.hero[f]);core.setStatusBarInnerHTML(f,core.getRealStatus(f));if(f=="atk"){var e=0;if(core.hasItem("I_ex_atk")){e+=core.getFlag("lastAtk",0)*0.1}if(core.hasItem("I_charge")||core.hasItem("I_charge2")){e+=core.getFlag("charge_atk",0)}e=Math.floor(e);core.setFlag("greenAtk",e);var g=core.getRealStatus(f)+e;core.setStatusBarInnerHTML(f,core.formatBigNumber(g))}else{if(f=="def"&&core.hasItem("I_ex_def")){core.setStatusBarInnerHTML(f,core.formatBigNumber(core.getRealStatus(f))+'<font color="#00FF00">+'+String(Math.floor(core.getFlag("lastDef",0)*0.2))+"</font>")}}});if(core.flags.enableMana){if(core.status.hero.manamax!=null&&core.status.hero.manamax>=0){core.status.hero.mana=Math.min(core.status.hero.mana,core.status.hero.manamax);core.setStatusBarInnerHTML("mana",core.status.hero.mana+"/"+core.status.hero.manamax)}else{core.setStatusBarInnerHTML("mana",core.status.hero.mana)}}if(core.flags.enableSkill){core.setStatusBarInnerHTML("skill",core.getFlag("skillName","无"))}if(core.flags.enableLevelUp&&core.status.hero.lv<core.firstData.levelUp.length){var c=core.calValue(core.firstData.levelUp[core.status.hero.lv].need);if(core.flags.levelUpLeftMode){core.setStatusBarInnerHTML("up",core.formatBigNumber(c-core.getStatus("experience"))||"")}else{core.setStatusBarInnerHTML("up",core.formatBigNumber(c)||"")}}else{core.setStatusBarInnerHTML("up","")}var b=["yellowKey","blueKey","redKey"];b.forEach(function(e){core.setStatusBarInnerHTML(e,core.setTwoDigits(core.itemCount(e)))});if(core.flags.enableDebuff){if(core.getFlag("poison_stack",0)){core.setStatusBarInnerHTML("poison","毒 "+core.getFlag("poison_stack",0))}else{var a=core.getFlag("dark",0);if(a>0){core.setStatusBarInnerHTML("poison","暗 "+a,"color: black")}else{if(a<0){core.setStatusBarInnerHTML("poison","光 "+(-a),"color: white")}else{core.setStatusBarInnerHTML("poison","")}}}if(core.getFlag("weak_stack",0)>0){core.setStatusBarInnerHTML("weak","衰 "+core.getFlag("weak_stack",0))}else{core.setStatusBarInnerHTML("weak","")}core.setStatusBarInnerHTML("curse",core.getFlag("curse_stack",0)>0?"寒 "+core.getFlag("curse_stack",0):"","color: #6C87FF")}if(core.flags.enablePZF){core.setStatusBarInnerHTML("pickaxe","破"+core.itemCount("pickaxe"));core.setStatusBarInnerHTML("bomb","炸"+core.itemCount("bomb"));core.setStatusBarInnerHTML("fly","飞"+core.itemCount("centerFly"))}core.statusBar.hard.innerHTML=core.status.hard;core.drawStatusBar();core.updateCheckBlock();core.updateDamage()},updateCheckBlock:function(m){m=m||core.status.floorId;if(!m||!core.status.maps){return}var F=core.floors[m].width,n=core.floors[m].height;var c=core.getMapBlocksObj(m);var f={},D={},B={},a={};for(var r in c){var b=c[r],G=b.x,H=b.y,o=b.event.id,j=core.material.enemys[o];if(o=="lavaNet"&&b.event.trigger=="passNet"&&!core.hasItem("shoes")){f[r]=(f[r]||0)+core.values.lavaDamage;D[r]="血网伤害"}if(j&&!core.hasFlag("no_zone")&&(core.hasSpecial(j.special,15)||core.hasSpecial(j.special,123)||core.hasSpecial(j.special,125)||core.hasSpecial(j.special,134))){var u=j.range||1;var I=false;if(j.zoneSquare!=null){I=j.zoneSquare}for(var h=-u;h<=u;h++){for(var i=-u;i<=u;i++){if(h==0&&i==0){continue}var s=G+h,t=H+i,e=s+","+t;if(s<0||s>=F||t<0||t>=n){continue}if(!I&&Math.abs(h)+Math.abs(i)>u){continue}if(core.hasSpecial(j.special,15)){f[e]=(f[e]||0)+(j.value||0)}else{if(core.hasSpecial(j.special,123)){f[e]=(f[e]||0)+Math.floor(core.getRealStatusOrDefault(core.status.hero,"hpmax")*j.value/100||0)}else{if(core.hasSpecial(j.special,125)){f[e]=(f[e]||0)+Math.floor(core.status.hero.hp*j.value/100||0)}else{if(core.hasSpecial(j.special,134)){f[e]=Math.max((f[e]||0),core.status.hero.hp-1)}}}}D[e]="领域伤害"}}}if(j&&!core.hasFlag("no_snipe")&&(core.hasSpecial(j.special,18)||core.hasSpecial(j.special,135))){for(var g in core.utils.scan){var s=G+core.utils.scan[g].x,t=H+core.utils.scan[g].y,e=s+","+t;if(s<0||s>=F||t<0||t>=n){continue}if(core.hasSpecial(j.special,18)){f[e]=(f[e]||0)+(j.value||0)}else{if(core.hasSpecial(j.special,135)){f[e]=Math.max((f[e]||0),core.status.hero.hp-1)}}D[e]="阻击伤害";var v=core.reverseDirection(g);var z=G+core.utils.scan[v].x,A=H+core.utils.scan[v].y;if(z>=0&&z<F&&A>=0&&A<n&&core.getBlock(z,A,m)==null){B[e]=(B[e]||[]).concat([[G,H,o,v]])}}}if(j&&!core.hasFlag("no_laser")&&(core.hasSpecial(j.special,24)||core.hasSpecial(j.special,136))){for(var s=0;s<F;s++){var e=s+","+H;if(s!=G){if(core.hasSpecial(j.special,24)){f[e]=(f[e]||0)+(j.value||0)}else{if(core.hasSpecial(j.special,136)){f[e]=Math.max((f[e]||0),core.status.hero.hp-1)}}D[e]="激光伤害"}}for(var t=0;t<n;t++){var e=G+","+t;if(t!=H){if(core.hasSpecial(j.special,24)){f[e]=(f[e]||0)+(j.value||0)}else{if(core.hasSpecial(j.special,136)){f[e]=Math.max((f[e]||0),core.status.hero.hp-1)}}D[e]="激光伤害"}}}if(j&&core.enemys.hasSpecial(j.special,27)&&!core.hasFlag("no_ambush")){for(var g in core.utils.scan){var s=G+core.utils.scan[g].x,t=H+core.utils.scan[g].y,e=s+","+t;if(s<0||s>=F||t<0||t>=n){continue}a[e]=(a[e]||[]).concat([[G,H,o,g]])}}}if(!core.hasFlag("no_betweenAttack")){for(var G=0;G<F;G++){for(var H=0;H<n;H++){var r=G+","+H;var D=0;var l=null;var p=c[(G-1)+","+H],w=c[(G+1)+","+H];if(p&&w&&p.id==w.id){if(core.hasSpecial(p.event.id,16)){l=p.event.id;D=0}else{if(core.hasSpecial(p.event.id,101)){l=p.event.id;D=1}}}var C=c[G+","+(H-1)],d=c[G+","+(H+1)];if(C&&d&&C.id==d.id){if(core.hasSpecial(C.event.id,16)){l=C.event.id;D=0}else{if(core.hasSpecial(C.event.id,101)){l=C.event.id;D=1}}}if(l!=null){f[r]=f[r]||0;var q=core.status.hero.hp-f[r];if(q>1){if(D==1){f[r]=Math.max(f[r],core.status.hero.hp-1)}else{var E=Math.floor((q+(core.flags.betweenAttackCeil?1:0))/2);if(core.flags.betweenAttackMax){var k=core.getDamage(l,G,H,m);if(k!=null&&k<E){E=k}}f[r]+=E}D[r]="夹击伤害"}}}}}core.status.checkBlock={damage:f,type:D,snipe:B,ambush:a,cache:{}}},moveOneStep:function(f,g){if(core.hasItem("I_charge")){var b=core.getFlag("charge_point",5);var e=core.getFlag("last_direction",null);var d=core.status.hero.loc.direction;if(e!=d){core.setFlag("charge_atk",0)}var a=core.getFlag("charge_atk",0);core.setFlag("charge_atk",a+b);core.setFlag("last_direction",d)}else{if(core.hasItem("I_charge2")){var c=core.getFlag("charge_ratio",0.02);var e=core.getFlag("last_direction",null);var d=core.status.hero.loc.direction;if(e!=d){core.setFlag("charge_atk",0);core.setFlag("charge2_battle_extra_cur",0)}var a=core.getFlag("charge_atk",0);core.setFlag("charge_atk",a+c*core.status.hero.atk);core.setFlag("last_direction",d)}}core.setHeroLoc("x",f,true);core.setHeroLoc("y",g,true);core.status.hero.steps++;core.updateFollowers();core.drawHero();if(core.hasFlag("poison")){core.status.hero.statistics.poisonDamage+=core.values.poisonDamage;core.status.hero.hp-=core.values.poisonDamage;if(core.status.hero.hp<=0){core.status.hero.hp=0;core.updateStatusBar();core.events.lose();return}}core.updateStatusBar()},moveDirectly:function(c,d){var a=core.canMoveDirectly(c,d);if(a>=0){core.clearMap("hero");var b=core.status.route[core.status.route.length-1];if(["left","right","up","down"].indexOf(b)>=0){core.setHeroLoc("direction",b)}core.setHeroLoc("x",c);core.setHeroLoc("y",d);core.drawHero();core.status.route.push("move:"+c+":"+d);core.status.hero.statistics.moveDirectly++;core.status.hero.statistics.ignoreSteps+=a;core.setFlag("charge_atk",0);core.setFlag("charge2_battle_extra_cur",0);core.updateStatusBar();return true}return false},parallelDo:function(timestamp){if(!core.isPlaying()){return}if(core.status.floorId){try{eval(core.floors[core.status.floorId].parallelDo)}catch(e){main.log(e)}}}},ui:{drawStatusBar:function(){if(!core.flags.statusCanvas){return}var a=core.dom.statusCanvas,b=core.dom.statusCanvasCtx;b.clearRect(0,0,a.width,a.height);if(!core.domStyle.showStatusBar){return}b.fillStyle=core.status.globalAttribute.statusBarColor||core.initStatus.globalAttribute.statusBarColor;b.font="italic bold 18px Verdana";var d=6,i=9,e=39;if(core.domStyle.isVertical){d=6;i=6;e=32}var h=["floor","hp","atk","def","mdef","money"];for(var c=0;c<h.length;c++){var f=h[c];b.drawImage(core.statusBar.icons[f],d,i,25,25);var g=(core.statusBar[f]||{}).innerText||" ";if(!/^[-a-zA-Z0-9`~!@#$%^&*()_=+\[{\]}\\|;:'",<.>\/?]*$/.test(g)){b.font="bold 18px Verdana"}b.fillText(g,d+36,i+20);b.font="italic bold 18px Verdana";if(core.domStyle.isVertical){if(c%3!=2){d+=131}else{d=6;i+=e}}else{i+=e}}b.fillStyle="#FFCCAA";b.fillText(core.statusBar.yellowKey.innerText,d+5,i+20);b.fillStyle="#AAAADD";b.fillText(core.statusBar.blueKey.innerText,d+40,i+20);b.fillStyle="#FF8888";b.fillText(core.statusBar.redKey.innerText,d+75,i+20)},drawStatistics:function(){return["yellowDoor","blueDoor","redDoor","greenDoor","steelDoor","yellowKey","blueKey","redKey","greenKey","steelKey","redJewel","blueJewel","greenJewel","yellowJewel","I349","I350","I351","I352","I353","I354","I355","I356","I357","I358","I359","I360","redPotion","bluePotion","yellowPotion","greenPotion","superPotion","I454","I455","I456","I457",]},drawAbout:function(){core.ui.closePanel();core.lockControl();core.status.event.id="about";var c=48,f=36,d=core.__PIXELS__-2*c,a=core.__PIXELS__-2*f;core.setAlpha("ui",0.85);core.fillRect("ui",c,f,d,a,"#000000");core.setAlpha("ui",1);core.strokeRect("ui",c-1,f-1,d+1,a+1,"#FFFFFF",2);var e=c+24;core.setTextAlign("ui","left");var b=(core.status.globalAttribute||core.initStatus.globalAttribute).font;core.fillText("ui","HTML5 魔塔样板",e,f+35,"#FFD700","bold 22px "+b);core.fillText("ui","版本： "+main.__VERSION__,e,f+80,"#FFFFFF","bold 17px "+b);core.fillText("ui","作者： 艾之葵",e,f+112);core.fillText("ui","HTML5魔塔交流群：539113091",e,f+112+32)}}};var events_c12a15a8_c380_4b28_8144_256cba95f760={commonEvent:{"加点事件":[{type:"comment",text:"通过传参，flag:arg1表示当前应该的加点数值"},{type:"choices",choices:[{text:"攻击+${1*flag:arg1}",action:[{type:"setValue",name:"status:atk",value:"status:atk+1*flag:arg1"}]},{text:"防御+${2*flag:arg1}",action:[{type:"setValue",name:"status:def",value:"status:def+2*flag:arg1"}]},{text:"生命+${200*flag:arg1}",action:[{type:"setValue",name:"status:hp",value:"status:hp+200*flag:arg1"}]}]}],"毒衰咒处理":[{type:"comment",text:"获得毒衰咒效果，flag:arg1为要获得的类型"},{type:"switch",condition:"flag:arg1",caseList:[{"case":"0",action:[{type:"comment",text:"获得毒效果"},{type:"if",condition:"!flag:poison","true":[{type:"setValue",name:"flag:poison",value:"true"}],"false":[]}]},{"case":"1",action:[{type:"comment",text:"获得衰效果"},{type:"if",condition:"!flag:weak","true":[{type:"setValue",name:"flag:weak",value:"true"},{type:"if",condition:"core.values.weakValue>=1","true":[{type:"comment",text:">=1：直接扣数值"},{type:"addValue",name:"status:atk",value:"-core.values.weakValue"},{type:"addValue",name:"status:def",value:"-core.values.weakValue"}],"false":[{type:"comment",text:"<1：扣比例"},{type:"function","function":"function(){\ncore.addBuff('atk', -core.values.weakValue);\n}"},{type:"function","function":"function(){\ncore.addBuff('def', -core.values.weakValue);\n}"}]}],"false":[]}]},{"case":"2",action:[{type:"comment",text:"获得咒效果"},{type:"if",condition:"!flag:curse","true":[{type:"setValue",name:"flag:curse",value:"true"}],"false":[]}]}]}],"滑冰事件":[{type:"comment",text:"公共事件：滑冰事件"},{type:"if",condition:"core.canMoveHero()","true":[{type:"comment",text:"检测下一个点是否可通行"},{type:"setValue",name:"flag:nx",value:"core.nextX()"},{type:"setValue",name:"flag:ny",value:"core.nextY()"},{type:"if",condition:"core.noPass(flag:nx, flag:ny)","true":[{type:"comment",text:"不可通行，触发下一个点的事件"},{type:"trigger",loc:["flag:nx","flag:ny"]}],"false":[{type:"comment",text:"可通行，先移动到下个点，然后检查阻激夹域，并尝试触发该点事件"},{type:"moveHero",time:80,steps:["forward"]},{type:"function","function":"function(){\ncore.checkBlock();\n}"},{type:"comment",text:"【触发事件】如果该点存在事件则会立刻结束当前事件"},{type:"trigger",loc:["flag:nx","flag:ny"]},{type:"comment",text:"如果该点不存在事件，则继续检测该点是否是滑冰点"},{type:"if",condition:"core.getBgNumber() == 167","true":[{type:"function","function":'function(){\ncore.insertAction("滑冰事件",null,null,null,true)\n}'}],"false":[]}]}],"false":[]}],"回收钥匙商店":[{type:"comment",text:"此事件在全局商店中被引用了(全局商店keyShop1)"},{type:"comment",text:"解除引用前勿删除此事件"},{type:"comment",text:"玩家在快捷列表（V键）中可以使用本公共事件"},{type:"while",condition:"1",data:[{type:"choices",text:"\t[商人,woman]你有多余的钥匙想要出售吗？",choices:[{text:"黄钥匙（10金币）",color:[255,255,0,1],action:[{type:"if",condition:"item:yellowKey >= 1","true":[{type:"addValue",name:"item:yellowKey",value:"-1"},{type:"addValue",name:"status:money",value:"10"}],"false":["\t[商人,woman]你没有黄钥匙！"]}]},{text:"蓝钥匙（50金币）",color:[0,0,255,1],action:[{type:"if",condition:"item:blueKey >= 1","true":[{type:"addValue",name:"item:blueKey",value:"-1"},{type:"addValue",name:"status:money",value:"50"}],"false":["\t[商人,woman]你没有蓝钥匙！"]}]},{text:"离开",action:[{type:"exit"}]}]}]}],"增加HP":[{type:"function","function":'function(){\n// 由于通过insertAction调用这段会导致吃血瓶可能有短暂卡顿感，所以这段直接写在了血瓶的拾取效果里面，只有最后一区的“蓝神”实际调用了这里\nvar heal = core.getFlag(\'arg1\', 0);\nvar realhpmax = core.getRealStatusOrDefault(core.status.hero, \'hpmax\');\nvar overheal = heal - (realhpmax - core.status.hero.hp);\nif (overheal > 0) {\n\tcore.insertAction({ "type": "animate", "name": "heal", "loc": "hero", "async": true });\n\tcore.addFlag(\'hp_score\', overheal);\n}\ncore.status.hero.hp += heal;\nif (core.status.hero.hp > realhpmax) {\n\tcore.status.hero.hp = realhpmax;\n}\n}'}]}};var plugins_bb40132b_638b_4a9f_b028_d3fe47acc8d1={init:function(){this._afterLoadResources=function(){};core.utils.setStatusBarInnerHTML=function(d,f,a){if(!core.statusBar[d]){return}if(typeof f=="number"){f=this.formatBigNumber(f)}var b=/^[-a-zA-Z0-9`~!@#$%^&*()_=+\[{\]}\\|;:'",<.>\/?]*$/.test(f);var e="font-style: "+(b?"italic":"normal")+"; ";var c=this.strlen(f)||1;e+="font-size: "+Math.min(1,7/c)+"em; ";if(d=="lv"){e+='font-family: "黑体";';if(f=="萌新五段"||f=="萌新六段"||f=="萌新七段"){e+="color: #56dc56;"}else{if(f=="萌新八段"||f=="萌新九段"||f=="蓝海一阶"||f=="蓝海二阶"){e+="color: #6b68ff;"}else{if(f=="蓝海三阶"||f=="蓝海四阶"||f=="蓝海五阶"||f=="蓝海六阶"||f=="蓝海七阶"||f=="蓝海八阶"||f=="蓝海九阶"||f=="蓝海巅峰"){e+="color: #b343e2;"}else{if(f=="红海低阶"||f=="红海中阶"||f=="红海高阶"||f=="红海巅峰"||f=="半步血海"){e+="color: #ff8be0;"}else{if(f=="血海初成"||f=="血海大成"||f=="血海圆满"){e+="color: #ff4040;"}}}}}}if(a){e+=a}core.statusBar[d].innerHTML="<span class='_status' style='"+e+"'>"+f+"</span>"};core.control.checkBlock=function(){var c=core.getHeroLoc("x"),d=core.getHeroLoc("y"),b=c+","+d;var a=core.status.checkBlock.damage[b];if(a){core.status.hero.hp-=a;core.drawTip("受到"+(core.status.checkBlock.type[b]||"伤害")+a+"点");if(core.status.hero.hp==1){core.drawAnimate("explosion",c,d)}else{core.drawAnimate("zone",c,d)}this._checkBlock_disableQuickShop();core.status.hero.statistics.extraDamage+=a;if(core.status.hero.hp<=0){core.status.hero.hp=0;core.updateStatusBar();core.events.lose();return}}this._checkBlock_snipe(core.status.checkBlock.snipe[b]);this._checkBlock_ambush(core.status.checkBlock.ambush[b])};core.enemys._getCurrentEnemys_sort=function(a){return a.sort(function(c,d){if(c.damage==d.damage){return c.experience-d.experience}if(c.damage==null){return 1}if(d.damage==null){return -1}return c.damage-d.damage})}},drawLight:function(){this.drawLight=function(e,a,d,c){var b=core.getContextByName(e);if(b==null){if(typeof e=="string"){b=core.createCanvas(e,0,0,core.__PIXELS__,core.__PIXELS__,98)}else{return}}b.mozImageSmoothingEnabled=false;b.webkitImageSmoothingEnabled=false;b.msImageSmoothingEnabled=false;b.imageSmoothingEnabled=false;core.clearMap(e);if(a==null){a=0.9}b.fillStyle="rgba(0,0,0,"+a+")";b.fillRect(0,0,b.canvas.width,b.canvas.height);c=core.clamp(c,0,1);b.globalCompositeOperation="destination-out";d.forEach(function(h){var j=h[0],k=h[1],i=h[2];var f=parseInt(i*c);var g=b.createRadialGradient(j,k,f,j,k,i);g.addColorStop(0,"rgba(0,0,0,1)");g.addColorStop(1,"rgba(0,0,0,0)");b.beginPath();b.fillStyle=g;b.arc(j,k,i,0,2*Math.PI);b.fill()});b.globalCompositeOperation="source-over"}},drawHero:function(){core.control.drawHero=function(k,h){if(!core.isPlaying()||!core.status.floorId||core.status.gameOver){return}var m=core.getHeroLoc("x"),n=core.getHeroLoc("y"),c=core.getHeroLoc("direction");k=k||"stop";h=h||0;var l=core.utils.scan[c];var d=l.x,e=l.y,i=d*h,j=e*h;core.bigmap.offsetX=core.clamp((m-core.__HALF_SIZE__)*32+i,0,32*core.bigmap.width-core.__PIXELS__);core.bigmap.offsetY=core.clamp((n-core.__HALF_SIZE__)*32+j,0,32*core.bigmap.height-core.__PIXELS__);core.clearAutomaticRouteNode(m+d,n+e);core.clearMap("hero");var a=core.getFlag("bgLight",[]);var b=core.getFlag("darkRatio",0);var f=core.getFlag("heroLight",0);var g=core.getFlag("lightRadius",0);this._drawHero_getDrawObjs(c,m,n,k,h).forEach(function(o){core.drawImage("hero",o.img,o.heroIcon[o.status]*o.width,o.heroIcon.loc*o.height,o.width,o.height,o.posx+(32-o.width)/2,o.posy+32-o.height,o.width,o.height);if(f){a.push([o.posx+16,o.posy+32-o.height+16,g]);core.plugin.drawLight("curtain",b,a);a.pop()}});core.control.updateViewport()}},setBgLight:function(){this.setBgLight=function(a){core.setFlag("bgLight",a!=null?a:[]);core.drawMap()}},specialColor:function(){core.ui._drawBook_drawRow1=function(g,e,j,h,k,i){core.setTextAlign("ui","left");var a=this._buildFont(13,true),f=this._buildFont(13,false);var b=h,c=h+k*9/25,d=h+k*17/25;core.fillText("ui","生命",b,i,"#A0F753",f);core.fillText("ui",core.formatBigNumber(e.hp||0),b+30,i,null,a);core.fillText("ui","攻",c,i,"#FF5555",f);core.fillText("ui",core.formatBigNumber(e.atk||0),c+15,i,null,a);core.fillText("ui","防",d,i,"#45D1E0",f);core.fillText("ui",core.formatBigNumber(e.def||0),d+15,i,null,a)};core.ui._drawBook_drawName=function(d,b,h,e,j){core.setTextAlign("ui","center");var a="#DDDDDD";var i=b.level;if(i=="萌新五段"||i=="萌新六段"||i=="萌新七段"){a="#56dc56"}else{if(i=="萌新八段"||i=="萌新九段"||i=="蓝海一阶"||i=="蓝海二阶"){a="#6b68ff"}else{if(i=="蓝海三阶"||i=="蓝海四阶"||i=="蓝海五阶"||i=="蓝海六阶"||i=="蓝海七阶"||i=="蓝海八阶"||i=="蓝海九阶"||i=="蓝海巅峰"){a="#b343e2"}else{if(i=="红海低阶"||i=="红海中阶"||i=="红海高阶"||i=="红海巅峰"||i=="半步血海"){a="#ff8be0"}else{if(i=="血海初成"||i=="血海大成"||i=="血海圆满"||i=="血海王者"){a="#ff4040"}}}}}var c=function(n){var l=core.enemys.getSpecials();for(var o=0;o<l.length;o++){var m=l[o];if(typeof(function(){})==typeof(m[1])){m[1]=m[1](b)}if(n==m[1]){if(m.length>3){return m[3]}else{return"#FF6A6A"}}}return"#FF6A6A"};if(b.specialText==""){core.fillText("ui",b.name,e+j/2,h+27,"#DDDDDD",this._buildFont(17,true));core.fillText("ui",b.level,e+j/2,h+51,a,this._buildFont(14,true))}else{core.fillText("ui",b.name,e+j/2,h+20,"#DDDDDD",this._buildFont(17,true));var k=b.specialText.indexOf(" ");if(k==-1){core.fillText("ui",b.specialText,e+j/2,h+38,c(b.specialText),this._buildFont(14,true))}else{var f=b.specialText.substr(0,k);var g=b.specialText.substr(k+2);core.fillText("ui",f,e+j/4,h+38,c(f),this._buildFont(14,true));core.fillText("ui",g,e+j*7/10,h+38,c(g),this._buildFont(14,true))}core.fillText("ui",b.level,e+j/2,h+56,a,this._buildFont(14,true))}};core.ui.drawBookDetail=function(k){var l=this._drawBookDetail_getInfo(k),h=l[0];if(!h){return}var i=l[0].special;if(typeof(i)==typeof(1)){i=[i]}var a=core.enemys.getSpecials();var c=[];var n=0;for(var q=0;q<a.length;q++){var g=a[q];if(i[n]==g[0]){if(g.length>3){c.push(a[q][3])}else{c.push("#FF6A6A")}n++}}var d=l[1].join("\n");core.status.event.id="book-detail";clearInterval(core.interval.tipAnimate);core.clearMap("data");var m=10,t=this.PIXEL-2*m,o=m+t;var e=m+25,s=o-e-13;var f=core.splitLines("data",d,s,this._buildFont(16,false));var j=Math.max(24*f.length+55,80),r=(this.PIXEL-j)/2,b=r+j;core.setAlpha("data",0.9);core.fillRect("data",m,r,t,j,"#000000");core.setAlpha("data",1);core.strokeRect("data",m-1,r-1,t+1,j+1,core.status.globalAttribute.borderColor,2);this._drawBookDetail_drawContent(h,f,{top:r,content_left:e,bottom:b},c)};core.ui._drawBookDetail_drawContent=function(d,c,h,a){core.setTextAlign("data","left");core.fillText("data",d.name,h.content_left,h.top+30,"#FFD700",this._buildFont(22,true));var b=h.top+57;var k=0;for(var e=0;e<c.length;e++){var l=c[e];var f=l.indexOf("：");if(f>=0){var m=l.substring(0,f+1);var j="";if(k<a.length){j=a[k]}else{j="#FF6A6A"}core.fillText("data",m,h.content_left,b,j,this._buildFont(16,true));var g=core.calWidth("data",m);core.fillText("data",l.substring(f+1),h.content_left+g,b,"#FFFFFF",this._buildFont(16,false));k++}else{core.fillText("data",c[e],h.content_left,b,"#FFFFFF",this._buildFont(16,false))}b+=24}};core.ui._drawBook_drawDamage=function(d,c,e,f){core.setTextAlign("ui","center");var b=c.damage,a="#FFFF00";if(b==null){b="无法战斗";a="#FF0000"}else{if(b>=core.status.hero.hp){a="#FF0000"}if(b<=0){a="#00FF00"}b=core.formatBigNumber(b);if(core.enemys.hasSpecial(c,124)||core.enemys.hasSpecial(c,19)){b+="+"}if(core.enemys.hasSpecial(c,126)||core.enemys.hasSpecial(c,127)){b+="-"}if(core.enemys.hasSpecial(c,11)){b+="^"}if(core.enemys.hasSpecial(c,122)){b+="*"}if(core.enemys.hasSpecial(c,14)||core.enemys.hasSpecial(c,109)){b+="~"}}if(c.notBomb){b+="[b]"}core.fillText("ui",b,e,f,a,this._buildFont(13,true))};core.enemys.getDamageString=function(c,e,f,d){if(typeof c=="string"){c=core.material.enemys[c]}var b=this.getDamage(c,e,f,d);var a="#000000";if(b==null){b="???";a="#FF0000"}else{if(b<=0){a="#00FF00"}else{if(b<core.status.hero.hp/3){a="#FFFFFF"}else{if(b<core.status.hero.hp*2/3){a="#FFFF00"}else{if(b<core.status.hero.hp){a="#FF7F00"}else{a="#FF0000"}}}}b=core.formatBigNumber(b,true);if(core.enemys.hasSpecial(c,124)||core.enemys.hasSpecial(c,19)){b+="+"}if(core.enemys.hasSpecial(c,126)||core.enemys.hasSpecial(c,127)){b+="-"}if(core.enemys.hasSpecial(c,11)){b+="^"}if(core.enemys.hasSpecial(c,122)){b+="*"}if(core.enemys.hasSpecial(c,14)||core.enemys.hasSpecial(c,109)){b+="~"}}return{damage:b,color:a}};core.ui._drawBookDetail_turnAndCriticals=function(c,d,e){var b=core.getDamageInfo(c,null,null,null,d);e.push("战斗回合数："+((b||{}).turn||0));var a=core.enemys.nextCriticals(c,5,null,null,d).map(function(f){return core.formatBigNumber(f[0])+":"+core.formatBigNumber(f[1])});while(a[0]=="0:0"){a.shift()}e.push("临界表："+JSON.stringify(a))}},setToolBarButton:undefined,checkMonster:function(){this.checkMonster=function(c){var e=[];var a=0;for(var d in c){var b=c[d];if(core.enemys.getCurrentEnemys(b).length>0){core.status.maps[b].blocks.forEach(function(f){if(core.isset(f.event)&&!f.disable){var h=f.event.id,g=core.material.enemys[h];if(core.isset(g)){a++;if(g.name in e){e[g.name]++}else{e[g.name]=1}}}})}}core.setFlag("remainMonsterInfo",this.printMonsterInfo(e));core.setFlag("remainMonsterCount",a);return};this.printMonsterInfo=function(a){var b="";for(var c in a){var d=a[c];b+="\n"+c+" * "+d}return b}}};